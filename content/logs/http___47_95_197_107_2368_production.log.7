{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2e479f40-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","method":"GET","originalUrl":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","params":{},"headers":{"x-forwarded-for":"14.17.37.68","x-real-ip":"14.17.37.68","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","accept-encoding":"gzip","user-agent":"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/534.13 (KHTML, like Gecko) Chrome/9.0.597.107 Safari/534.13","x-busid":"0","x-openfrequencylimit":"0","x-openshield":"0","x-requestfrom":"0"},"body":{},"query":{"nsukey":"o85Kvugp/zuPjeoq/8rxbpmFuLCvbfw+Vel/VF4oe4YjfmplO1zT+pbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y/Zh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE+r9rMtx+hw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"83ms"},"msg":"","time":"2017-09-29T00:36:06.666Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2ed53940-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","method":"GET","originalUrl":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","params":{},"headers":{"x-forwarded-for":"113.108.11.50","x-real-ip":"113.108.11.50","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","accept-charset":"iso-8859-1,*,utf-8","accept-encoding":"gzip","accept-language":"en-us,en","user-agent":"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36","useragent":"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36"},"body":{},"query":{"nsukey":"o85Kvugp/zuPjeoq/8rxbpmFuLCvbfw+Vel/VF4oe4YjfmplO1zT+pbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y/Zh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE+r9rMtx+hw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T00:36:07.534Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2edc1710-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"163.177.93.241","x-real-ip":"163.177.93.241","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/vnd.wap.wml,text/html,application/vnd.wap.xhtml+xml,application/xhtml+xml","accept-charset":"gb2312,iso8859-1,utf-8","accept-encoding":"gzip,deflate","q-ua":"KQB22_GA/220020&KMTT_3/200020&JV2&151920&SunMicrosystemswtk&0&4309&V3","user-agent":"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9b4) Gecko/2008030317 Firefox/3.0b4"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"24ms"},"msg":"","time":"2017-09-29T00:36:07.577Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2edfe7a0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"183.232.118.14","x-real-ip":"183.232.118.14","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/vnd.wap.wml,text/html,application/vnd.wap.xhtml+xml,application/xhtml+xml","accept-charset":"gb2312,iso8859-1,utf-8","accept-encoding":"gzip,deflate","q-ua":"KQB22_GA/220020&KMTT_3/200020&JV2&151920&SunMicrosystemswtk&0&4309&V3","user-agent":"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9b4) Gecko/2008030317 Firefox/3.0b4"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"18ms"},"msg":"","time":"2017-09-29T00:36:07.597Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2ee65040-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"14.17.44.216","x-real-ip":"14.17.44.216","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","accept-charset":"iso-8859-1,*,utf-8","accept-encoding":"gzip","accept-language":"en-us,en","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","user-agent":"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T00:36:07.621Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2ee5db10-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"113.108.0.15","x-real-ip":"113.108.0.15","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","accept-charset":"iso-8859-1,*,utf-8","accept-encoding":"gzip","accept-language":"en-us,en","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","user-agent":"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"7ms"},"msg":"","time":"2017-09-29T00:36:07.625Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2ee69e60-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/infinitescroll.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/infinitescroll.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"14.17.44.106","x-real-ip":"14.17.44.106","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","accept-charset":"iso-8859-1,*,utf-8","accept-encoding":"gzip","accept-language":"en-us,en","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","user-agent":"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"8d6-15ec766fb30\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"6ms"},"msg":"","time":"2017-09-29T00:36:07.628Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2ee761b0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"14.17.34.237","x-real-ip":"14.17.34.237","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css,*/*;q=0.1","accept-charset":"iso-8859-1,*,utf-8","accept-encoding":"gzip","accept-language":"en-us,en","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","user-agent":"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T00:36:07.631Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2f45d560-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","method":"GET","originalUrl":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","upgrade-insecure-requests":"1","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_3 like Mac OS X) AppleWebKit/603.3.8 (KHTML, like Gecko) Mobile/14G60 MicroMessenger/6.5.15 NetType/WIFI Language/zh_CN","accept-language":"zh-cn","accept-encoding":"gzip, deflate"},"body":{},"query":{"nsukey":"o85Kvugp/zuPjeoq/8rxbpmFuLCvbfw+Vel/VF4oe4YjfmplO1zT+pbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y/Zh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE+r9rMtx+hw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"23ms"},"msg":"","time":"2017-09-29T00:36:08.270Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2f4debb0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css,*/*;q=0.1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_3 like Mac OS X) AppleWebKit/603.3.8 (KHTML, like Gecko) Mobile/14G60 MicroMessenger/6.5.15 NetType/WIFI Language/zh_CN","accept-language":"zh-cn","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T00:36:08.303Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2f5035a0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_3 like Mac OS X) AppleWebKit/603.3.8 (KHTML, like Gecko) Mobile/14G60 MicroMessenger/6.5.15 NetType/WIFI Language/zh_CN","accept-language":"zh-cn","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T00:36:08.315Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2f50aad0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/infinitescroll.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/infinitescroll.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_3 like Mac OS X) AppleWebKit/603.3.8 (KHTML, like Gecko) Mobile/14G60 MicroMessenger/6.5.15 NetType/WIFI Language/zh_CN","accept-language":"zh-cn","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"8d6-15ec766fb30\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T00:36:08.319Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2f519530-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_3 like Mac OS X) AppleWebKit/603.3.8 (KHTML, like Gecko) Mobile/14G60 MicroMessenger/6.5.15 NetType/WIFI Language/zh_CN","accept-language":"zh-cn","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T00:36:08.325Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2f52a6a0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png,image/svg+xml,image/*;q=0.8,*/*;q=0.5","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_3 like Mac OS X) AppleWebKit/603.3.8 (KHTML, like Gecko) Mobile/14G60 MicroMessenger/6.5.15 NetType/WIFI Language/zh_CN","accept-language":"zh-cn","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\"","content-type":"image/jpeg","content-length":21595},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T00:36:08.332Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2f52cdb0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png,image/svg+xml,image/*;q=0.8,*/*;q=0.5","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_3 like Mac OS X) AppleWebKit/603.3.8 (KHTML, like Gecko) Mobile/14G60 MicroMessenger/6.5.15 NetType/WIFI Language/zh_CN","accept-language":"zh-cn","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\"","content-type":"image/png","content-length":227974},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T00:36:08.335Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3fac4a10-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","method":"GET","originalUrl":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","params":{},"headers":{"x-forwarded-for":"117.185.27.114","x-real-ip":"117.185.27.114","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Linux; U; Android 4.4.4; zh-CN; Coolpad Y82-520 Build/KTU84P) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 UCBrowser/10.9.8.738 U3/0.8.0 Mobile Safari/534.30","accept":"*/*","accept-encoding":"gzip, deflate, sdch, br","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4"},"body":{},"query":{"nsukey":"o85Kvugp/zuPjeoq/8rxbpmFuLCvbfw+Vel/VF4oe4YjfmplO1zT+pbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y/Zh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE+r9rMtx+hw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"26ms"},"msg":"","time":"2017-09-29T00:36:35.788Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3fc8d2c0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"117.185.27.114","x-real-ip":"117.185.27.114","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Linux; U; Android 6.0.1; zh-cn; OPPO R9s Build/MMB29M) AppleWebKit/537.36 (KHTML, like Gecko)Version/4.0 Chrome/37.0.0.0 MQQBrowser/7.2 Mobile Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate, sdch, br","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T00:36:35.950Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"40003670-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"117.185.27.114","x-real-ip":"117.185.27.114","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Linux; U; Android 4.4.4; zh-CN; Coolpad Y82-520 Build/KTU84P) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 UCBrowser/10.9.8.738 U3/0.8.0 Mobile Safari/534.30","accept":"*/*","accept-encoding":"gzip, deflate, sdch, br","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T00:36:36.315Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"401963c0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/infinitescroll.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/infinitescroll.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"117.185.27.114","x-real-ip":"117.185.27.114","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Linux; U; Android 4.4.4; zh-CN; HUAWEI ALE-CL00 Build/HuaweiALE-CL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.3.0.907 Mobile Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate, sdch, br","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"8d6-15ec766fb30\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T00:36:36.480Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8212bba0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"18ec-REm7EI5PRNQBPOX3tazx112V2MA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"47ms"},"msg":"","time":"2017-09-29T00:38:27.210Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8210bfd0-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/authentication/revoke","method":"POST","originalUrl":"/ghost/api/v0.1/authentication/revoke","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"275","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/x-www-form-urlencoded","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"token_type_hint":"access_token","token":"T5OllfaDNrfpJadEh4P5xnjhurUsjKDl9u7U263FG3rRhm6g6GjsJ1RmeXn5Jrwb8NRzOgmOoiTanf9jfrAQC4KlTyPOskl4wSdI1ZlyolIk1huTnCo9ZYBRQAutDJfPHNz3Vq7PoNzIvrMF6N4Uy95yaFDLVObYcMinp28MBpXSvUsPM5LZBpFzZcxGT4p","client_id":"ghost-admin","client_secret":"e7e8e511f0c9"},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","content-type":"application/json; charset=utf-8","content-length":"203","etag":"W/\"cb-TXPk/1BmAHE0FKIcWCLUsEECOsE\""},"statusCode":200,"responseTime":"64ms"},"msg":"","time":"2017-09-29T00:38:27.213Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"82121f60-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/authentication/revoke","method":"POST","originalUrl":"/ghost/api/v0.1/authentication/revoke","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"276","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/x-www-form-urlencoded","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"token_type_hint":"refresh_token","token":"HqX32tAssD2Gdx9t3o7PF5cjtdUPt89HdkDvkpkZaqtsITEWKhIdEEHVNzdO3SQaRgVLBYHvYG5LdeJR5wsK8icrmTUB32LDTz3nEwp2JNRGm6pRpxmlGYuDB5yYg4KNiYOrbewehsLqXqsiNEuHjlnkSO1ge2lNikmEkdUVOHqaH3CLUJbUxrSihApQePD","client_id":"ghost-admin","client_secret":"e7e8e511f0c9"},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","content-type":"application/json; charset=utf-8","content-length":"203","etag":"W/\"cb-0VaVp5RlAkVtYeGCYVD36zwy8tk\""},"statusCode":200,"responseTime":"58ms"},"msg":"","time":"2017-09-29T00:38:27.216Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"821d9110-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"statusCode":304,"responseTime":"23ms"},"msg":"","time":"2017-09-29T00:38:27.257Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"82258050-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/ghost/","params":{"0":"/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","accept-ranges":"bytes","last-modified":"Tue, 26 Sep 2017 05:55:30 GMT","etag":"W/\"d3e-15ebcc12c50\"","content-type":"text/html; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"4ms"},"msg":"","time":"2017-09-29T00:38:27.290Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"828ec970-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/configuration/","method":"GET","originalUrl":"/ghost/api/v0.1/configuration/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","app-pragma":"no-cache","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","content-type":"application/json; charset=UTF-8","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"332","etag":"W/\"14c-weLJ0SrbCHNnBbxCHcrQWt9PAc8\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"4ms"},"msg":"","time":"2017-09-29T00:38:27.980Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"82955920-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/authentication/setup/","method":"GET","originalUrl":"/ghost/api/v0.1/authentication/setup/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","app-pragma":"no-cache","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","content-type":"application/json; charset=UTF-8","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"27","etag":"W/\"1b-06ef8FdrIIahUXEQyo6H3V0+dJg\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"7ms"},"msg":"","time":"2017-09-29T00:38:28.026Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"829902a0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"statusCode":304,"responseTime":"20ms"},"msg":"","time":"2017-09-29T00:38:28.063Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":50,"req":{"meta":{"requestId":"8802a930-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/authentication/token","method":"POST","originalUrl":"/ghost/api/v0.1/authentication/token","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"123","origin":"http://47.95.197.107","app-pragma":"no-cache","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","content-type":"application/x-www-form-urlencoded","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"grant_type":"password","username":"10041051@buaa.edu.cn"},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"124","etag":"W/\"7c-ivmlgJsSiTOhqS5rH3IOo3nuoXE\"","vary":"Accept-Encoding"},"statusCode":422,"responseTime":"165ms"},"err":{"id":"881baf70-a4ae-11e7-ad29-7b3837c864ae","domain":"http://47.95.197.107:2368","code":"PASSWORD_INCORRECT","name":"ValidationError","statusCode":422,"level":"normal","message":"Your password is incorrect.","context":"Your password is incorrect.","help":"Visit and save your profile after logging in to check for problems.","stack":"ValidationError: Your password is incorrect.\n    at new ValidationError (/home/www/ghost/node_modules/ghost-ignition/lib/errors/index.js:115:23)\n    at /home/www/ghost/core/server/models/user.js:718:39\n    at tryCatcher (/home/www/ghost/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/home/www/ghost/node_modules/bluebird/js/release/promise.js:512:31)\n    at Promise._settlePromise (/home/www/ghost/node_modules/bluebird/js/release/promise.js:569:18)\n    at Promise._settlePromise0 (/home/www/ghost/node_modules/bluebird/js/release/promise.js:614:10)\n    at Promise._settlePromises (/home/www/ghost/node_modules/bluebird/js/release/promise.js:693:18)\n    at Promise._fulfill (/home/www/ghost/node_modules/bluebird/js/release/promise.js:638:18)\n    at /home/www/ghost/node_modules/bluebird/js/release/nodeback.js:42:21\n    at /home/www/ghost/node_modules/bcryptjs/dist/bcrypt.js:297:21\n    at /home/www/ghost/node_modules/bcryptjs/dist/bcrypt.js:1353:21\n    at Immediate.next (/home/www/ghost/node_modules/bcryptjs/dist/bcrypt.js:1233:21)\n    at runCallback (timers.js:672:20)\n    at tryOnImmediate (timers.js:645:5)\n    at processImmediate [as _immediateCallback] (timers.js:617:5)"},"msg":"Your password is incorrect.","time":"2017-09-29T00:38:37.292Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8b2b1250-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/authentication/token","method":"POST","originalUrl":"/ghost/api/v0.1/authentication/token","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"121","origin":"http://47.95.197.107","app-pragma":"no-cache","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","content-type":"application/x-www-form-urlencoded","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"grant_type":"password","username":"10041051@buaa.edu.cn"},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-store","content-type":"application/json","pragma":"no-cache","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"144ms"},"msg":"","time":"2017-09-29T00:38:42.567Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8b443fa0-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/me/?include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/me/?include=roles","params":{"id":"me"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"796","etag":"W/\"31c-KzL2Lq8M8Shuc1f662Y7uBD9IxQ\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"29ms"},"msg":"","time":"2017-09-29T00:38:42.616Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8b45ed50-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/settings/?type=blog%2Ctheme%2Cprivate","method":"GET","originalUrl":"/ghost/api/v0.1/settings/?type=blog%2Ctheme%2Cprivate","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"type":"blog,theme,private"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"10f9-XUW7FwCmrbQLro66S0+SS7DhAZM\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"20ms"},"msg":"","time":"2017-09-29T00:38:42.618Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8b5c8290-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/notifications/","method":"GET","originalUrl":"/ghost/api/v0.1/notifications/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"20","etag":"W/\"14-rGnko0plFblBZ6cCxL9htMA8NKo\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"20ms"},"msg":"","time":"2017-09-29T00:38:42.766Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8b5b7120-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"30","page":"1","status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"8819-qS0l6kQoxkfUwBhBPI+ayxXmX/s\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"34ms"},"msg":"","time":"2017-09-29T00:38:42.773Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8b697ae0-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/configuration/private/","method":"GET","originalUrl":"/ghost/api/v0.1/configuration/private/","params":{"key":"private"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"20","etag":"W/\"14-PQTWA9/xhQpZZaiEQQdpzDore8A\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"4ms"},"msg":"","time":"2017-09-29T00:38:42.835Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8b6ed210-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/tags/?limit=all","method":"GET","originalUrl":"/ghost/api/v0.1/tags/?limit=all","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"520-YgcdWaNwvap4C2937J2+86Q0fY8\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"29ms"},"msg":"","time":"2017-09-29T00:38:42.895Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8b711c00-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"statusCode":304,"responseTime":"36ms"},"msg":"","time":"2017-09-29T00:38:42.917Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8b707fc0-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"43ms"},"msg":"","time":"2017-09-29T00:38:42.919Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8c6f5220-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"38f2-Y6+aOlfbXd+nNjwRLZT1nWU2bxo\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"21ms"},"msg":"","time":"2017-09-29T00:38:44.568Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8c754590-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"statusCode":304,"responseTime":"18ms"},"msg":"","time":"2017-09-29T00:38:44.604Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8c7a2790-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"16ms"},"msg":"","time":"2017-09-29T00:38:44.633Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8c7fa5d0-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/tags/?limit=all","method":"GET","originalUrl":"/ghost/api/v0.1/tags/?limit=all","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"520-YgcdWaNwvap4C2937J2+86Q0fY8\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"12ms"},"msg":"","time":"2017-09-29T00:38:44.665Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8cc00a30-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"image/webp,image/*,*/*;q=0.8","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\"","content-type":"image/png","content-length":227974},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T00:38:45.078Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"cb111a90-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","method":"GET","originalUrl":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","params":{},"headers":{"x-forwarded-for":"101.226.33.225","x-real-ip":"101.226.33.225","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_2_1 like Mac OS X) AppleWebKit/602.4.6 (KHTML, like Gecko) Mobile/14D27 MicroMessenger/6.5.5 NetType/WIFI Language/zh_CN","accept":"*/*","accept-encoding":"gzip, deflate, sdch, br","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4"},"body":{},"query":{"nsukey":"o85Kvugp/zuPjeoq/8rxbpmFuLCvbfw+Vel/VF4oe4YjfmplO1zT+pbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y/Zh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE+r9rMtx+hw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T00:40:29.650Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"cd121ab0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"101.226.33.225","x-real-ip":"101.226.33.225","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.95 Safari/537.36 MicroMessenger/6.5.2.501 NetType/WIFI WindowsWechat QBCore/3.43.27.400 QQBrowser/9.0.2524.400","accept":"*/*","accept-encoding":"gzip, deflate, sdch, br","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T00:40:32.988Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d1698df0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"101.226.33.225","x-real-ip":"101.226.33.225","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.95 Safari/537.36 MicroMessenger/6.5.2.501 NetType/WIFI WindowsWechat QBCore/3.43.27.400 QQBrowser/9.0.2524.400","accept":"*/*","accept-encoding":"gzip, deflate, sdch, br","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T00:40:40.274Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d3820db0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/infinitescroll.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/infinitescroll.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"101.226.33.225","x-real-ip":"101.226.33.225","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_2_1 like Mac OS X) AppleWebKit/602.4.6 (KHTML, like Gecko) Mobile/14D27 MicroMessenger/6.5.5 NetType/WIFI Language/en","accept":"*/*","accept-encoding":"gzip, deflate, sdch, br","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"8d6-15ec766fb30\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T00:40:43.789Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"9a8833b0-a4b6-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"15555","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //这里修改为你的域名；如果没有域名，则改为服务器 IP 地址;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用www账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator\\n需要使用下面指令安装，需要在ghost安装文件夹下面执行，但是执行之前需要先编辑***MigrtorConfig.js***文件。\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n在执行npm start --production的时候\\n\\n\\n\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-28T15:50:35.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"3d3e-EChjXLA07J4C3X5fliTCQJRoxcQ\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"73ms"},"msg":"","time":"2017-09-29T01:36:24.247Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fefb1380-a4b6-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"16375","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //这里修改为你的域名；如果没有域名，则改为服务器 IP 地址;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用www账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator\\n需要使用下面指令安装，需要在ghost安装文件夹下面执行，但是执行之前需要先编辑***MigrtorConfig.js***文件。\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>     subfolder: 'upgrades'  [default: versions]\\n> }\\n> \\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n在执行npm start --production的时候\\n\\n\\n\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T01:36:24.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"400b-kUfo3/XeBItSuYWNsRWRSf3Mu+I\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"55ms"},"msg":"","time":"2017-09-29T01:39:12.753Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4860bfc0-a4b7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"16625","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //这里修改为你的域名；如果没有域名，则改为服务器 IP 地址;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用www账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator\\n需要使用下面指令安装，需要在ghost安装文件夹下面执行，但是执行之前需要先编辑***MigrtorConfig.js***文件。\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n> （下面应该是数据库使用sqlite3时的设置，可以不用设置）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n在执行npm start --production的时候\\n\\n\\n\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T01:39:12.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4105-ih9gYk3pF36qN5c8z5/KWMkqc2g\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"60ms"},"msg":"","time":"2017-09-29T01:41:15.898Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"52e5c5d0-a4b7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"16666","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //这里修改为你的域名；如果没有域名，则改为服务器 IP 地址;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用www账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator\\n需要使用下面指令安装，需要在ghost安装文件夹下面执行，但是执行之前需要先编辑***MigrtorConfig.js***文件。\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n> （下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n在执行npm start --production的时候\\n\\n\\n\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T01:41:15.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"412e-q9WqgKHENXJtDcs48/USJy6p+Cs\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"55ms"},"msg":"","time":"2017-09-29T01:41:33.543Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"88b1bed0-a4b7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"16645","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //这里修改为你的域名；如果没有域名，则改为服务器 IP 地址;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用www账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n> （下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n在执行npm start --production的时候\\n\\n\\n\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T01:41:33.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"411c-5mv8u73eYfi6afuIZVnJj8lFtfA\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"48ms"},"msg":"","time":"2017-09-29T01:43:03.791Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"c45bcb10-a4b7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"16888","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //这里修改为你的域名；如果没有域名，则改为服务器 IP 地址;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用www账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n> （下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，知道最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n在执行npm start --production的时候\\n\\n\\n\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T01:43:03.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4212-XtcLwrIO3Noju98Yr7uEVI/omEU\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"55ms"},"msg":"","time":"2017-09-29T01:44:43.899Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a0bf0360-a4b8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"17160","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //这里修改为你的域名；如果没有域名，则改为服务器 IP 地址;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用www账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n> （下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n在执行npm start --production的时候，遇到npm权限的问题，\\n\\n\\n\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T01:44:43.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"432b-/hy78GOWVhuni33HUXbjhvKaczI\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"56ms"},"msg":"","time":"2017-09-29T01:50:53.650Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a2586810-a4b8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"17160","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //这里修改为你的域名；如果没有域名，则改为服务器 IP 地址;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用www账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n> （下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n在执行npm start --production的时候，遇到npm权限的问题，\\n\\n\\n\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T01:50:53.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"432b-V7wETVSLt0gLTy99hNjta2DLgZA\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"54ms"},"msg":"","time":"2017-09-29T01:50:56.331Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"1d91dba0-a4ba-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18203","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //这里修改为你的域名；如果没有域名，则改为服务器 IP 地址;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n> （下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T01:50:56.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4808-J+Xw7sazERozsw/X9EVelqpXMcY\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"78ms"},"msg":"","time":"2017-09-29T02:01:32.587Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"29b43e00-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"71.6.202.198","x-real-ip":"71.6.202.198","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64)","accept-encoding":"gzip"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"54ms"},"msg":"","time":"2017-09-29T02:01:52.919Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"782d3370-a4ba-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18507","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //这里修改为你的域名；如果没有域名，则改为服务器 IP 地址;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n> （下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:01:32.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"496f-jad3lN0E84frSLzfUHAmSPpCq3g\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"84ms"},"msg":"","time":"2017-09-29T02:04:04.605Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"868c3f60-a4ba-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18561","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //这里修改为你的域名；如果没有域名，则改为服务器 IP 地址;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n> （下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:04:04.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"49a5-b7WtL3itPBhK141BKPQF3/rtik8\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"59ms"},"msg":"","time":"2017-09-29T02:04:28.692Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"9a9b49b0-a4ba-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18614","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //这里修改为你的域名；如果没有域名，则改为服务器 IP 地址;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n> （下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:04:28.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"49da-9EDcm9i8Ke5mBcNqgne3pAegC/Q\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"49ms"},"msg":"","time":"2017-09-29T02:05:02.335Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a3702ec0-a4ba-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18614","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //这里修改为你的域名；如果没有域名，则改为服务器 IP 地址;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n> （下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:05:02.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"49da-JFUAMwU78Wd0KIHnQtuFmtU18Aw\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"45ms"},"msg":"","time":"2017-09-29T02:05:17.148Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a4e9af60-a4ba-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18614","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //这里修改为你的域名；如果没有域名，则改为服务器 IP 地址;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n> （下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:05:17.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"49da-2OUrijqyEbr0ONcy/R+c8qBbVm0\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"49ms"},"msg":"","time":"2017-09-29T02:05:19.626Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ae980480-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"160e-aecQubg4g7upMtGGxomWW3DV/LA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T02:05:35.841Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"aea1c880-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\"","content-type":"image/png","content-length":227974},"statusCode":200,"responseTime":"5ms"},"msg":"","time":"2017-09-29T02:05:35.887Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"aea30100-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\"","content-type":"image/jpeg","content-length":21595},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T02:05:35.891Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b2000eb0-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"8894-5uxeWVoBoNl8uUW4mBHWcJye5RA\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"87ms"},"msg":"","time":"2017-09-29T02:05:41.620Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b20f50f0-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\"","content-type":"image/jpeg","content-length":54204},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T02:05:41.634Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b20f7800-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\"","content-type":"image/jpeg","content-length":59735},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T02:05:41.635Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d0907590-a4ba-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18599","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //这里修改为你的域名；如果没有域名，则改为服务器 IP 地址;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n> （下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:05:19.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4987-oBGGlZkOyXaqNc8K37w7OGc9qeQ\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"64ms"},"msg":"","time":"2017-09-29T02:06:32.876Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ee1e6090-a4ba-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18552","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n> （下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:06:32.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"496f-y5YyhKHTOxDsSYhBiHsfDZpqmgA\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"60ms"},"msg":"","time":"2017-09-29T02:07:22.456Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f06395a0-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"8894-5uxeWVoBoNl8uUW4mBHWcJye5RA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"8830-PaLWfgk2pbvfB1YTZT6XWDfhJeE\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"52ms"},"msg":"","time":"2017-09-29T02:07:26.255Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f06da7c0-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:26.270Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f06f7c80-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:26.282Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f071ed80-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:26.297Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f071ed81-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"2ms"},"msg":"","time":"2017-09-29T02:07:26.298Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f07548e0-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:26.319Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f0756ff0-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:26.320Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f0c45340-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:26.839Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fb10bd20-a4ba-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18547","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n> （下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:07:22.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"496d-Bdrp5Msv/+HGLgyft7PxqULMIKk\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"59ms"},"msg":"","time":"2017-09-29T02:07:44.176Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fc3f5210-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"8830-PaLWfgk2pbvfB1YTZT6XWDfhJeE\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"882f-yARtk7+whEGltsYx/SufI9ZgMYk\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"51ms"},"msg":"","time":"2017-09-29T02:07:46.149Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fc493d20-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"2ms"},"msg":"","time":"2017-09-29T02:07:46.165Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fc4b6000-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:07:46.177Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fc4d5bd0-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:46.191Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fc4da9f0-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:46.193Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fc515370-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:46.216Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fc51a190-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:07:46.218Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fc6fb0e0-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:46.416Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0779ec80-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18542","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n> （下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:07:44.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"49c1-qotgzdYBoyp+HA+TFMjaZ3SYjXo\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"54ms"},"msg":"","time":"2017-09-29T02:08:04.993Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"087b56f0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"882f-yARtk7+whEGltsYx/SufI9ZgMYk\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"8881-/qtjs1WAeEUzUO7H0mo0ncg9qYc\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"42ms"},"msg":"","time":"2017-09-29T02:08:06.666Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0883bb60-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:06.680Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"08856910-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:06.690Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"088764e0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:06.703Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"08878bf0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:06.705Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"088bd1b0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:08:06.732Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"088bf8c0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:06.733Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"08a9b9f0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:06.929Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0f860350-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18537","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n> （下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:08:04.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"49a8-+ISC3fHUKMn18+Ju51cKYrckN6Y\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"57ms"},"msg":"","time":"2017-09-29T02:08:18.498Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"105672b0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"8881-/qtjs1WAeEUzUO7H0mo0ncg9qYc\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"8869-KMDPxN5f91jZu/+Ry4oZqoFH+ec\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"51ms"},"msg":"","time":"2017-09-29T02:08:19.855Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"106036b0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:08:19.868Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"10620b70-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:08:19.880Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"10640740-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:19.894Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"10647c70-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:08:19.896Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"106825f0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:19.921Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"10687410-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:08:19.922Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"10860e30-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:20.117Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"26469910-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18532","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n> （下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:08:18.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4987-Y2mJuWaHTNe1dmpTjCgWYNOaOQ4\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"64ms"},"msg":"","time":"2017-09-29T02:08:56.677Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2739f9c0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"8869-KMDPxN5f91jZu/+Ry4oZqoFH+ec\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"8849-ZEQ8Y0RgoB/cylmEkPVNis+Ves8\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"46ms"},"msg":"","time":"2017-09-29T02:08:58.251Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"27432180-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:58.266Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2744cf30-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:58.277Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"27471920-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:08:58.291Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"27474030-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:58.292Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"274b85f0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:08:58.320Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"274bad00-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"4ms"},"msg":"","time":"2017-09-29T02:08:58.325Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"27696e30-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:58.519Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"37304780-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18530","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:08:56.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4987-eNBbaM3NK3I9wcHzj5zu4Bohysg\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"46ms"},"msg":"","time":"2017-09-29T02:09:25.033Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"37f656a0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"8849-ZEQ8Y0RgoB/cylmEkPVNis+Ves8\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"8849-jmFi0hqA18lu4ivnrxvbhXKK3f0\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"40ms"},"msg":"","time":"2017-09-29T02:09:26.324Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"37fe6cf0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:09:26.336Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"38001aa0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:09:26.347Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"38026490-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:09:26.363Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"38028ba0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:09:26.363Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3806f870-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:09:26.392Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"38074690-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:09:26.394Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"38244470-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:09:26.585Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3fff8740-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18533","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:09:25.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"49aa-KoSs5CFVC+djDYSa7795FnTKNAc\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"63ms"},"msg":"","time":"2017-09-29T02:09:39.830Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"41644760-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"8849-jmFi0hqA18lu4ivnrxvbhXKK3f0\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"886a-CfRO6yCHlC8KFTVZVjnkI9OT5R0\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"42ms"},"msg":"","time":"2017-09-29T02:09:42.145Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"416c84c0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:09:42.158Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"416e5980-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:09:42.169Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4170a370-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:09:42.184Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4170ca80-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:09:42.185Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4176bdf0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:09:42.224Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4176e500-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:09:42.226Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"419346a0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:09:42.412Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"548a2a30-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18523","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:09:39.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"497a-99F9hTvYmrc9ZVFQTgd5JNE1GK4\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"54ms"},"msg":"","time":"2017-09-29T02:10:14.284Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"55835740-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18523","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:10:14.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"497a-TOlhWd+bPwK+/ZAcAS+h59pRCNo\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"46ms"},"msg":"","time":"2017-09-29T02:10:15.909Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"63992530-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18526","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJS安装以后，默认已经自带的NPM\\n不过npm之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:10:15.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"497d-fmBy6fa/4OrePOMSKXjLvERFfpU\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"94ms"},"msg":"","time":"2017-09-29T02:10:39.590Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"64dbb750-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"886a-CfRO6yCHlC8KFTVZVjnkI9OT5R0\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"883f-DJpk9hqb8/az7YnnqCtw6+LlBhc\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"61ms"},"msg":"","time":"2017-09-29T02:10:41.667Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"64e6b3d0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:10:41.679Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"64e88890-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:10:41.691Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"64ead280-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:10:41.705Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"64eb20a0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:10:41.707Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"64eeca20-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:10:41.731Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"64ef1840-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:10:41.733Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"650cb260-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"3ms"},"msg":"","time":"2017-09-29T02:10:41.930Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ccfef4f0-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18621","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:10:39.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4a04-eP5SGogKbRkiMuj1Br1rX/QXLKE\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"68ms"},"msg":"","time":"2017-09-29T02:13:36.390Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d193bf50-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18621","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:13:36.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4a04-5H5goTHidtJb5bJ2LyCQppMS/4s\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"46ms"},"msg":"","time":"2017-09-29T02:13:44.055Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fab89590-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18616","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:13:44.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"49d1-6iryqdxC6nyo6rLahjIXy/fS9Ng\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"80ms"},"msg":"","time":"2017-09-29T02:14:53.116Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"85479f80-a4bc-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19005","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件：\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n配置文件格式参考[**这里**](https://github.com/TryGhost/knex-migrator)：\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n# 参考资料：\\n[《NPM 套件管理工具》](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[《Ghost 1.0+ 安装（非ghost-cli方式）》](https://www.ihx.me/ghost1-6insallnocli/)\\n[《knex-migrator-Github》](https://github.com/TryGhost/knex-migrator)\\n\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:14:53.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4bb4-UfzWKSv5uRdQtdoDaODeu4vCnvo\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"57ms"},"msg":"","time":"2017-09-29T02:18:45.556Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"86c62930-a4bc-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19005","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件：\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n配置文件格式参考[**这里**](https://github.com/TryGhost/knex-migrator)：\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n# 参考资料：\\n[《NPM 套件管理工具》](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[《Ghost 1.0+ 安装（非ghost-cli方式）》](https://www.ihx.me/ghost1-6insallnocli/)\\n[《knex-migrator-Github》](https://github.com/TryGhost/knex-migrator)\\n\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:18:45.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4bb4-yhuiCJZD6Di/36ijjS2YwDuxrhs\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"47ms"},"msg":"","time":"2017-09-29T02:18:48.052Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"c99d0fd0-a4bc-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19173","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装启动ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件：\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n配置文件格式参考[**这里**](https://github.com/TryGhost/knex-migrator)：\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\\n# 配置ghost\\n本次没有做太多自定义配置，具体可以参考[**这里**](https://www.binarization.com/archive/2016/configuring-ghost/)。\\n\\n\\n# 参考资料：\\n[《NPM 套件管理工具》](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[《Ghost 1.0+ 安装（非ghost-cli方式）》](https://www.ihx.me/ghost1-6insallnocli/)\\n[《knex-migrator-Github》](https://github.com/TryGhost/knex-migrator)\\n\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:18:48.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4c86-Fy1pK7m9c1R2lM1hiZ/FWukHRA4\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"82ms"},"msg":"","time":"2017-09-29T02:20:40.226Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"cb78fbc0-a4bc-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19173","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装启动ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n```\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件：\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n配置文件格式参考[**这里**](https://github.com/TryGhost/knex-migrator)：\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\\n# 配置ghost\\n本次没有做太多自定义配置，具体可以参考[**这里**](https://www.binarization.com/archive/2016/configuring-ghost/)。\\n\\n\\n# 参考资料：\\n[《NPM 套件管理工具》](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[《Ghost 1.0+ 安装（非ghost-cli方式）》](https://www.ihx.me/ghost1-6insallnocli/)\\n[《knex-migrator-Github》](https://github.com/TryGhost/knex-migrator)\\n\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:20:40.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4c86-8J6XEqkVOBJWIseczTcqXu1gO/M\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"43ms"},"msg":"","time":"2017-09-29T02:20:43.306Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"43616500-a4bd-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19419","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装启动ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n还要安装开发工具包\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件：\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n配置文件格式参考[**这里**](https://github.com/TryGhost/knex-migrator)：\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\\n# 配置ghost\\n本次没有做太多自定义配置，具体可以参考[**这里**](https://www.binarization.com/archive/2016/configuring-ghost/)。\\n\\n\\n# 参考资料：\\n[《NPM 套件管理工具》](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[《Ghost 1.0+ 安装（非ghost-cli方式）》](https://www.ihx.me/ghost1-6insallnocli/)\\n[《knex-migrator-Github》](https://github.com/TryGhost/knex-migrator)\\n[《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\n《如何在CentOS上安装Ghost？》\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:20:43.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4d95-/Dk7HnPuj2OrpuOrCfgo02xCckg\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"64ms"},"msg":"","time":"2017-09-29T02:24:04.500Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"449d4060-a4bd-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19419","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装启动ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n还要安装开发工具包\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件：\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n配置文件格式参考[**这里**](https://github.com/TryGhost/knex-migrator)：\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\\n# 配置ghost\\n本次没有做太多自定义配置，具体可以参考[**这里**](https://www.binarization.com/archive/2016/configuring-ghost/)。\\n\\n\\n# 参考资料：\\n[《NPM 套件管理工具》](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[《Ghost 1.0+ 安装（非ghost-cli方式）》](https://www.ihx.me/ghost1-6insallnocli/)\\n[《knex-migrator-Github》](https://github.com/TryGhost/knex-migrator)\\n[《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\n《如何在CentOS上安装Ghost？》\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:24:04.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4d95-KNCnc25KZ4926j9M6ZCDWX+qygQ\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"51ms"},"msg":"","time":"2017-09-29T02:24:06.557Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"5b086320-a4bd-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19492","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装启动ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n还要安装开发工具包\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件：\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n配置文件格式参考[**这里**](https://github.com/TryGhost/knex-migrator)：\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\\n# 配置ghost\\n本次没有做太多自定义配置，具体可以参考[**这里**](https://www.binarization.com/archive/2016/configuring-ghost/)。\\n\\n\\n# 参考资料：\\n[《NPM 套件管理工具》](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[《Ghost 1.0+ 安装（非ghost-cli方式）》](https://www.ihx.me/ghost1-6insallnocli/)\\n[《knex-migrator-Github》](https://github.com/TryGhost/knex-migrator)\\n[《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\n[《如何在CentOS上安装Ghost？》](https://www.binarization.com/archive/2016/installing-ghost-centos/)\\n\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:24:06.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4de8-AcY9dj6osnrzP0RO/vjwf6LB+HU\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"74ms"},"msg":"","time":"2017-09-29T02:24:44.191Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a78190f0-a4bd-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19803","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装启动ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n还要安装开发工具包\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件：\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n配置文件格式参考[**这里**](https://github.com/TryGhost/knex-migrator)：\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\\n# 配置ghost\\n本次没有做太多自定义配置，具体可以参考[**这里**](https://www.binarization.com/archive/2016/configuring-ghost/)。\\n\\n\\n# 参考资料：\\n[《NPM 套件管理工具》](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[《Ghost 1.0+ 安装（非ghost-cli方式）》](https://www.ihx.me/ghost1-6insallnocli/)\\n[《knex-migrator-Github》](https://github.com/TryGhost/knex-migrator)\\n[《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\n[《如何在CentOS上安装Ghost？》](https://www.binarization.com/archive/2016/installing-ghost-centos/)\\n[《ghost——Using Ghost as an NPM module》](https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module)\\n[<ghost——Install & Setup (production)》](https://docs.ghost.org/v1/docs/install)\\n[《CentOS Ghost安装教程（PM2+Nginx）》](https://codesky.me/archives/centos-ghost-install-introduce.wind)\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:24:44.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4f59-Olo2oVqSlbDxNMM2acoVVPNUFPI\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"79ms"},"msg":"","time":"2017-09-29T02:26:52.497Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"07b4a430-a4be-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"20085","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装启动ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n还要安装开发工具包\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n使用时发现无法查找到yarn安装包，查找后采用下面方法安装：\\n```\\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\\nyum install yarn\\n```\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件：\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n配置文件格式参考[**这里**](https://github.com/TryGhost/knex-migrator)：\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\\n# 配置ghost\\n本次没有做太多自定义配置，具体可以参考[**这里**](https://www.binarization.com/archive/2016/configuring-ghost/)。\\n\\n\\n# 参考资料：\\n[《基于阿里云ECS的Centos7搭建Ghost》](https://www.itony.net/aliyun-centos7-ghost/)\\n[《NPM 套件管理工具》](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[《Ghost 1.0+ 安装（非ghost-cli方式）》](https://www.ihx.me/ghost1-6insallnocli/)\\n[《knex-migrator-Github》](https://github.com/TryGhost/knex-migrator)\\n[《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\n[《如何在CentOS上安装Ghost？》](https://www.binarization.com/archive/2016/installing-ghost-centos/)\\n[《ghost——Using Ghost as an NPM module》](https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module)\\n[<ghost——Install & Setup (production)》](https://docs.ghost.org/v1/docs/install)\\n[《CentOS Ghost安装教程（PM2+Nginx）》](https://codesky.me/archives/centos-ghost-install-introduce.wind)\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:26:52.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"5098-t2meDRYC77vUlFSDDhtADyBGIaI\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"93ms"},"msg":"","time":"2017-09-29T02:29:33.907Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"09285870-a4be-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"20085","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装启动ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n还要安装开发工具包\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n使用时发现无法查找到yarn安装包，查找后采用下面方法安装：\\n```\\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\\nyum install yarn\\n```\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件：\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n配置文件格式参考[**这里**](https://github.com/TryGhost/knex-migrator)：\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\\n# 配置ghost\\n本次没有做太多自定义配置，具体可以参考[**这里**](https://www.binarization.com/archive/2016/configuring-ghost/)。\\n\\n\\n# 参考资料：\\n[《基于阿里云ECS的Centos7搭建Ghost》](https://www.itony.net/aliyun-centos7-ghost/)\\n[《NPM 套件管理工具》](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[《Ghost 1.0+ 安装（非ghost-cli方式）》](https://www.ihx.me/ghost1-6insallnocli/)\\n[《knex-migrator-Github》](https://github.com/TryGhost/knex-migrator)\\n[《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\n[《如何在CentOS上安装Ghost？》](https://www.binarization.com/archive/2016/installing-ghost-centos/)\\n[《ghost——Using Ghost as an NPM module》](https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module)\\n[<ghost——Install & Setup (production)》](https://docs.ghost.org/v1/docs/install)\\n[《CentOS Ghost安装教程（PM2+Nginx）》](https://codesky.me/archives/centos-ghost-install-introduce.wind)\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:29:33.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"5098-dusltcm+3iv8hJ5iBHgHFUXWzK8\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"46ms"},"msg":"","time":"2017-09-29T02:29:36.296Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2c5997a0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"883f-DJpk9hqb8/az7YnnqCtw6+LlBhc\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"8f2b-f7uBGbsRP6yE6MQTdQVeDDeHH2s\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"86ms"},"msg":"","time":"2017-09-29T02:30:35.377Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2c6900f0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"3ms"},"msg":"","time":"2017-09-29T02:30:35.395Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2c6b4ae0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:30:35.408Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2c6de2f0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:30:35.425Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2c6e3110-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:30:35.427Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2c7201a0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:30:35.452Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2c724fc0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:30:35.453Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2cbb1890-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:30:35.931Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"33162400-a4be-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"30","page":"1","status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"9f73-mREcsFvDbc/z6nAbn0GI21tIHjI\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T02:30:46.618Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"33337000-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"statusCode":304,"responseTime":"24ms"},"msg":"","time":"2017-09-29T02:30:46.809Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"345d7110-a4be-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccb3a1a744810195a3dbfe/?status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/59ccb3a1a744810195a3dbfe/?status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{"id":"59ccb3a1a744810195a3dbfe"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"4eda-EU7bMnAGvale15LVnLFlGvpAW8k\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"24ms"},"msg":"","time":"2017-09-29T02:30:48.762Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3464c410-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"statusCode":304,"responseTime":"28ms"},"msg":"","time":"2017-09-29T02:30:48.814Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"34686d90-a4be-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"33ms"},"msg":"","time":"2017-09-29T02:30:48.843Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"346a4250-a4be-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/tags/?limit=all","method":"GET","originalUrl":"/ghost/api/v0.1/tags/?limit=all","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"520-YgcdWaNwvap4C2937J2+86Q0fY8\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"28ms"},"msg":"","time":"2017-09-29T02:30:48.850Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3ae754b0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/da-jian-shadowsocksfu-wu-qi/","method":"GET","originalUrl":"/da-jian-shadowsocksfu-wu-qi/","params":{"0":"/da-jian-shadowsocksfu-wu-qi/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"689f-Nw3iGGkXcQcK7xcYa9dBxUTEwps\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"59ms"},"msg":"","time":"2017-09-29T02:30:59.767Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3af27840-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/vultr.jpg","method":"GET","originalUrl":"/content/images/2017/09/vultr.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:49:09 GMT","etag":"W/\"c7bc-15ec7ace335\"","content-type":"image/jpeg","content-length":51132},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T02:30:59.784Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"5007f610-a4be-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccb3a1a744810195a3dbfe/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccb3a1a744810195a3dbfe/?include=tags","params":{"id":"59ccb3a1a744810195a3dbfe"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19706","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccb3a1a744810195a3dbfe","created_at":"2017-09-28T08:32:33.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/---.jpg","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"总是使用买的shadowsocks服务器，价格较贵，且不甚稳定，因此决定自己搭建服务器，过程中遇到许多问题，为了以后维护的方便，在此将过程中遇到的问题与解决方法以及参考资料等进行简单的记录。\\n# 操作步骤\\n1.购买云服务器\\n2.连接云服务器\\n3.安装shadowsocks\\n4.优化shadowsocks性能\\n5.配置shadowsocks文件\\n6.启动并永久运行shadowsocks\\n7.配置windows和android客户端\\n# 分步介绍\\n## 购买服务器\\n推荐使用美国 VPS 提供商[**Vultr**](http://https://www.vultr.com/)。价格实惠，最低只需每个月 5 美元，支持 PayPal 支付（国内银行储蓄卡可充值）。\\n点击推广链接注册可以享受一定优惠：[**Vultr优惠**](http://https://www.vultr.com/?ref=7219583)\\n服务器配置推荐：内存 ≥512M，\\n             硬盘 20G，\\n             CPU 1核，\\n             流量 500G（单人用）。\\n服务器位置尽量选距离自己比较近的：美国西海岸的城市或者日本和新加坡等国家的机房。\\n![vultr](/content/images/2017/09/vultr.jpg)\\n## 连接云服务器\\n使用ssh方式连接购买并安装好的云服务器，使用的软件不限，Xshell、putty等等ssh连接工具均可。Linux系统下，一般会自带ssh工具，打开终端运行ssh root@xx.xx.xx.xx，然后输入密码即可，\\\"xx.xx.xx.xx\\\"部分换成云服务器的地址。\\n初始密码在登陆云服务器网站后寻找，首次登陆云服务器后，使用passwd指令更改用户密码。\\n## 安装shadowsocks\\nshadowsocks有几种不同版本，shadowsocks Python、shadowsocks libev、shadowsocks go还有shadowsocksR。\\n选择其中一个版本进行安装，安装方法参考[**xyzardQ的博客**]，写的比较全面。(https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/)。\\n第一次搭建，使用了python版本，但是运行过程中发现速度比较不稳定，因此放弃这一版本，然后按照[**秋水逸冰的博客**](https://teddysun.com/357.html)搭建了libev版本的shadowsocks。\\n之后由于考虑到实验室共用一个服务器，因此将同一个端口、用户名以及密码共享给了多台电脑，但是使用过程中服务器崩溃，即便是在设置多个端口和相应密码之后，仍然存在这个问题。\\n下面是配置多用户模式时，修改配置文件的参照：\\n```\\t\\n[root@localhost ~]# cat  /etc/shadowsocks.json\\n{\\n    \\\"server\\\":\\\"145.78.20.216\\\",\\n    \\\"port_password\\\":{\\n        \\\"9000\\\":\\\"MyPass1\\\",\\n        \\\"9001\\\":\\\"MyPass2\\\",\\n        \\\"9002\\\":\\\"MyPass3\\\"\\n    },\\n    \\\"local_address\\\":\\\"127.0.0.1\\\",\\n    \\\"local_port\\\":1080,\\n    \\\"timeout\\\":300,\\n    \\\"method\\\":\\\"rc4-md5\\\"\\n}\\n```\\n因此查阅资料后，得出结论是此版本只是个人版本，对于多个用户使用支持不好，因此放弃此版本。\\n最终本次搭建选择按照[**司开星的博客**](https://sikaixing.com/2016/03/06/ss_manyuser/)中介绍的方法进行多用户版本的搭建。\\n### 下载多用户版本manyuser\\nshadowsocks manyuser是一个shadowsocks多用户修改版。官方地址为：https://github.com/mengskysama/shadowsocks/tree/manyuser\\n\\n下载：\\n    ```\\n    git clone -b manyuser https://github.com/mengskysama/shadowsocks.git\\n    ```\\n会在当前目录下载manyuser。\\n解压出来为/shadowsocks/shadowsocks（cd shadowsocks/shadowsocks）\\n\\n### 安装使用Mysql\\nmanyuser使用Mysql存储数据。故需要先安装mysql，centos7中默认为mariaDB（myspl修改版）\\n\\n    yum install mariadb-server mariadb\\n\\n\\n* 启动及关闭：\\n    ```\\n    systemctl start mariadb\\n    systemctl enable mariadb\\n    ```\\n* 修改密码：\\n    ```\\n    /usr/bin/mysql_secure_installation\\n    ```\\n* 登录：\\n    ```\\n    mysql -u root -p\\n    ```\\n* 根据manyuser官方指南需要创建一个shadowsocks数据库：\\n    ```\\n    create database shadowsocks\\n    ```\\n* 选择数据库\\n    ```\\n    use shadowsocks\\n    ```\\n* 导入下载的manyuser的/shadowsocks/shadowsocks/下的shadowsocks.sql脚本：\\n    ```\\n    source /shadowsocks/shadowsocks/shadowsocks.sql\\n    ```\\n    脚本会自动在数据库中建立一个user表。\\n    \\n* 查看脚本写入的内容：\\n    ```\\n    show tables\\n    ```\\n* 查看表内容：\\n    ```\\n    select * from user\\n    ```\\n    其中：\\n    \\n> passwd: server pass\\n> port: server port\\n> t: last keepalive time\\n> u: upload transfer\\n> d: download transer\\n> transfer_enable: if u + d > transfer_enable this server will be stop (db_transfer.py del_server_out_of_bound_safe)\\n\\n\\n* 添加内容：\\n    ```\\n    insert into user() values()\\n    ```\\n* 修改内容\\n    ```\\n    update 表名称 set 列名称=新值 where 更新条件;\\n    ```\\n* 新建一个数据库用户以方便shadowsocks程序管理数据库：\\n    ```\\n    create user ssuser@localhost identified by 'passwd'\\n    ```\\n* 授权：\\n    ```\\n    grant all on shadowsocks.* to 'ssuser'@'localhost'\\n    ```\\n    \\n* 详细的配置方式查阅文章最下方提供的参考资料\\n\\n### 安装其他依赖\\n\\n    yum install m2crypto\\n    pip install cymysql\\n    \\n\\n\\n\\n## 优化shadowsocks性能\\n\\n参考[**xyzardQ的博客**]中的链接，由于设置较繁琐，故自己搭建的服务器并没有使用加速配置。(https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/)\\n    \\n## 配置shadowsocks文件\\n\\n\\n### config文件配置\\n    \\n    vi Config.py\\n    \\n    #Config Example\\n    MYSQL_HOST = 'localhost'\\n    MYSQL_PORT = 3306\\n    MYSQL_USER = 'ssuser'\\n    MYSQL_PASS = 'passwd'（密码改成上面数据库用户的密码）\\n    MYSQL_DB = 'shadowsocks'\\n    MANAGE_PASS = 'ss233333333'\\n    #if you want manage in other server you should set this value to global ip\\n    MANAGE_BIND_IP = '127.0.0.1'\\n    #make sure this port is idle\\n    MANAGE_PORT = 23333\\n\\n### 防火墙配置\\n\\n不要忘记在系统防火墙中开启需要使用的端口（使用的端口都要开放）：\\n\\n    firewall-cmd --zone=public --add-port=50000/tcp --permanent\\n    firewall-cmd --reload\\n\\n### 启动\\n\\n    python server.py\\n\\n如果没有报错就说明启动正常了。\\n后台运行且注销也不停止：\\n\\n    nohup python server.py > /dev/null 2>&1 &\\n\\n运行时遇到错误，使用一下简单形式代替\\n\\n    nohup python server.py &\\n\\n开机启动：（无法正常执行）\\n开机启动mariadb:\\n\\n    systemctl enable mariadb\\n\\n开机启动many-user:\\n\\n    cd /shadowsocks/shadowsocks/ \\n    #server.py配置文件在这个目录中，调用要先进入这个目录\\n    python server.py --fast-open\\n    \\n\\n\\n## 配置windows和android客户端\\n\\n\\n### 配置windows客户端\\n\\n\\n\\n本地配置的服务器IP填VPS的IP，端口和密码填VPS上服务开启后显示的端口和密码（也就是数据库表中的port和passwd），加密方式选*rc4-md5*。即可正常使用。\\n\\n从[**这里**](https://github.com/shadowsocks/shadowsocks-windows/releases)下载shadowsocks for windows客户端的最新版本。\\n\\n\\n\\n### 配置 Shadowsocks Android 客户端（Android）\\n\\n\\n\\n在各大应用商店搜索“Shadowsocks”或者“影梭”，安装后启动 App。按照 sslocal.json 配置文件相应项目填写配置后，启动软件即可实现 Android 手机翻墙。\\n\\nOS X 用户与 Windows 用户的设置大同小异；iOS 用户可以到 App Store 搜索 Shadowsocks。\\n\\nShadowsocks 官网下载页面:\\n\\nhttps://shadowsocks.org/en/download/clients.html\\n\\n\\n# 参考资料：\\n\\n## shadowsocks安装和配置相关资料\\n\\n[《CentOS下shadowsocks-libev一键安装脚本》](https://teddysun.com/357.html)\\n[《Vultr手动搭建shadowsocks, ipsec/StrongSwan及优化（附ipsec/ikev1服务器无响应的解决）》](http://blog.csdn.net/yanzi1225627/article/details/50960669)\\n[《Centos7中使用shadowsocks建立多用户并控制流量全记录》](https://sikaixing.com/2016/03/06/ss_manyuser/)\\n[《服务器一键搭建shadowsocks及优化》](https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/)\\n[《使用 Shadowsocks 自建翻墙服务器，实现全平台 100% 翻墙无障碍》](https://www.loyalsoldier.me/fuck-the-gfw-with-my-own-shadowsocks-server/)\\n[《在CentOS 6.6上安装ShadowSocks服务端》](http://qing0991.blog.51cto.com/1640542/1649922)\\n\\n\\n## Mysql相关参考\\n[《RHEL 及 CentOS 7 安裝 Apache, MariaDB, PHP(LAMP)》](https://www.phpini.com/linux/redhat-centos-7-setup-apache-mariadb-php)\\n[《21分钟 MySQL 入门教程》](http://www.cnblogs.com/mr-wid/archive/2013/05/09/3068229.html)\\n[《mysql导入sql脚本》](http://www.cnblogs.com/Dot-Boy/archive/2008/08/04/1260185.html)\\n[《mysql 创建用户与授权、修改密码》](http://www.111cn.net/database/mysql/46288.htm)\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"总是使用买的shadowsocks服务器，价格较贵，且不甚稳定，因此决定自己搭建服务器，过程中遇到许多问题，为了以后维护的方便，在此将过程中遇到的问题与解决方法以及参考资料等进行简单的记录。\n\n操作步骤\n1.购买云服务器\n2.连接云服务器\n3.安装shadowsocks\n4.优化shadowsocks性能\n5.配置shadowsocks文件\n6.启动并永久运行shadowsocks\n7.配置windows和android客户端\n\n分步介绍\n购买服务器\n推荐使用美国 VPS 提供商Vultr [http://https://www.vultr.com/]。价格实惠，最低只需每个月 5 美元，支持 PayPal\n支付（国内银行储蓄卡可充值）。\n点击推广链接注册可以享受一定优惠：Vultr优惠 [http://https://www.vultr.com/?ref=7219583]\n服务器配置推荐：内存 ≥512M，\n硬盘 20G，\nCPU 1核，\n流量 500G（单人用）。\n服务器位置尽量选距离自己比较近的：美国西海岸的城市或者日本和新加坡等国家的机房。\n\n\n连接云服务器\n使用ssh方式连接购买并安装好的云服务器，使用的软件不限，Xshell、putty等等ssh连接工具均可。Linux系统下，一般会自带ssh工具，打开终端运行ssh\nroot@xx.xx.xx.xx，然后输入密码即可，\"xx.xx.xx.xx\"部分换成云服务器的地址。\n初始密码在登陆云服务器网站后寻找，首次登陆云服务器后，使用passwd指令更改用户密码。\n\n安装shadowsocks\nshadowsocks有几种不同版本，shadowsocks Python、shadowsocks libev、shadowsocks\ngo还有shadowsocksR。\n选择其中一个版本进行安装，安装方法参考[xyzardQ的博客]，写的比较全面。(\nhttps://xyzardq.github.io/2017/03/07/服务器一键搭建shadowsocks及优化/\n[https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/]\n)。\n第一次搭建，使用了python版本，但是运行过程中发现速度比较不稳定，因此放弃这一版本，然后按照秋水逸冰的博客\n[https://teddysun.com/357.html]搭建了libev版本的shadowsocks。\n之后由于考虑到实验室共用一个服务器，因此将同一个端口、用户名以及密码共享给了多台电脑，但是使用过程中服务器崩溃，即便是在设置多个端口和相应密码之后，仍然存在这个问题。\n下面是配置多用户模式时，修改配置文件的参照：\n\n[root@localhost ~]# cat  /etc/shadowsocks.json\n{\n    \"server\":\"145.78.20.216\",\n    \"port_password\":{\n        \"9000\":\"MyPass1\",\n        \"9001\":\"MyPass2\",\n        \"9002\":\"MyPass3\"\n    },\n    \"local_address\":\"127.0.0.1\",\n    \"local_port\":1080,\n    \"timeout\":300,\n    \"method\":\"rc4-md5\"\n}\n\n\n因此查阅资料后，得出结论是此版本只是个人版本，对于多个用户使用支持不好，因此放弃此版本。\n最终本次搭建选择按照司开星的博客 [https://sikaixing.com/2016/03/06/ss_manyuser/]\n中介绍的方法进行多用户版本的搭建。\n\n下载多用户版本manyuser\nshadowsocks manyuser是一个shadowsocks多用户修改版。官方地址为：\nhttps://github.com/mengskysama/shadowsocks/tree/manyuser\n\n下载：\ngit clone -b manyuser https://github.com/mengskysama/shadowsocks.git\n会在当前目录下载manyuser。\n解压出来为/shadowsocks/shadowsocks（cd shadowsocks/shadowsocks）\n\n安装使用Mysql\nmanyuser使用Mysql存储数据。故需要先安装mysql，centos7中默认为mariaDB（myspl修改版）\n\nyum install mariadb-server mariadb\n\n\n * 启动及关闭：\n   \n   systemctl start mariadb\n   systemctl enable mariadb\n   \n   \n   \n * 修改密码：\n   \n   /usr/bin/mysql_secure_installation\n   \n   \n   \n * 登录：\n   \n   mysql -u root -p\n   \n   \n   \n * 根据manyuser官方指南需要创建一个shadowsocks数据库：\n   \n   create database shadowsocks\n   \n   \n   \n * 选择数据库\n   \n   use shadowsocks\n   \n   \n   \n * 导入下载的manyuser的/shadowsocks/shadowsocks/下的shadowsocks.sql脚本：\n   \n   source /shadowsocks/shadowsocks/shadowsocks.sql\n   \n   \n   脚本会自动在数据库中建立一个user表。\n   \n   \n * 查看脚本写入的内容：\n   \n   show tables\n   \n   \n   \n * 查看表内容：\n   \n   select * from user\n   \n   \n   其中：\n   \n   \n\npasswd: server pass\nport: server port\nt: last keepalive time\nu: upload transfer\nd: download transer\ntransfer_enable: if u + d > transfer_enable this server will be stop\n(db_transfer.py del_server_out_of_bound_safe)\n\n * 添加内容：\n   \n   insert into user() values()\n   \n   \n   \n * 修改内容\n   \n   update 表名称 set 列名称=新值 where 更新条件;\n   \n   \n   \n * 新建一个数据库用户以方便shadowsocks程序管理数据库：\n   \n   create user ssuser@localhost identified by 'passwd'\n   \n   \n   \n * 授权：\n   \n   grant all on shadowsocks.* to 'ssuser'@'localhost'\n   \n   \n   \n * 详细的配置方式查阅文章最下方提供的参考资料\n   \n   \n\n安装其他依赖\nyum install m2crypto\npip install cymysql\n\n\n优化shadowsocks性能\n参考[xyzardQ的博客]中的链接，由于设置较繁琐，故自己搭建的服务器并没有使用加速配置。(\nhttps://xyzardq.github.io/2017/03/07/服务器一键搭建shadowsocks及优化/\n[https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/]\n)\n\n配置shadowsocks文件\nconfig文件配置\nvi Config.py\n\n#Config Example\nMYSQL_HOST = 'localhost'\nMYSQL_PORT = 3306\nMYSQL_USER = 'ssuser'\nMYSQL_PASS = 'passwd'（密码改成上面数据库用户的密码）\nMYSQL_DB = 'shadowsocks'\nMANAGE_PASS = 'ss233333333'\n#if you want manage in other server you should set this value to global ip\nMANAGE_BIND_IP = '127.0.0.1'\n#make sure this port is idle\nMANAGE_PORT = 23333\n\n\n防火墙配置\n不要忘记在系统防火墙中开启需要使用的端口（使用的端口都要开放）：\n\nfirewall-cmd --zone=public --add-port=50000/tcp --permanent\nfirewall-cmd --reload\n\n\n启动\npython server.py\n\n\n如果没有报错就说明启动正常了。\n后台运行且注销也不停止：\n\nnohup python server.py > /dev/null 2>&1 &\n\n\n运行时遇到错误，使用一下简单形式代替\n\nnohup python server.py &\n\n\n开机启动：（无法正常执行）\n开机启动mariadb:\n\nsystemctl enable mariadb\n\n\n开机启动many-user:\n\ncd /shadowsocks/shadowsocks/ \n#server.py配置文件在这个目录中，调用要先进入这个目录\npython server.py --fast-open\n\n\n配置windows和android客户端\n配置windows客户端\n本地配置的服务器IP填VPS的IP，端口和密码填VPS上服务开启后显示的端口和密码（也就是数据库表中的port和passwd），加密方式选rc4-md5\n。即可正常使用。\n\n从这里 [https://github.com/shadowsocks/shadowsocks-windows/releases]下载shadowsocks\nfor windows客户端的最新版本。\n\n配置 Shadowsocks Android 客户端（Android）\n在各大应用商店搜索“Shadowsocks”或者“影梭”，安装后启动 App。按照 sslocal.json 配置文件相应项目填写配置后，启动软件即可实现\nAndroid 手机翻墙。\n\nOS X 用户与 Windows 用户的设置大同小异；iOS 用户可以到 App Store 搜索 Shadowsocks。\n\nShadowsocks 官网下载页面:\n\nhttps://shadowsocks.org/en/download/clients.html\n\n参考资料：\nshadowsocks安装和配置相关资料\n《CentOS下shadowsocks-libev一键安装脚本》 [https://teddysun.com/357.html]\n《Vultr手动搭建shadowsocks, ipsec/StrongSwan及优化（附ipsec/ikev1服务器无响应的解决）》\n[http://blog.csdn.net/yanzi1225627/article/details/50960669]\n《Centos7中使用shadowsocks建立多用户并控制流量全记录》\n[https://sikaixing.com/2016/03/06/ss_manyuser/]\n《服务器一键搭建shadowsocks及优化》\n[https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/]\n《使用 Shadowsocks 自建翻墙服务器，实现全平台 100% 翻墙无障碍》\n[https://www.loyalsoldier.me/fuck-the-gfw-with-my-own-shadowsocks-server/]\n《在CentOS 6.6上安装ShadowSocks服务端》 [http://qing0991.blog.51cto.com/1640542/1649922]\n\nMysql相关参考\n《RHEL 及 CentOS 7 安裝 Apache, MariaDB, PHP(LAMP)》\n[https://www.phpini.com/linux/redhat-centos-7-setup-apache-mariadb-php]\n《21分钟 MySQL 入门教程》\n[http://www.cnblogs.com/mr-wid/archive/2013/05/09/3068229.html]\n《mysql导入sql脚本》 [http://www.cnblogs.com/Dot-Boy/archive/2008/08/04/1260185.html]\n《mysql 创建用户与授权、修改密码》 [http://www.111cn.net/database/mysql/46288.htm]","published_at":"2017-09-28T12:43:02.000Z","slug":"da-jian-shadowsocksfu-wu-qi","status":"published","title":"搭建Shadowsocks服务器","updated_at":"2017-09-28T13:13:57.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dbff","name":"网络","slug":"wang-luo","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"3133-sDMkR+UT6tGmqlKiwj/b6q+aOAs\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"74ms"},"msg":"","time":"2017-09-29T02:31:35.231Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"51751aa0-a4be-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccb3a1a744810195a3dbfe/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccb3a1a744810195a3dbfe/?include=tags","params":{"id":"59ccb3a1a744810195a3dbfe"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19706","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccb3a1a744810195a3dbfe","created_at":"2017-09-28T08:32:33.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/---.jpg","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"总是使用买的shadowsocks服务器，价格较贵，且不甚稳定，因此决定自己搭建服务器，过程中遇到许多问题，为了以后维护的方便，在此将过程中遇到的问题与解决方法以及参考资料等进行简单的记录。\\n# 操作步骤\\n1.购买云服务器\\n2.连接云服务器\\n3.安装shadowsocks\\n4.优化shadowsocks性能\\n5.配置shadowsocks文件\\n6.启动并永久运行shadowsocks\\n7.配置windows和android客户端\\n# 分步介绍\\n## 购买服务器\\n推荐使用美国 VPS 提供商[**Vultr**](http://https://www.vultr.com/)。价格实惠，最低只需每个月 5 美元，支持 PayPal 支付（国内银行储蓄卡可充值）。\\n点击推广链接注册可以享受一定优惠：[**Vultr优惠**](http://https://www.vultr.com/?ref=7219583)\\n服务器配置推荐：内存 ≥512M，\\n             硬盘 20G，\\n             CPU 1核，\\n             流量 500G（单人用）。\\n服务器位置尽量选距离自己比较近的：美国西海岸的城市或者日本和新加坡等国家的机房。\\n![vultr](/content/images/2017/09/vultr.jpg)\\n## 连接云服务器\\n使用ssh方式连接购买并安装好的云服务器，使用的软件不限，Xshell、putty等等ssh连接工具均可。Linux系统下，一般会自带ssh工具，打开终端运行ssh root@xx.xx.xx.xx，然后输入密码即可，\\\"xx.xx.xx.xx\\\"部分换成云服务器的地址。\\n初始密码在登陆云服务器网站后寻找，首次登陆云服务器后，使用passwd指令更改用户密码。\\n## 安装shadowsocks\\nshadowsocks有几种不同版本，shadowsocks Python、shadowsocks libev、shadowsocks go还有shadowsocksR。\\n选择其中一个版本进行安装，安装方法参考[**xyzardQ的博客**]，写的比较全面。(https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/)。\\n第一次搭建，使用了python版本，但是运行过程中发现速度比较不稳定，因此放弃这一版本，然后按照[**秋水逸冰的博客**](https://teddysun.com/357.html)搭建了libev版本的shadowsocks。\\n之后由于考虑到实验室共用一个服务器，因此将同一个端口、用户名以及密码共享给了多台电脑，但是使用过程中服务器崩溃，即便是在设置多个端口和相应密码之后，仍然存在这个问题。\\n下面是配置多用户模式时，修改配置文件的参照：\\n```\\t\\n[root@localhost ~]# cat  /etc/shadowsocks.json\\n{\\n    \\\"server\\\":\\\"145.78.20.216\\\",\\n    \\\"port_password\\\":{\\n        \\\"9000\\\":\\\"MyPass1\\\",\\n        \\\"9001\\\":\\\"MyPass2\\\",\\n        \\\"9002\\\":\\\"MyPass3\\\"\\n    },\\n    \\\"local_address\\\":\\\"127.0.0.1\\\",\\n    \\\"local_port\\\":1080,\\n    \\\"timeout\\\":300,\\n    \\\"method\\\":\\\"rc4-md5\\\"\\n}\\n```\\n因此查阅资料后，得出结论是此版本只是个人版本，对于多个用户使用支持不好，因此放弃此版本。\\n最终本次搭建选择按照[**司开星的博客**](https://sikaixing.com/2016/03/06/ss_manyuser/)中介绍的方法进行多用户版本的搭建。\\n### 下载多用户版本manyuser\\nshadowsocks manyuser是一个shadowsocks多用户修改版。官方地址为：https://github.com/mengskysama/shadowsocks/tree/manyuser\\n\\n下载：\\n    ```\\n    git clone -b manyuser https://github.com/mengskysama/shadowsocks.git\\n    ```\\n会在当前目录下载manyuser。\\n解压出来为/shadowsocks/shadowsocks（cd shadowsocks/shadowsocks）\\n\\n### 安装使用Mysql\\nmanyuser使用Mysql存储数据。故需要先安装mysql，centos7中默认为mariaDB（myspl修改版）\\n\\n    yum install mariadb-server mariadb\\n\\n\\n* 启动及关闭：\\n    ```\\n    systemctl start mariadb\\n    systemctl enable mariadb\\n    ```\\n* 修改密码：\\n    ```\\n    /usr/bin/mysql_secure_installation\\n    ```\\n* 登录：\\n    ```\\n    mysql -u root -p\\n    ```\\n* 根据manyuser官方指南需要创建一个shadowsocks数据库：\\n    ```\\n    create database shadowsocks\\n    ```\\n* 选择数据库\\n    ```\\n    use shadowsocks\\n    ```\\n* 导入下载的manyuser的/shadowsocks/shadowsocks/下的shadowsocks.sql脚本：\\n    ```\\n    source /shadowsocks/shadowsocks/shadowsocks.sql\\n    ```\\n    脚本会自动在数据库中建立一个user表。\\n    \\n* 查看脚本写入的内容：\\n    ```\\n    show tables\\n    ```\\n* 查看表内容：\\n    ```\\n    select * from user\\n    ```\\n    其中：\\n    \\n> passwd: server pass\\n> port: server port\\n> t: last keepalive time\\n> u: upload transfer\\n> d: download transer\\n> transfer_enable: if u + d > transfer_enable this server will be stop (db_transfer.py del_server_out_of_bound_safe)\\n\\n\\n* 添加内容：\\n    ```\\n    insert into user() values()\\n    ```\\n* 修改内容\\n    ```\\n    update 表名称 set 列名称=新值 where 更新条件;\\n    ```\\n* 新建一个数据库用户以方便shadowsocks程序管理数据库：\\n    ```\\n    create user ssuser@localhost identified by 'passwd'\\n    ```\\n* 授权：\\n    ```\\n    grant all on shadowsocks.* to 'ssuser'@'localhost'\\n    ```\\n    \\n* 详细的配置方式查阅文章最下方提供的参考资料\\n\\n### 安装其他依赖\\n\\n    yum install m2crypto\\n    pip install cymysql\\n    \\n\\n\\n\\n## 优化shadowsocks性能\\n\\n参考[**xyzardQ的博客**]中的链接，由于设置较繁琐，故自己搭建的服务器并没有使用加速配置。(https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/)\\n    \\n## 配置shadowsocks文件\\n\\n\\n### config文件配置\\n    \\n    vi Config.py\\n    \\n    #Config Example\\n    MYSQL_HOST = 'localhost'\\n    MYSQL_PORT = 3306\\n    MYSQL_USER = 'ssuser'\\n    MYSQL_PASS = 'passwd'（密码改成上面数据库用户的密码）\\n    MYSQL_DB = 'shadowsocks'\\n    MANAGE_PASS = 'ss233333333'\\n    #if you want manage in other server you should set this value to global ip\\n    MANAGE_BIND_IP = '127.0.0.1'\\n    #make sure this port is idle\\n    MANAGE_PORT = 23333\\n\\n### 防火墙配置\\n\\n不要忘记在系统防火墙中开启需要使用的端口（使用的端口都要开放）：\\n\\n    firewall-cmd --zone=public --add-port=50000/tcp --permanent\\n    firewall-cmd --reload\\n\\n### 启动\\n\\n    python server.py\\n\\n如果没有报错就说明启动正常了。\\n后台运行且注销也不停止：\\n\\n    nohup python server.py > /dev/null 2>&1 &\\n\\n运行时遇到错误，使用一下简单形式代替\\n\\n    nohup python server.py &\\n\\n开机启动：（无法正常执行）\\n开机启动mariadb:\\n\\n    systemctl enable mariadb\\n\\n开机启动many-user:\\n\\n    cd /shadowsocks/shadowsocks/ \\n    #server.py配置文件在这个目录中，调用要先进入这个目录\\n    python server.py --fast-open\\n    \\n\\n\\n## 配置windows和android客户端\\n\\n\\n### 配置windows客户端\\n\\n\\n\\n本地配置的服务器IP填VPS的IP，端口和密码填VPS上服务开启后显示的端口和密码（也就是数据库表中的port和passwd），加密方式选*rc4-md5*。即可正常使用。\\n\\n从[**这里**](https://github.com/shadowsocks/shadowsocks-windows/releases)下载shadowsocks for windows客户端的最新版本。\\n\\n\\n\\n### 配置 Shadowsocks Android 客户端（Android）\\n\\n\\n\\n在各大应用商店搜索“Shadowsocks”或者“影梭”，安装后启动 App。按照 sslocal.json 配置文件相应项目填写配置后，启动软件即可实现 Android 手机翻墙。\\n\\nOS X 用户与 Windows 用户的设置大同小异；iOS 用户可以到 App Store 搜索 Shadowsocks。\\n\\nShadowsocks 官网下载页面:\\n\\nhttps://shadowsocks.org/en/download/clients.html\\n\\n\\n# 参考资料：\\n\\n## shadowsocks安装和配置相关资料\\n\\n[《CentOS下shadowsocks-libev一键安装脚本》](https://teddysun.com/357.html)\\n[《Vultr手动搭建shadowsocks, ipsec/StrongSwan及优化（附ipsec/ikev1服务器无响应的解决）》](http://blog.csdn.net/yanzi1225627/article/details/50960669)\\n[《Centos7中使用shadowsocks建立多用户并控制流量全记录》](https://sikaixing.com/2016/03/06/ss_manyuser/)\\n[《服务器一键搭建shadowsocks及优化》](https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/)\\n[《使用 Shadowsocks 自建翻墙服务器，实现全平台 100% 翻墙无障碍》](https://www.loyalsoldier.me/fuck-the-gfw-with-my-own-shadowsocks-server/)\\n[《在CentOS 6.6上安装ShadowSocks服务端》](http://qing0991.blog.51cto.com/1640542/1649922)\\n\\n\\n## Mysql相关参考\\n[《RHEL 及 CentOS 7 安裝 Apache, MariaDB, PHP(LAMP)》](https://www.phpini.com/linux/redhat-centos-7-setup-apache-mariadb-php)\\n[《21分钟 MySQL 入门教程》](http://www.cnblogs.com/mr-wid/archive/2013/05/09/3068229.html)\\n[《mysql导入sql脚本》](http://www.cnblogs.com/Dot-Boy/archive/2008/08/04/1260185.html)\\n[《mysql 创建用户与授权、修改密码》](http://www.111cn.net/database/mysql/46288.htm)\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"总是使用买的shadowsocks服务器，价格较贵，且不甚稳定，因此决定自己搭建服务器，过程中遇到许多问题，为了以后维护的方便，在此将过程中遇到的问题与解决方法以及参考资料等进行简单的记录。\n\n操作步骤\n1.购买云服务器\n2.连接云服务器\n3.安装shadowsocks\n4.优化shadowsocks性能\n5.配置shadowsocks文件\n6.启动并永久运行shadowsocks\n7.配置windows和android客户端\n\n分步介绍\n购买服务器\n推荐使用美国 VPS 提供商Vultr [http://https://www.vultr.com/]。价格实惠，最低只需每个月 5 美元，支持 PayPal\n支付（国内银行储蓄卡可充值）。\n点击推广链接注册可以享受一定优惠：Vultr优惠 [http://https://www.vultr.com/?ref=7219583]\n服务器配置推荐：内存 ≥512M，\n硬盘 20G，\nCPU 1核，\n流量 500G（单人用）。\n服务器位置尽量选距离自己比较近的：美国西海岸的城市或者日本和新加坡等国家的机房。\n\n\n连接云服务器\n使用ssh方式连接购买并安装好的云服务器，使用的软件不限，Xshell、putty等等ssh连接工具均可。Linux系统下，一般会自带ssh工具，打开终端运行ssh\nroot@xx.xx.xx.xx，然后输入密码即可，\"xx.xx.xx.xx\"部分换成云服务器的地址。\n初始密码在登陆云服务器网站后寻找，首次登陆云服务器后，使用passwd指令更改用户密码。\n\n安装shadowsocks\nshadowsocks有几种不同版本，shadowsocks Python、shadowsocks libev、shadowsocks\ngo还有shadowsocksR。\n选择其中一个版本进行安装，安装方法参考[xyzardQ的博客]，写的比较全面。(\nhttps://xyzardq.github.io/2017/03/07/服务器一键搭建shadowsocks及优化/\n[https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/]\n)。\n第一次搭建，使用了python版本，但是运行过程中发现速度比较不稳定，因此放弃这一版本，然后按照秋水逸冰的博客\n[https://teddysun.com/357.html]搭建了libev版本的shadowsocks。\n之后由于考虑到实验室共用一个服务器，因此将同一个端口、用户名以及密码共享给了多台电脑，但是使用过程中服务器崩溃，即便是在设置多个端口和相应密码之后，仍然存在这个问题。\n下面是配置多用户模式时，修改配置文件的参照：\n\n[root@localhost ~]# cat  /etc/shadowsocks.json\n{\n    \"server\":\"145.78.20.216\",\n    \"port_password\":{\n        \"9000\":\"MyPass1\",\n        \"9001\":\"MyPass2\",\n        \"9002\":\"MyPass3\"\n    },\n    \"local_address\":\"127.0.0.1\",\n    \"local_port\":1080,\n    \"timeout\":300,\n    \"method\":\"rc4-md5\"\n}\n\n\n因此查阅资料后，得出结论是此版本只是个人版本，对于多个用户使用支持不好，因此放弃此版本。\n最终本次搭建选择按照司开星的博客 [https://sikaixing.com/2016/03/06/ss_manyuser/]\n中介绍的方法进行多用户版本的搭建。\n\n下载多用户版本manyuser\nshadowsocks manyuser是一个shadowsocks多用户修改版。官方地址为：\nhttps://github.com/mengskysama/shadowsocks/tree/manyuser\n\n下载：\ngit clone -b manyuser https://github.com/mengskysama/shadowsocks.git\n会在当前目录下载manyuser。\n解压出来为/shadowsocks/shadowsocks（cd shadowsocks/shadowsocks）\n\n安装使用Mysql\nmanyuser使用Mysql存储数据。故需要先安装mysql，centos7中默认为mariaDB（myspl修改版）\n\nyum install mariadb-server mariadb\n\n\n * 启动及关闭：\n   \n   systemctl start mariadb\n   systemctl enable mariadb\n   \n   \n   \n * 修改密码：\n   \n   /usr/bin/mysql_secure_installation\n   \n   \n   \n * 登录：\n   \n   mysql -u root -p\n   \n   \n   \n * 根据manyuser官方指南需要创建一个shadowsocks数据库：\n   \n   create database shadowsocks\n   \n   \n   \n * 选择数据库\n   \n   use shadowsocks\n   \n   \n   \n * 导入下载的manyuser的/shadowsocks/shadowsocks/下的shadowsocks.sql脚本：\n   \n   source /shadowsocks/shadowsocks/shadowsocks.sql\n   \n   \n   脚本会自动在数据库中建立一个user表。\n   \n   \n * 查看脚本写入的内容：\n   \n   show tables\n   \n   \n   \n * 查看表内容：\n   \n   select * from user\n   \n   \n   其中：\n   \n   \n\npasswd: server pass\nport: server port\nt: last keepalive time\nu: upload transfer\nd: download transer\ntransfer_enable: if u + d > transfer_enable this server will be stop\n(db_transfer.py del_server_out_of_bound_safe)\n\n * 添加内容：\n   \n   insert into user() values()\n   \n   \n   \n * 修改内容\n   \n   update 表名称 set 列名称=新值 where 更新条件;\n   \n   \n   \n * 新建一个数据库用户以方便shadowsocks程序管理数据库：\n   \n   create user ssuser@localhost identified by 'passwd'\n   \n   \n   \n * 授权：\n   \n   grant all on shadowsocks.* to 'ssuser'@'localhost'\n   \n   \n   \n * 详细的配置方式查阅文章最下方提供的参考资料\n   \n   \n\n安装其他依赖\nyum install m2crypto\npip install cymysql\n\n\n优化shadowsocks性能\n参考[xyzardQ的博客]中的链接，由于设置较繁琐，故自己搭建的服务器并没有使用加速配置。(\nhttps://xyzardq.github.io/2017/03/07/服务器一键搭建shadowsocks及优化/\n[https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/]\n)\n\n配置shadowsocks文件\nconfig文件配置\nvi Config.py\n\n#Config Example\nMYSQL_HOST = 'localhost'\nMYSQL_PORT = 3306\nMYSQL_USER = 'ssuser'\nMYSQL_PASS = 'passwd'（密码改成上面数据库用户的密码）\nMYSQL_DB = 'shadowsocks'\nMANAGE_PASS = 'ss233333333'\n#if you want manage in other server you should set this value to global ip\nMANAGE_BIND_IP = '127.0.0.1'\n#make sure this port is idle\nMANAGE_PORT = 23333\n\n\n防火墙配置\n不要忘记在系统防火墙中开启需要使用的端口（使用的端口都要开放）：\n\nfirewall-cmd --zone=public --add-port=50000/tcp --permanent\nfirewall-cmd --reload\n\n\n启动\npython server.py\n\n\n如果没有报错就说明启动正常了。\n后台运行且注销也不停止：\n\nnohup python server.py > /dev/null 2>&1 &\n\n\n运行时遇到错误，使用一下简单形式代替\n\nnohup python server.py &\n\n\n开机启动：（无法正常执行）\n开机启动mariadb:\n\nsystemctl enable mariadb\n\n\n开机启动many-user:\n\ncd /shadowsocks/shadowsocks/ \n#server.py配置文件在这个目录中，调用要先进入这个目录\npython server.py --fast-open\n\n\n配置windows和android客户端\n配置windows客户端\n本地配置的服务器IP填VPS的IP，端口和密码填VPS上服务开启后显示的端口和密码（也就是数据库表中的port和passwd），加密方式选rc4-md5\n。即可正常使用。\n\n从这里 [https://github.com/shadowsocks/shadowsocks-windows/releases]下载shadowsocks\nfor windows客户端的最新版本。\n\n配置 Shadowsocks Android 客户端（Android）\n在各大应用商店搜索“Shadowsocks”或者“影梭”，安装后启动 App。按照 sslocal.json 配置文件相应项目填写配置后，启动软件即可实现\nAndroid 手机翻墙。\n\nOS X 用户与 Windows 用户的设置大同小异；iOS 用户可以到 App Store 搜索 Shadowsocks。\n\nShadowsocks 官网下载页面:\n\nhttps://shadowsocks.org/en/download/clients.html\n\n参考资料：\nshadowsocks安装和配置相关资料\n《CentOS下shadowsocks-libev一键安装脚本》 [https://teddysun.com/357.html]\n《Vultr手动搭建shadowsocks, ipsec/StrongSwan及优化（附ipsec/ikev1服务器无响应的解决）》\n[http://blog.csdn.net/yanzi1225627/article/details/50960669]\n《Centos7中使用shadowsocks建立多用户并控制流量全记录》\n[https://sikaixing.com/2016/03/06/ss_manyuser/]\n《服务器一键搭建shadowsocks及优化》\n[https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/]\n《使用 Shadowsocks 自建翻墙服务器，实现全平台 100% 翻墙无障碍》\n[https://www.loyalsoldier.me/fuck-the-gfw-with-my-own-shadowsocks-server/]\n《在CentOS 6.6上安装ShadowSocks服务端》 [http://qing0991.blog.51cto.com/1640542/1649922]\n\nMysql相关参考\n《RHEL 及 CentOS 7 安裝 Apache, MariaDB, PHP(LAMP)》\n[https://www.phpini.com/linux/redhat-centos-7-setup-apache-mariadb-php]\n《21分钟 MySQL 入门教程》\n[http://www.cnblogs.com/mr-wid/archive/2013/05/09/3068229.html]\n《mysql导入sql脚本》 [http://www.cnblogs.com/Dot-Boy/archive/2008/08/04/1260185.html]\n《mysql 创建用户与授权、修改密码》 [http://www.111cn.net/database/mysql/46288.htm]","published_at":"2017-09-28T12:43:02.000Z","slug":"da-jian-shadowsocksfu-wu-qi","status":"published","title":"搭建Shadowsocks服务器","updated_at":"2017-09-29T02:31:35.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dbff","name":"网络","slug":"wang-luo","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"3133-FrUL7NW50a+wytztBSfqt8X8R/0\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"40ms"},"msg":"","time":"2017-09-29T02:31:37.590Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d7b8bf40-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"8f2b-f7uBGbsRP6yE6MQTdQVeDDeHH2s\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"8f2b-f7uBGbsRP6yE6MQTdQVeDDeHH2s\""},"statusCode":304,"responseTime":"48ms"},"msg":"","time":"2017-09-29T02:35:22.853Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d7c198e0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:35:22.864Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d7c36da0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:35:22.876Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d7c59080-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:35:22.890Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d7c5dea0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:35:22.891Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d7cae7b0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:35:22.924Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d7cb0ec0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:35:22.925Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d81c8a20-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"2ms"},"msg":"","time":"2017-09-29T02:35:23.461Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"da2bbb10-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/da-jian-shadowsocksfu-wu-qi/","method":"GET","originalUrl":"/da-jian-shadowsocksfu-wu-qi/","params":{"0":"/da-jian-shadowsocksfu-wu-qi/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"689f-Nw3iGGkXcQcK7xcYa9dBxUTEwps\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"6869-miVAOpZXe4YsI4H/Ai5l35LMS8A\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"38ms"},"msg":"","time":"2017-09-29T02:35:26.952Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"da338340-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"3ms"},"msg":"","time":"2017-09-29T02:35:26.967Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"da357f10-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:35:26.978Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"da3753d0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/vultr.jpg","method":"GET","originalUrl":"/content/images/2017/09/vultr.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:49:09 GMT","if-none-match":"W/\"c7bc-15ec7ace335\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:49:09 GMT","etag":"W/\"c7bc-15ec7ace335\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:35:26.990Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"da3a8820-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:35:27.011Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"da3b9990-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:35:27.018Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"da902230-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"2ms"},"msg":"","time":"2017-09-29T02:35:27.574Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"e1f857e0-a4be-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"30","page":"1","status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"9f5f-IyW8a+Fl4bw0pHpM8OZmWMhXb64\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"27ms"},"msg":"","time":"2017-09-29T02:35:40.027Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"e2074c00-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"statusCode":304,"responseTime":"21ms"},"msg":"","time":"2017-09-29T02:35:40.118Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"e3339700-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"statusCode":304,"responseTime":"23ms"},"msg":"","time":"2017-09-29T02:35:42.088Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"e3376790-a4be-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"19ms"},"msg":"","time":"2017-09-29T02:35:42.109Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"e33aea00-a4be-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/tags/?limit=all","method":"GET","originalUrl":"/ghost/api/v0.1/tags/?limit=all","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"520-YgcdWaNwvap4C2937J2+86Q0fY8\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"15ms"},"msg":"","time":"2017-09-29T02:35:42.128Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"046e5d60-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/slugs/post/%E5%BF%83%E8%B7%AF%E8%AE%B0%E5%BD%95-%23day1/","method":"GET","originalUrl":"/ghost/api/v0.1/slugs/post/%E5%BF%83%E8%B7%AF%E8%AE%B0%E5%BD%95-%23day1/","params":{"type":"post","name":"心路记录-#day1"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"40","etag":"W/\"28-HUxaQ+k4paG5DV1ZbaEJJTZ+7oA\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"18ms"},"msg":"","time":"2017-09-29T02:36:37.833Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0472f140-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/?include=tags","method":"POST","originalUrl":"/ghost/api/v0.1/posts/?include=tags","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"614","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"featured":false,"codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"\"}]],\"sections\":[[10,0]]}","page":false,"slug":"xin-lu-ji-lu-day1","status":"draft","title":"心路记录-#day1","tags":{},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/p/faa56e26-3896-4bc6-b220-dd7015783249/","location":"/ghost/api/v0.1/posts/59cdb1b5a744810195a3dc0b/?status=draft","content-type":"application/json; charset=utf-8","content-length":"798","etag":"W/\"31e-76cSAmlcxkDcWSv0pYhuMwjez0Q\""},"statusCode":201,"responseTime":"27ms"},"msg":"","time":"2017-09-29T02:36:37.872Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0479cf10-a4bf-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"statusCode":304,"responseTime":"21ms"},"msg":"","time":"2017-09-29T02:36:37.911Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"047d9fa0-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"15ms"},"msg":"","time":"2017-09-29T02:36:37.930Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"048037b0-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/tags/?limit=all","method":"GET","originalUrl":"/ghost/api/v0.1/tags/?limit=all","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"520-YgcdWaNwvap4C2937J2+86Q0fY8\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"12ms"},"msg":"","time":"2017-09-29T02:36:37.944Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0c81ee40-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59cdb1b5a744810195a3dc0b/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59cdb1b5a744810195a3dc0b/?include=tags","params":{"id":"59cdb1b5a744810195a3dc0b"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"791","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59cdb1b5a744810195a3dc0b","created_at":"2017-09-29T02:36:37.000Z","created_by":"1","featured":false,"codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"\"}]],\"sections\":[[10,0]]}","page":false,"slug":"xin-lu-ji-lu-day1","status":"draft","title":"心路记录-#day1-20170929","updated_at":"2017-09-29T02:36:37.000Z","updated_by":"1","tags":{},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/p/faa56e26-3896-4bc6-b220-dd7015783249/","content-type":"application/json; charset=utf-8","content-length":"807","etag":"W/\"327-17pvRUJYJAk6s5pgVHaGD7Ta9JA\""},"statusCode":200,"responseTime":"45ms"},"msg":"","time":"2017-09-29T02:36:51.410Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"1317dfd0-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59cdb1b5a744810195a3dc0b/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59cdb1b5a744810195a3dc0b/?include=tags","params":{"id":"59cdb1b5a744810195a3dc0b"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"816","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59cdb1b5a744810195a3dc0b","created_at":"2017-09-29T02:36:37.000Z","created_by":"1","featured":false,"codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"    经过这一个周的\"}]],\"sections\":[[10,0]]}","page":false,"slug":"xin-lu-ji-lu-day1","status":"draft","title":"心路记录-#day1-20170929","updated_at":"2017-09-29T02:36:51.000Z","updated_by":"1","tags":{},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/p/faa56e26-3896-4bc6-b220-dd7015783249/","content-type":"application/json; charset=utf-8","content-length":"854","etag":"W/\"356-+QvwEso4QTg2gUHpAJl0alMW7Nc\""},"statusCode":200,"responseTime":"29ms"},"msg":"","time":"2017-09-29T02:37:02.443Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"37507ce0-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59cdb1b5a744810195a3dc0b/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59cdb1b5a744810195a3dc0b/?include=tags","params":{"id":"59cdb1b5a744810195a3dc0b"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"894","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59cdb1b5a744810195a3dc0b","created_at":"2017-09-29T02:36:37.000Z","created_by":"1","featured":false,"codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"经过这一个周的折腾，终于将shadowsocks和ghost基本搭好，对自己的一点点小成就\"}]],\"sections\":[[10,0]]}","page":false,"slug":"xin-lu-ji-lu-day1","status":"draft","title":"心路记录-#day1-20170929","updated_at":"2017-09-29T02:37:02.000Z","updated_by":"1","tags":{},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/p/faa56e26-3896-4bc6-b220-dd7015783249/","content-type":"application/json; charset=utf-8","content-length":"919","etag":"W/\"397-0xsYLvMoBvRMwogtAcMHGapYY+E\""},"statusCode":200,"responseTime":"30ms"},"msg":"","time":"2017-09-29T02:38:03.213Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"5443d590-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59cdb1b5a744810195a3dc0b/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59cdb1b5a744810195a3dc0b/?include=tags","params":{"id":"59cdb1b5a744810195a3dc0b"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"988","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59cdb1b5a744810195a3dc0b","created_at":"2017-09-29T02:36:37.000Z","created_by":"1","featured":false,"codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"经过这一个周的折腾，终于将shadowsocks和ghost基本搭好，也收获了小小的一些成就感，本来不是计算机相关专业，折腾这些有些麻烦，但是还是对这些 \"}]],\"sections\":[[10,0]]}","page":false,"slug":"xin-lu-ji-lu-day1","status":"draft","title":"心路记录-#day1-20170929","updated_at":"2017-09-29T02:38:03.000Z","updated_by":"1","tags":{},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/p/faa56e26-3896-4bc6-b220-dd7015783249/","content-type":"application/json; charset=utf-8","content-length":"1012","etag":"W/\"3f4-nP71E/dNdcvUeCRgL4/+QWPJRIk\""},"statusCode":200,"responseTime":"28ms"},"msg":"","time":"2017-09-29T02:38:51.783Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"6ddf29a0-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59cdb1b5a744810195a3dc0b/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59cdb1b5a744810195a3dc0b/?include=tags","params":{"id":"59cdb1b5a744810195a3dc0b"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"1103","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59cdb1b5a744810195a3dc0b","created_at":"2017-09-29T02:36:37.000Z","created_by":"1","featured":false,"codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"经过这一个周的折腾，终于将shadowsocks和ghost基本搭好，也收获了小小的一些成就感，本来不是计算机相关专业，折腾这些有些麻烦，但是还是对Linux、服务器搭建还有编程的这些东西比较感兴趣，作为一个业余爱好吧。好不容易折腾好了\"}]],\"sections\":[[10,0]]}","page":false,"slug":"xin-lu-ji-lu-day1","status":"draft","title":"心路记录-#day1-20170929","updated_at":"2017-09-29T02:38:51.000Z","updated_by":"1","tags":{},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/p/faa56e26-3896-4bc6-b220-dd7015783249/","content-type":"application/json; charset=utf-8","etag":"W/\"468-6+MWoqZb4QOuABAbRUmJuJd8h+0\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"36ms"},"msg":"","time":"2017-09-29T02:39:34.752Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"7b62c9b0-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59cdb1b5a744810195a3dc0b/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59cdb1b5a744810195a3dc0b/?include=tags","params":{"id":"59cdb1b5a744810195a3dc0b"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"1211","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59cdb1b5a744810195a3dc0b","created_at":"2017-09-29T02:36:37.000Z","created_by":"1","featured":false,"codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"经过这一个周的折腾，终于将shadowsocks和ghost基本搭好，也收获了小小的一些成就感，本来不是计算机相关专业，折腾这些有些麻烦，但是还是对Linux、服务器搭建还有编程的这些东西比较感兴趣，作为一个业余爱好吧。好不容易折腾好了，自己应该用起来也比较有动力，在这个自己搭建的小天地里面，记录一些自己的\"}]],\"sections\":[[10,0]]}","page":false,"slug":"xin-lu-ji-lu-day1","status":"draft","title":"心路记录-#day1-20170929","updated_at":"2017-09-29T02:39:34.000Z","updated_by":"1","tags":{},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/p/faa56e26-3896-4bc6-b220-dd7015783249/","content-type":"application/json; charset=utf-8","etag":"W/\"4d4-Ort99EiewP3NblufrRKeJNWkrBM\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"31ms"},"msg":"","time":"2017-09-29T02:39:57.420Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"86cbc720-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59cdb1b5a744810195a3dc0b/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59cdb1b5a744810195a3dc0b/?include=tags","params":{"id":"59cdb1b5a744810195a3dc0b"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"1232","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59cdb1b5a744810195a3dc0b","created_at":"2017-09-29T02:36:37.000Z","created_by":"1","featured":false,"codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"经过这一个周的折腾，终于将shadowsocks和ghost基本搭好，也收获了小小的一些成就感，本来不是计算机相关专业，折腾这些有些麻烦，但是还是对Linux、服务器搭建还有编程的这些东西比较感兴趣，作为一个业余爱好吧。好不容易折腾好了，自己应该用起来也比较有动力，在这个自己搭建的小天地里面，记录一些自己的心路历程也好，\"}]],\"sections\":[[10,0]]}","page":false,"slug":"xin-lu-ji-lu-day1","status":"draft","title":"心路记录-#day1-20170929","updated_at":"2017-09-29T02:39:57.000Z","updated_by":"1","tags":{},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/p/faa56e26-3896-4bc6-b220-dd7015783249/","content-type":"application/json; charset=utf-8","etag":"W/\"4e9-RCIltddpRhGsedfWLvPx4VxAACg\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"32ms"},"msg":"","time":"2017-09-29T02:40:16.564Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8d2a2df0-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59cdb1b5a744810195a3dc0b/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59cdb1b5a744810195a3dc0b/?include=tags","params":{"id":"59cdb1b5a744810195a3dc0b"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"1250","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59cdb1b5a744810195a3dc0b","created_at":"2017-09-29T02:36:37.000Z","created_by":"1","featured":false,"codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"经过这一个周的折腾，终于将shadowsocks和ghost基本搭好，也收获了小小的一些成就感，本来不是计算机相关专业，折腾这些有些麻烦，但是还是对Linux、服务器搭建还有编程的这些东西比较感兴趣，作为一个业余爱好吧。好不容易折腾好了，自己应该用起来也比较有动力，在这个自己搭建的小天地里面，记录一些自己的心路历程也好，收获感受也好\"}]],\"sections\":[[10,0]]}","page":false,"slug":"xin-lu-ji-lu-day1","status":"draft","title":"心路记录-#day1-20170929","updated_at":"2017-09-29T02:40:16.000Z","updated_by":"1","tags":{},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/p/faa56e26-3896-4bc6-b220-dd7015783249/","content-type":"application/json; charset=utf-8","etag":"W/\"4fb-0roGzaEwXdIvse/a1FlrvMgh8wM\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"32ms"},"msg":"","time":"2017-09-29T02:40:27.248Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"9b3e7540-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59cdb1b5a744810195a3dc0b/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59cdb1b5a744810195a3dc0b/?include=tags","params":{"id":"59cdb1b5a744810195a3dc0b"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"1331","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59cdb1b5a744810195a3dc0b","created_at":"2017-09-29T02:36:37.000Z","created_by":"1","featured":false,"codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"经过这一个周的折腾，终于将shadowsocks和ghost基本搭好，也收获了小小的一些成就感，本来不是计算机相关专业，折腾这些有些麻烦，但是还是对Linux、服务器搭建还有编程的这些东西比较感兴趣，作为一个业余爱好吧。好不容易折腾好了，自己应该用起来也比较有动力，在这个自己搭建的小天地里面，记录一些自己的心路历程也好，收获感受也好，甚至于一些好的新的想法，不管是学术上的还是工程上的，\"}]],\"sections\":[[10,0]]}","page":false,"slug":"xin-lu-ji-lu-day1","status":"draft","title":"心路记录-#day1-20170929","updated_at":"2017-09-29T02:40:27.000Z","updated_by":"1","tags":{},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/p/faa56e26-3896-4bc6-b220-dd7015783249/","content-type":"application/json; charset=utf-8","etag":"W/\"54c-4I/qZGrekst+v86ic9tuSoIVf4s\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"32ms"},"msg":"","time":"2017-09-29T02:40:50.870Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b7702ba0-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59cdb1b5a744810195a3dc0b/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59cdb1b5a744810195a3dc0b/?include=tags","params":{"id":"59cdb1b5a744810195a3dc0b"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"1421","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59cdb1b5a744810195a3dc0b","created_at":"2017-09-29T02:36:37.000Z","created_by":"1","featured":false,"codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"经过这一个周的折腾，终于将shadowsocks和ghost基本搭好，也收获了小小的一些成就感，本来不是计算机相关专业，折腾这些有些麻烦，但是还是对Linux、服务器搭建还有编程的这些东西比较感兴趣，作为一个业余爱好吧。好不容易折腾好了，自己应该用起来也比较有动力，在这个自己搭建的小天地里面，记录一些自己的心路历程也好，收获感受也好，甚至于一些好的新的想法，不管是学术上的还是工程上的，都随时写一写，积累下来，到之后拿出来看看，应该也是挺有用的。\"}]],\"sections\":[[10,0]]}","page":false,"slug":"xin-lu-ji-lu-day1","status":"draft","title":"心路记录-#day1-20170929","updated_at":"2017-09-29T02:40:50.000Z","updated_by":"1","tags":{},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/p/faa56e26-3896-4bc6-b220-dd7015783249/","content-type":"application/json; charset=utf-8","etag":"W/\"5a6-rmAKRzrx6xd/XiQhs3c8nYtV6SY\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"31ms"},"msg":"","time":"2017-09-29T02:41:38.170Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b896aa40-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"18ms"},"msg":"","time":"2017-09-29T02:41:40.089Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b94ed6b0-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"16ms"},"msg":"","time":"2017-09-29T02:41:41.292Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"bbc13640-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59cdb1b5a744810195a3dc0b/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59cdb1b5a744810195a3dc0b/?include=tags","params":{"id":"59cdb1b5a744810195a3dc0b"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"1425","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59cdb1b5a744810195a3dc0b","created_at":"2017-09-29T02:36:37.000Z","created_by":"1","featured":false,"codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"经过这一个周的折腾，终于将shadowsocks和ghost基本搭好，也收获了小小的一些成就感，本来不是计算机相关专业，折腾这些有些麻烦，但是还是对Linux、服务器搭建还有编程的这些东西比较感兴趣，作为一个业余爱好吧。好不容易折腾好了，自己应该用起来也比较有动力，在这个自己搭建的小天地里面，记录一些自己的心路历程也好，收获感受也好，甚至于一些好的新的想法，不管是学术上的还是工程上的，都随时写一写，积累下来，到之后拿出来看看，应该也是挺有用的。\"}]],\"sections\":[[10,0]]}","page":false,"slug":"xin-lu-ji-lu-day1","status":"published","title":"心路记录-#day1-20170929","updated_at":"2017-09-29T02:41:38.000Z","updated_by":"1","tags":{},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"5bf-onPVUGCxkojyDlmIOFNSZfXcX9Q\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"37ms"},"msg":"","time":"2017-09-29T02:41:45.418Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"bd728fc0-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"17ms"},"msg":"","time":"2017-09-29T02:41:48.239Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d523a000-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"18ms"},"msg":"","time":"2017-09-29T02:42:27.987Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d6637300-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59cdb1b5a744810195a3dc0b/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59cdb1b5a744810195a3dc0b/?include=tags","params":{"id":"59cdb1b5a744810195a3dc0b"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"1586","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59cdb1b5a744810195a3dc0b","created_at":"2017-09-29T02:36:37.000Z","created_by":"1","featured":false,"codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"经过这一个周的折腾，终于将shadowsocks和ghost基本搭好，也收获了小小的一些成就感，本来不是计算机相关专业，折腾这些有些麻烦，但是还是对Linux、服务器搭建还有编程的这些东西比较感兴趣，作为一个业余爱好吧。好不容易折腾好了，自己应该用起来也比较有动力，在这个自己搭建的小天地里面，记录一些自己的心路历程也好，收获感受也好，甚至于一些好的新的想法，不管是学术上的还是工程上的，都随时写一写，积累下来，到之后拿出来看看，应该也是挺有用的。\"}]],\"sections\":[[10,0]]}","page":false,"published_at":"2017-09-29T02:41:45.000Z","slug":"xin-lu-ji-lu-day1","status":"published","title":"心路记录-#day1-20170929","updated_at":"2017-09-29T02:41:45.000Z","updated_by":"1","tags":{"0":{"name":"心路点滴","slug":null,"description":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"829-UaPPJgx2qw0iJ9cK09a4hsWuPRk\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"40ms"},"msg":"","time":"2017-09-29T02:42:30.106Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d79626a0-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"30","page":"1","status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"aa74-zhorBvIr4hX1rIgI9NKzexUKpF8\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T02:42:32.100Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d7a17140-a4bf-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"29ms"},"msg":"","time":"2017-09-29T02:42:32.178Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"e9ddde70-a4bf-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"24ms"},"msg":"","time":"2017-09-29T02:43:02.768Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f4890a20-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"504c-d90X951dGi37aj1dMV+ZrO11KxY\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"20ms"},"msg":"","time":"2017-09-29T02:43:20.663Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f48eaf70-a4bf-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"statusCode":304,"responseTime":"20ms"},"msg":"","time":"2017-09-29T02:43:20.700Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f4920ad0-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"20ms"},"msg":"","time":"2017-09-29T02:43:20.722Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f4934350-a4bf-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/tags/?limit=all","method":"GET","originalUrl":"/ghost/api/v0.1/tags/?limit=all","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"658-8Ij8Z/1gdhNH66eXF4QTmNp/WMk\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"20ms"},"msg":"","time":"2017-09-29T02:43:20.730Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"025ee8e0-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"19ms"},"msg":"","time":"2017-09-29T02:43:43.873Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"026e2b20-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"51","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"13ms"},"msg":"","time":"2017-09-29T02:43:43.968Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0278d980-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"16ms"},"msg":"","time":"2017-09-29T02:43:44.041Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"028890f0-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"55","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"16ms"},"msg":"","time":"2017-09-29T02:43:44.143Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"02938d70-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"13ms"},"msg":"","time":"2017-09-29T02:43:44.212Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"02a1e550-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"56","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"11ms"},"msg":"","time":"2017-09-29T02:43:44.305Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"02abf770-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"15ms"},"msg":"","time":"2017-09-29T02:43:44.375Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"02bb12a0-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"57","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"11ms"},"msg":"","time":"2017-09-29T02:43:44.470Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"02c524c0-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"12ms"},"msg":"","time":"2017-09-29T02:43:44.537Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"02d3cac0-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"58","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"12ms"},"msg":"","time":"2017-09-29T02:43:44.632Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"02de5210-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"15ms"},"msg":"","time":"2017-09-29T02:43:44.705Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"02eca9f0-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"51","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"12ms"},"msg":"","time":"2017-09-29T02:43:44.796Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"02f69500-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"16ms"},"msg":"","time":"2017-09-29T02:43:44.865Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0305b030-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"55","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"17ms"},"msg":"","time":"2017-09-29T02:43:44.965Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"03105e90-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"15ms"},"msg":"","time":"2017-09-29T02:43:45.033Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"031f52b0-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"56","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"12ms"},"msg":"","time":"2017-09-29T02:43:45.128Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0329da00-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"15ms"},"msg":"","time":"2017-09-29T02:43:45.199Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0338f530-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"57","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"18ms"},"msg":"","time":"2017-09-29T02:43:45.302Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"034466e0-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"14ms"},"msg":"","time":"2017-09-29T02:43:45.373Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"03530ce0-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"58","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"12ms"},"msg":"","time":"2017-09-29T02:43:45.467Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":50,"err":{"id":"08dda8f0-a4c0-11e7-ad29-7b3837c864ae","domain":"http://47.95.197.107:2368","code":"ETIMEDOUT","name":"InternalServerError","statusCode":500,"level":"normal","message":"connect ETIMEDOUT 216.58.200.228:80","context":"Pinging services for updates on your blog failed, your blog will continue to function.","help":"If you get this error repeatedly, please seek help on http://docs.ghost.org.","stack":"InternalServerError: connect ETIMEDOUT 216.58.200.228:80\n    at new GhostError (/home/www/ghost/core/server/errors.js:9:26)\n    at ClientRequest.handleError (/home/www/ghost/core/server/data/xml/xmlrpc.js:81:27)\n    at emitOne (events.js:96:13)\n    at ClientRequest.emit (events.js:188:7)\n    at Socket.socketErrorListener (_http_client.js:310:9)\n    at emitOne (events.js:96:13)\n    at Socket.emit (events.js:188:7)\n    at emitErrorNT (net.js:1277:8)\n    at _combinedTickCallback (internal/process/next_tick.js:80:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:128:9)\n\nError: connect ETIMEDOUT 216.58.200.228:80\n    at Object.exports._errnoException (util.js:1020:11)\n    at exports._exceptionWithHostPort (util.js:1043:20)\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1086:14)"},"msg":"connect ETIMEDOUT 216.58.200.228:80","time":"2017-09-29T02:43:54.753Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0d526830-a4c0-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"20195","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装启动ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n还要安装开发工具包\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n使用时发现无法查找到yarn安装包，查找后采用下面方法安装：\\n```\\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\\nyum install yarn\\n```\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件：\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n配置文件格式参考[**这里**](https://github.com/TryGhost/knex-migrator)：\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\\n# 配置ghost\\n本次没有做太多自定义配置，具体可以参考[**这里**](https://www.binarization.com/archive/2016/configuring-ghost/)。\\n\\n\\n# 参考资料：\\n[《基于阿里云ECS的Centos7搭建Ghost》](https://www.itony.net/aliyun-centos7-ghost/)\\n[《NPM 套件管理工具》](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[《Ghost 1.0+ 安装（非ghost-cli方式）》](https://www.ihx.me/ghost1-6insallnocli/)\\n[《knex-migrator-Github》](https://github.com/TryGhost/knex-migrator)\\n[《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\n[《如何在CentOS上安装Ghost？》](https://www.binarization.com/archive/2016/installing-ghost-centos/)\\n[《ghost——Using Ghost as an NPM module》](https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module)\\n[<ghost——Install & Setup (production)》](https://docs.ghost.org/v1/docs/install)\\n[《CentOS Ghost安装教程（PM2+Nginx）》](https://codesky.me/archives/centos-ghost-install-introduce.wind)\\n[《ghost官方帮助文档》](https://themes.ghost.org/docs/author-context#section-author-object-attributes)\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:29:36.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"5119-v74JN6j6Y0yE/zcFQ5kGAauL4Z4\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"71ms"},"msg":"","time":"2017-09-29T02:44:02.301Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3fbb8720-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"POST","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"431","accept-encoding":"identity","content-type":"multipart/form-data; boundary=-333053153","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586.struts-s2-046)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"30ms"},"msg":"","time":"2017-09-29T02:45:26.835Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"749f1bf0-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/showcase/integration/saveGangster.action","method":"POST","originalUrl":"/showcase/integration/saveGangster.action","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"1261","content-type":"application/x-www-form-urlencoded","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/showcase/integration/savegangster.action","vary":"Accept, Accept-Encoding","content-type":"text/plain; charset=utf-8","content-length":"75"},"statusCode":301,"responseTime":"3ms"},"msg":"","time":"2017-09-29T02:46:55.538Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"74a7ce80-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/showcase/integration/savegangster.action","method":"GET","originalUrl":"/showcase/integration/savegangster.action","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/showcase/integration/savegangster.action/"},"statusCode":301,"responseTime":"2ms"},"msg":"","time":"2017-09-29T02:46:55.595Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"74b0a820-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/showcase/integration/savegangster.action/","method":"GET","originalUrl":"/showcase/integration/savegangster.action/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"14ms"},"msg":"","time":"2017-09-29T02:46:55.665Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"74bf2710-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/struts2-showcase/integration/saveGangster.action","method":"POST","originalUrl":"/struts2-showcase/integration/saveGangster.action","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"1261","content-type":"application/x-www-form-urlencoded","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/struts2-showcase/integration/savegangster.action","vary":"Accept, Accept-Encoding","content-type":"text/plain; charset=utf-8","content-length":"83"},"statusCode":301,"responseTime":"2ms"},"msg":"","time":"2017-09-29T02:46:55.748Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"74c84ed0-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/struts2-showcase/integration/savegangster.action","method":"GET","originalUrl":"/struts2-showcase/integration/savegangster.action","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/struts2-showcase/integration/savegangster.action/"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:46:55.807Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"74d12870-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/struts2-showcase/integration/savegangster.action/","method":"GET","originalUrl":"/struts2-showcase/integration/savegangster.action/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"16ms"},"msg":"","time":"2017-09-29T02:46:55.880Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"74dfce70-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/integration/saveGangster.action","method":"POST","originalUrl":"/integration/saveGangster.action","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"1261","content-type":"application/x-www-form-urlencoded","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/integration/savegangster.action","vary":"Accept, Accept-Encoding","content-type":"text/plain; charset=utf-8","content-length":"66"},"statusCode":301,"responseTime":"2ms"},"msg":"","time":"2017-09-29T02:46:55.963Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"74e88100-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/integration/savegangster.action","method":"GET","originalUrl":"/integration/savegangster.action","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/integration/savegangster.action/"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:46:56.018Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"74f10c80-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/integration/savegangster.action/","method":"GET","originalUrl":"/integration/savegangster.action/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"14ms"},"msg":"","time":"2017-09-29T02:46:56.086Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"75a4f330-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/master-status","method":"GET","originalUrl":"/master-status","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/master-status/"},"statusCode":301,"responseTime":"2ms"},"msg":"","time":"2017-09-29T02:46:57.254Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b0d0f5d0-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586.wordpress-restapi-editpost)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"9675","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"35ms"},"msg":"","time":"2017-09-29T02:48:36.561Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b0deb170-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/wp-json/wp/v2/posts","method":"GET","originalUrl":"/wp-json/wp/v2/posts","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586.wordpress-restapi-editpost)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/wp-json/wp/v2/posts/"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:48:36.617Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b0e6a0b0-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/wp-json/wp/v2/posts/","method":"GET","originalUrl":"/wp-json/wp/v2/posts/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586.wordpress-restapi-editpost)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"12ms"},"msg":"","time":"2017-09-29T02:48:36.680Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b6b809c0-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/rs-status","method":"GET","originalUrl":"/rs-status","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/rs-status/"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:48:46.430Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d7293e90-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/ganglia/index.php","method":"GET","originalUrl":"/ganglia/index.php","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/ganglia/index.php/"},"statusCode":301,"responseTime":"2ms"},"msg":"","time":"2017-09-29T02:49:40.859Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f28c5a50-a4c0-11e7-ad29-7b3837c864ae","userId":null},"url":"/index.php","method":"GET","originalUrl":"/index.php","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/index.php/"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:50:26.807Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2534f340-a4c1-11e7-ad29-7b3837c864ae","userId":null},"url":"/jobs/","method":"GET","originalUrl":"/jobs/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"17ms"},"msg":"","time":"2017-09-29T02:51:51.814Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"74ffe420-a4c1-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"9675","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T02:54:05.692Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8c00de40-a4c1-11e7-ad29-7b3837c864ae","userId":null},"url":"/zolbcngexvqs","method":"POST","originalUrl":"/zolbcngexvqs","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"22","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586.elasticsearch_unauthorized)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"16ms"},"msg":"","time":"2017-09-29T02:54:44.276Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8c0b8ca0-a4c1-11e7-ad29-7b3837c864ae","userId":null},"url":"/zolbcngexvqs","method":"GET","originalUrl":"/zolbcngexvqs","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586.elasticsearch_unauthorized)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/zolbcngexvqs/"},"statusCode":301,"responseTime":"2ms"},"msg":"","time":"2017-09-29T02:54:44.334Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8c143f30-a4c1-11e7-ad29-7b3837c864ae","userId":null},"url":"/zolbcngexvqs/","method":"GET","originalUrl":"/zolbcngexvqs/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586.elasticsearch_unauthorized)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"14ms"},"msg":"","time":"2017-09-29T02:54:44.402Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8c1e9f70-a4c1-11e7-ad29-7b3837c864ae","userId":null},"url":"/zolbcngexvqs","method":"DELETE","originalUrl":"/zolbcngexvqs","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586.elasticsearch_unauthorized)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"10ms"},"msg":"","time":"2017-09-29T02:54:44.465Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b9aac770-a4c1-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"9675","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"27ms"},"msg":"","time":"2017-09-29T02:56:00.900Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"cd525d60-a4c1-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"9675","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"23ms"},"msg":"","time":"2017-09-29T02:56:33.870Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"081712b0-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/hwi/","method":"GET","originalUrl":"/hwi/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"14ms"},"msg":"","time":"2017-09-29T02:58:12.458Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"544b9660-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"9675","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"28ms"},"msg":"","time":"2017-09-29T03:00:20.323Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"5ba91db0-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/dfshealth.html","method":"GET","originalUrl":"/dfshealth.html","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/dfshealth.html/"},"statusCode":301,"responseTime":"2ms"},"msg":"","time":"2017-09-29T03:00:32.654Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"6ab27360-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","content-type":"${(\\u0023a1=333053153\\u0029\\u002e(#a2=1234567890).(#a3=#a1+#a2).(#a4='ttpS\\u0065rvletR\\u0065sponse').(#a6='com.op\\u0065nsympho').(#a5='ny.x\\u0077ork2.disp\\u0061tcher.H').(#a7=#a6+#a5+#a4).(#a8='un').(#a9='_\\u0061liy').(#a10=#a9+#a8).(#x1=#cont\\u0065xt[#a7].getWr\\u0069ter()).(#x1.pr\\u0069nt(#a3+#a10)).(#x1.cl\\u006fse())}%0d%0a%20multipart/form-data","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"9675","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"30ms"},"msg":"","time":"2017-09-29T03:00:57.909Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"6ed0d540-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"POST","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"1","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","content-type":"${(\\u0023a1=333053153\\u0029\\u002e(#a2=1234567890).(#a3=#a1+#a2).(#a4='ttpS\\u0065rvletR\\u0065sponse').(#a6='com.op\\u0065nsympho').(#a5='ny.x\\u0077ork2.disp\\u0061tcher.H').(#a7=#a6+#a5+#a4).(#a8='un').(#a9='_\\u0061liy').(#a10=#a9+#a8).(#x1=#cont\\u0065xt[#a7].getWr\\u0069ter()).(#x1.pr\\u0069nt(#a3+#a10)).(#x1.cl\\u006fse())}%0d%0a%20multipart/form-data","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"13ms"},"msg":"","time":"2017-09-29T03:01:04.801Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"709e1b30-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/struts2-showcase/integration/saveGangster.action","method":"POST","originalUrl":"/struts2-showcase/integration/saveGangster.action","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"409","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","content-type":"application/x-www-form-urlencoded","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/struts2-showcase/integration/savegangster.action","vary":"Accept, Accept-Encoding","content-type":"text/plain; charset=utf-8","content-length":"83"},"statusCode":301,"responseTime":"3ms"},"msg":"","time":"2017-09-29T03:01:07.814Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"752243c0-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/clusters.jsf","method":"GET","originalUrl":"/clusters.jsf","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/clusters.jsf/"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T03:01:15.390Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"77190ab0-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/info","method":"GET","originalUrl":"/info","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/info/"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T03:01:18.686Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8369d010-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"9675","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"23ms"},"msg":"","time":"2017-09-29T03:01:39.369Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"857be730-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/jenkins/","method":"GET","originalUrl":"/jenkins/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"14ms"},"msg":"","time":"2017-09-29T03:01:42.833Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"86125ad0-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/zabbix/","method":"GET","originalUrl":"/zabbix/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"15ms"},"msg":"","time":"2017-09-29T03:01:43.820Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"866053c0-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"9675","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T03:01:44.341Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"86a720c0-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/solr/","method":"GET","originalUrl":"/solr/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"17ms"},"msg":"","time":"2017-09-29T03:01:44.798Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"86f2f6d0-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"9675","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"23ms"},"msg":"","time":"2017-09-29T03:01:45.300Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"89097ac0-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/about/","method":"GET","originalUrl":"/about/","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"5825","etag":"W/\"16c1-Ap/v0VenJiih3BBKtB2/sPugEVw\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"13ms"},"msg":"","time":"2017-09-29T03:01:48.794Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8b1fb090-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/warning","method":"GET","originalUrl":"/warning","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/warning/"},"statusCode":301,"responseTime":"3ms"},"msg":"","time":"2017-09-29T03:01:52.284Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8d34fc00-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/pleasereadthis","method":"GET","originalUrl":"/pleasereadthis","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/pleasereadthis/"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T03:01:55.778Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8f013080-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/please_read/_search","method":"GET","originalUrl":"/please_read/_search","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/please_read/_search/"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T03:01:58.794Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"9117db80-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/dfshealth.jsp","method":"GET","originalUrl":"/dfshealth.jsp","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/dfshealth.jsp/"},"statusCode":301,"responseTime":"2ms"},"msg":"","time":"2017-09-29T03:02:02.298Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"91633c60-a4c2-11e7-ad29-7b3837c864ae","userId":null},"url":"/hadoop/dfshealth.jsp","method":"GET","originalUrl":"/hadoop/dfshealth.jsp","params":{},"headers":{"x-forwarded-for":"140.205.225.196","x-real-ip":"140.205.225.196","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.6630586)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/hadoop/dfshealth.jsp/"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T03:02:02.793Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"184d5a30-a4c3-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"30","page":"1","status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"dd25-ehnA2iNV3OfmKzYp0kfQkkwcYjU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"27ms"},"msg":"","time":"2017-09-29T03:05:49.167Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"185ac7b0-a4c3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"statusCode":304,"responseTime":"25ms"},"msg":"","time":"2017-09-29T03:05:49.253Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4e8a8430-a4c6-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"82fd-L/pMlboOAnNAn7v0OU36EnoNr8g\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"35ms"},"msg":"","time":"2017-09-29T03:28:48.664Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4e93abf0-a4c6-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"statusCode":304,"responseTime":"30ms"},"msg":"","time":"2017-09-29T03:28:48.717Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4e977c80-a4c6-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"29ms"},"msg":"","time":"2017-09-29T03:28:48.742Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4e98b500-a4c6-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/tags/?limit=all","method":"GET","originalUrl":"/ghost/api/v0.1/tags/?limit=all","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"658-8Ij8Z/1gdhNH66eXF4QTmNp/WMk\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T03:28:48.746Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"955169b0-a4c6-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"33257","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装启动ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n还要安装开发工具包\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n使用时发现无法查找到yarn安装包，查找后采用下面方法安装：\\n```\\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\\nyum install yarn\\n```\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件：\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n配置文件格式参考[**这里**](https://github.com/TryGhost/knex-migrator)：\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\\n# 配置ghost\\n本次没有做太多自定义配置，具体可以参考[**这里**](https://www.binarization.com/archive/2016/configuring-ghost/)。\\n主题方面的配置可以参考[《Ghost简介和起步实践》](http://wuyijun.cn/ghostjian-jie-he-qi-bu-shi-jian/)。\\n下载主题到[**这里**](https://www.ghostforbeginners.com/themes/)。\\n# 参考资料：\\n[《基于阿里云ECS的Centos7搭建Ghost》](https://www.itony.net/aliyun-centos7-ghost/)\\n[《NPM 套件管理工具》](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[《Ghost 1.0+ 安装（非ghost-cli方式）》](https://www.ihx.me/ghost1-6insallnocli/)\\n[《knex-migrator-Github》](https://github.com/TryGhost/knex-migrator)\\n[《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\n[《如何在CentOS上安装Ghost？》](https://www.binarization.com/archive/2016/installing-ghost-centos/)\\n[《ghost——Using Ghost as an NPM module》](https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module)\\n[<ghost——Install & Setup (production)》](https://docs.ghost.org/v1/docs/install)\\n[《CentOS Ghost安装教程（PM2+Nginx）》](https://codesky.me/archives/centos-ghost-install-introduce.wind)\\n[《ghost官方帮助文档》](https://themes.ghost.org/docs/author-context#section-author-object-attributes)\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。\n\n安装启动ghost\n需要用到的东西\n * 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\n * 使用 MySQL [https://www.mysql.com/]  做数据库服务；\n * 使用 Nginx [https://nginx.org/]  做网页服务器（Ghost的代理服务）；\n * 使用 NodeJS [https://nodejs.org/]  做后端服务；\n * Ghost [https://ghost.org/]一个开源的博客系统；\n\n基础设置\n查看一下系统信息：\ncat /etc/redhat-release  \n\n\nCentOS Linux release 7.4.1708 (Core)\n\n更新一下系统，安装一些基础工具：\n阿里云的centos已经优化了yum的源，你也可以自行修改\n\nyum update -y && yum upgrage -y && yum clean all\n\n\ncurl, wget都是方便后边的下载\nvim作为一个老牌Linux文本编辑工具，你值得拥有\n还要安装开发工具包\n\nyum groupinstall -y \"Development Tools\"\nyum install curl wget vim -y\n\n\n更新全系统的vim配置\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \n\n\nMySQL安装设置\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL\nRepository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\n[https://dev.mysql.com/downloads/repo/yum/%EF%BC%89:]\n\n安裝 MySQL Repository\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\n\n\n安装MySQL数据库的服务器社区稳定版\nyum install mysql-community-server -y\n\n\n启动MySQL服务\nsystemctl start mysqld.service\n\n\n设置随系统自启动\nsystemctl enable mysqld.service  \n\n\n初始化设置\nmysql_secure_installation\n\n\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\n\ngrep \"password\" /var/log/mysqld.log  \n\n\n创建Ghost需要的用户及数据库：\n运行以后输入刚才拿到的密码\n\nmysql -uroot -p \n\n\n添加新数据库blog，后面Ghost会用到\n\nCREATE DATABASE blog;\n\n\n添加新用户ghost（password替换为你需要的密码）\n\nCREATE USER ghost IDENTIFIED BY 'password';\n\n\n授予ghost用户在blog数据库上的所有权限\n（password就是你刚才创建ghost账户时设置的密码）\n\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\n\n\n刷新权限\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\n\nFLUSH PRIVILEGES;\n\n\nCtrl+D 退出\n\n好了，以上就是MySQL部分\n\nNodeJS安装设置\n推荐使用以下方式安装NodeJS\n本系统使用V6稳定版，如需其它版本，你可以自行调整\n\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \n\n\n安装NodeJS及其依赖包\nyum install gcc-c++ make nodejs -y\n\n\nNodeJS安装以后，默认已经自带的NPM\n不过npm\n[https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst]\n之前一直被吐槽，建议***升级最新版或者用yarn代替***\n\n升级npm至最新版本(^v5.0.4)\nnpm install npm@latest -g\n\n\n安装yarn代替（推荐）\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \nyum install yarn -y\n\n\n使用时发现无法查找到yarn安装包，查找后采用下面方法安装：\n\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\nyum install yarn\n\n\n测试一下\nnode -v\n\n\nv6.11.0\n\nnpm -v\n\n\nv5.1.0\n\nyarn -v\n\n\nv0.27.5\n\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\n\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\n\nNginx安装配置\n直接安装即可\nyum install nginx -y\n\n\n立即启动\nsystemctl start nginx\n\n\n设置开机自启动\nsystemctl enable nginx  \n\n\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\n\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\n\n反向代理80端口\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而\nGhost 博客默认运行在 2368 端口上。\n\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\n\n进入 Nginx 配置目录：\ncd /etc/nginx/conf.d\n新建 Ghost 博客的 Nginx 配置文件：\n\nvim ghost.conf\n\n\n按 i 输入以下内容：\n\nserver {\nlisten 80;\nserver_name loyalsoldier.me [http://loyalsoldier.me]  //修改为域名或服务器 IP 地址;\ngzip on;\ngzip_types text/plain application/xml text/css application/javascript\napplication/json application/font-woff application/font-woff2\napplication/vnd.ms-fontobject application/x-font-ttf font/opentype\napplication/pdf image/png image/bmp image/gif image/jpeg image/webp\nimage/svg+xml;\ngzip_proxied no-cache no-store private expired auth;\ngzip_vary on;\ngzip_min_length 1024;\nlocation / {\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\nproxy_set_header X-Real-IP $remote_addr;\nproxy_set_header Host $http_host;\nproxy_set_header X-Forwarded-Proto $scheme;\nproxy_pass http://127.0.0.1:2368;\n}\nlocation ~* .*.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\nproxy_set_header X-Real-IP $remote_addr;\nproxy_set_header Host $http_host;\nproxy_set_header X-Forwarded-Proto $scheme;\nproxy_pass http://127.0.0.1:2368;\nadd_header Cache-Control max-age=2592000;\nexpires 30d;\netag on;\n}\n}\n\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\n\nsudo nginx -t\n\n\n若输出的结果有 ok、successful 等字样，表示配置正确\n\n如果正确的话，重启Nginx服务\n\nsystemctl restart nginx.service  \n\n\n添加新用户\n创建一个名为www的用户组\n\nadduser www\n\n\n设置密码(请记录下你的密码，以后需要用到)\npasswd www\n\n\n分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\ngpasswd -a www wheel\n\n\n将nginx用户添加入www的用户组，方便后期的权限控制\nusermod -a -G nginx,www nginx  \n\n\n安装ghost\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用www账户登录：\n\nssh www@xxx.xxx.xxx.xxx  \n\n\n然后下载Ghost最新的代码。\n\n下载Ghost最新的稳定版\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\n\n\n解压\nunzip -uo ghost.zip -d ghost\n\n\n进入Ghost的目录并安装生产环境的依赖\ncd ghost && npm install --production\n\n\nnpm install\n--production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\n\n修改Ghost的config，修改数据库配置\nvim config.js  \n\n\n完整的config.js配置如下：\n\nvar path = require('path'),\nconfig;\n\nconfig = {\nproduction: {\nurl: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\nmail: {},\ndatabase: {\nclient: 'mysql',（前面安装的mysql数据库，这里一定要对应）\nconnection: {\nhost : '127.0.0.1',\nuser : 'ghost', //用户名\npassword : 'password', //ghost的密码，之前设置的\ndatabase : 'blog', //数据库名\ncharset : 'utf8'\n},\ndebug: false\n},\nserver: {\nhost: '127.0.0.1',\nport: '2368'\n}\n}\n};\n\nmodule.exports = config;\n\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\n\n安装knex-migrator\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\n\n使用vim编写MigrtorConfig.js文件：\n\nvim MigrtorConfig.js\n\n\n配置文件格式参考这里 [https://github.com/TryGhost/knex-migrator]：\n\nmodule.exports = {\ndatabase: {\nclient: 'mysql',\nconnection: {\nhost: '127.0.0.1',\nuser: 'ghost',（之前mysql设置时建立的用户名）\npassword: 'password',（改成mysql的ghost用户密码）\ncharset: 'utf8',\nname: 'blog'（之前mysql设置时建立的数据库）\n}\n},\nmigrationPath: process.cwd() + '/core/server/data/migrations',\ncurrentVersion: 'your-current-database-version',\n/**\nsubfolder: 'upgrades' [default: versions]\n（这一部分在执行时总出问题，就注释掉了）\n*/\n}\n\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\n\nmodule.exports = {\ndatabase: {\nclient: 'sqlite3',\nconnection: {\nfilename: 'path/to/your.db'\n}\n},\nmigrationPath: process.cwd() + '/core/server/data/migrations',\ncurrentVersion: 'your-current-database-version'\n}\n\n使用下面指令安装：\n\nnpm install -g knex-migrator\n\n\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\n\n运行一下：\n\nnpm start --production\n\n\n如果看到下面的提示，证明你已经完成80%了：\n\nGhost is running in production...\nYour blog is now available on xx.xx.xx.xx\nCtrl+C to shut down\n\n问题及解决方案\n权限问题\n在执行npm start\n--production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\nnpmjs.com网站中的解决方法2\n[https://docs.npmjs.com/getting-started/fixing-npm-permissions]。\n首先检查npm的路径：\n\nnpm config get prefix\n\n\n发现是/usr\n然后改变npm的默认路径：\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\n\nmkdir ~/.npm-global\n\n\n2.设置默认路径：\n\nnpm config set prefix '~/.npm-global'\n\n\n3.加入用户PATH：\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\n\nexport PATH=~/.npm-global/bin:$PATH\n\n\n4.更新profile文件\n\nsource ~/.bash_profile\n\n\n检验：全局下载文件包，不要用sudo，也可以省去检测\n\nnpm install -g jshint\n\n\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\n\nNPM_CONFIG_PREFIX=~/.npm-global\n\n\n语法错误问题\nSyntax error: Unexpected token\n\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\n\n全局安装PM2\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start\n--production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\n\nyarn global add pm2 --prefix /usr/local\n\n\n用PM2来启动Ghost的node服务\n先切到ghost的目录，然后再运行\n\nNODE_ENV=production pm2 start index.js --name \"blog\"\n\n\n检查运行结果\npm2 show blog  \n\n\n配置ghost\n本次没有做太多自定义配置，具体可以参考这里\n[https://www.binarization.com/archive/2016/configuring-ghost/]。\n\n参考资料：\n《基于阿里云ECS的Centos7搭建Ghost》 [https://www.itony.net/aliyun-centos7-ghost/]\n《NPM 套件管理工具》\n[https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst]\n《Ghost 1.0+ 安装（非ghost-cli方式）》 [https://www.ihx.me/ghost1-6insallnocli/]\n《knex-migrator-Github》 [https://github.com/TryGhost/knex-migrator]\n《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》\n[https://loyalsoldier.me/deploy-ghost-on-centos-7/]\n《如何在CentOS上安装Ghost？》\n[https://www.binarization.com/archive/2016/installing-ghost-centos/]\n《ghost——Using Ghost as an NPM module》\n[https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module]\n<ghost——Install & Setup (production)》 [https://docs.ghost.org/v1/docs/install]\n《CentOS Ghost安装教程（PM2+Nginx）》\n[https://codesky.me/archives/centos-ghost-install-introduce.wind]\n《ghost官方帮助文档》","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T02:44:02.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"520f-+zyseojdvjh3o9Twfp85Wb+pvM0\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"117ms"},"msg":"","time":"2017-09-29T03:30:47.493Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"96fa5ec0-a4c6-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"33257","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装启动ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n还要安装开发工具包\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n使用时发现无法查找到yarn安装包，查找后采用下面方法安装：\\n```\\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\\nyum install yarn\\n```\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件：\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n配置文件格式参考[**这里**](https://github.com/TryGhost/knex-migrator)：\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\\n# 配置ghost\\n本次没有做太多自定义配置，具体可以参考[**这里**](https://www.binarization.com/archive/2016/configuring-ghost/)。\\n主题方面的配置可以参考[《Ghost简介和起步实践》](http://wuyijun.cn/ghostjian-jie-he-qi-bu-shi-jian/)。\\n下载主题到[**这里**](https://www.ghostforbeginners.com/themes/)。\\n# 参考资料：\\n[《基于阿里云ECS的Centos7搭建Ghost》](https://www.itony.net/aliyun-centos7-ghost/)\\n[《NPM 套件管理工具》](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[《Ghost 1.0+ 安装（非ghost-cli方式）》](https://www.ihx.me/ghost1-6insallnocli/)\\n[《knex-migrator-Github》](https://github.com/TryGhost/knex-migrator)\\n[《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\n[《如何在CentOS上安装Ghost？》](https://www.binarization.com/archive/2016/installing-ghost-centos/)\\n[《ghost——Using Ghost as an NPM module》](https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module)\\n[<ghost——Install & Setup (production)》](https://docs.ghost.org/v1/docs/install)\\n[《CentOS Ghost安装教程（PM2+Nginx）》](https://codesky.me/archives/centos-ghost-install-introduce.wind)\\n[《ghost官方帮助文档》](https://themes.ghost.org/docs/author-context#section-author-object-attributes)\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。\n\n安装启动ghost\n需要用到的东西\n * 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\n * 使用 MySQL [https://www.mysql.com/]  做数据库服务；\n * 使用 Nginx [https://nginx.org/]  做网页服务器（Ghost的代理服务）；\n * 使用 NodeJS [https://nodejs.org/]  做后端服务；\n * Ghost [https://ghost.org/]一个开源的博客系统；\n\n基础设置\n查看一下系统信息：\ncat /etc/redhat-release  \n\n\nCentOS Linux release 7.4.1708 (Core)\n\n更新一下系统，安装一些基础工具：\n阿里云的centos已经优化了yum的源，你也可以自行修改\n\nyum update -y && yum upgrage -y && yum clean all\n\n\ncurl, wget都是方便后边的下载\nvim作为一个老牌Linux文本编辑工具，你值得拥有\n还要安装开发工具包\n\nyum groupinstall -y \"Development Tools\"\nyum install curl wget vim -y\n\n\n更新全系统的vim配置\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \n\n\nMySQL安装设置\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL\nRepository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\n[https://dev.mysql.com/downloads/repo/yum/%EF%BC%89:]\n\n安裝 MySQL Repository\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\n\n\n安装MySQL数据库的服务器社区稳定版\nyum install mysql-community-server -y\n\n\n启动MySQL服务\nsystemctl start mysqld.service\n\n\n设置随系统自启动\nsystemctl enable mysqld.service  \n\n\n初始化设置\nmysql_secure_installation\n\n\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\n\ngrep \"password\" /var/log/mysqld.log  \n\n\n创建Ghost需要的用户及数据库：\n运行以后输入刚才拿到的密码\n\nmysql -uroot -p \n\n\n添加新数据库blog，后面Ghost会用到\n\nCREATE DATABASE blog;\n\n\n添加新用户ghost（password替换为你需要的密码）\n\nCREATE USER ghost IDENTIFIED BY 'password';\n\n\n授予ghost用户在blog数据库上的所有权限\n（password就是你刚才创建ghost账户时设置的密码）\n\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\n\n\n刷新权限\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\n\nFLUSH PRIVILEGES;\n\n\nCtrl+D 退出\n\n好了，以上就是MySQL部分\n\nNodeJS安装设置\n推荐使用以下方式安装NodeJS\n本系统使用V6稳定版，如需其它版本，你可以自行调整\n\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \n\n\n安装NodeJS及其依赖包\nyum install gcc-c++ make nodejs -y\n\n\nNodeJS安装以后，默认已经自带的NPM\n不过npm\n[https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst]\n之前一直被吐槽，建议***升级最新版或者用yarn代替***\n\n升级npm至最新版本(^v5.0.4)\nnpm install npm@latest -g\n\n\n安装yarn代替（推荐）\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \nyum install yarn -y\n\n\n使用时发现无法查找到yarn安装包，查找后采用下面方法安装：\n\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\nyum install yarn\n\n\n测试一下\nnode -v\n\n\nv6.11.0\n\nnpm -v\n\n\nv5.1.0\n\nyarn -v\n\n\nv0.27.5\n\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\n\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\n\nNginx安装配置\n直接安装即可\nyum install nginx -y\n\n\n立即启动\nsystemctl start nginx\n\n\n设置开机自启动\nsystemctl enable nginx  \n\n\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\n\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\n\n反向代理80端口\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而\nGhost 博客默认运行在 2368 端口上。\n\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\n\n进入 Nginx 配置目录：\ncd /etc/nginx/conf.d\n新建 Ghost 博客的 Nginx 配置文件：\n\nvim ghost.conf\n\n\n按 i 输入以下内容：\n\nserver {\nlisten 80;\nserver_name loyalsoldier.me [http://loyalsoldier.me]  //修改为域名或服务器 IP 地址;\ngzip on;\ngzip_types text/plain application/xml text/css application/javascript\napplication/json application/font-woff application/font-woff2\napplication/vnd.ms-fontobject application/x-font-ttf font/opentype\napplication/pdf image/png image/bmp image/gif image/jpeg image/webp\nimage/svg+xml;\ngzip_proxied no-cache no-store private expired auth;\ngzip_vary on;\ngzip_min_length 1024;\nlocation / {\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\nproxy_set_header X-Real-IP $remote_addr;\nproxy_set_header Host $http_host;\nproxy_set_header X-Forwarded-Proto $scheme;\nproxy_pass http://127.0.0.1:2368;\n}\nlocation ~* .*.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\nproxy_set_header X-Real-IP $remote_addr;\nproxy_set_header Host $http_host;\nproxy_set_header X-Forwarded-Proto $scheme;\nproxy_pass http://127.0.0.1:2368;\nadd_header Cache-Control max-age=2592000;\nexpires 30d;\netag on;\n}\n}\n\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\n\nsudo nginx -t\n\n\n若输出的结果有 ok、successful 等字样，表示配置正确\n\n如果正确的话，重启Nginx服务\n\nsystemctl restart nginx.service  \n\n\n添加新用户\n创建一个名为www的用户组\n\nadduser www\n\n\n设置密码(请记录下你的密码，以后需要用到)\npasswd www\n\n\n分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\ngpasswd -a www wheel\n\n\n将nginx用户添加入www的用户组，方便后期的权限控制\nusermod -a -G nginx,www nginx  \n\n\n安装ghost\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用www账户登录：\n\nssh www@xxx.xxx.xxx.xxx  \n\n\n然后下载Ghost最新的代码。\n\n下载Ghost最新的稳定版\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\n\n\n解压\nunzip -uo ghost.zip -d ghost\n\n\n进入Ghost的目录并安装生产环境的依赖\ncd ghost && npm install --production\n\n\nnpm install\n--production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\n\n修改Ghost的config，修改数据库配置\nvim config.js  \n\n\n完整的config.js配置如下：\n\nvar path = require('path'),\nconfig;\n\nconfig = {\nproduction: {\nurl: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\nmail: {},\ndatabase: {\nclient: 'mysql',（前面安装的mysql数据库，这里一定要对应）\nconnection: {\nhost : '127.0.0.1',\nuser : 'ghost', //用户名\npassword : 'password', //ghost的密码，之前设置的\ndatabase : 'blog', //数据库名\ncharset : 'utf8'\n},\ndebug: false\n},\nserver: {\nhost: '127.0.0.1',\nport: '2368'\n}\n}\n};\n\nmodule.exports = config;\n\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\n\n安装knex-migrator\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\n\n使用vim编写MigrtorConfig.js文件：\n\nvim MigrtorConfig.js\n\n\n配置文件格式参考这里 [https://github.com/TryGhost/knex-migrator]：\n\nmodule.exports = {\ndatabase: {\nclient: 'mysql',\nconnection: {\nhost: '127.0.0.1',\nuser: 'ghost',（之前mysql设置时建立的用户名）\npassword: 'password',（改成mysql的ghost用户密码）\ncharset: 'utf8',\nname: 'blog'（之前mysql设置时建立的数据库）\n}\n},\nmigrationPath: process.cwd() + '/core/server/data/migrations',\ncurrentVersion: 'your-current-database-version',\n/**\nsubfolder: 'upgrades' [default: versions]\n（这一部分在执行时总出问题，就注释掉了）\n*/\n}\n\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\n\nmodule.exports = {\ndatabase: {\nclient: 'sqlite3',\nconnection: {\nfilename: 'path/to/your.db'\n}\n},\nmigrationPath: process.cwd() + '/core/server/data/migrations',\ncurrentVersion: 'your-current-database-version'\n}\n\n使用下面指令安装：\n\nnpm install -g knex-migrator\n\n\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\n\n运行一下：\n\nnpm start --production\n\n\n如果看到下面的提示，证明你已经完成80%了：\n\nGhost is running in production...\nYour blog is now available on xx.xx.xx.xx\nCtrl+C to shut down\n\n问题及解决方案\n权限问题\n在执行npm start\n--production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\nnpmjs.com网站中的解决方法2\n[https://docs.npmjs.com/getting-started/fixing-npm-permissions]。\n首先检查npm的路径：\n\nnpm config get prefix\n\n\n发现是/usr\n然后改变npm的默认路径：\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\n\nmkdir ~/.npm-global\n\n\n2.设置默认路径：\n\nnpm config set prefix '~/.npm-global'\n\n\n3.加入用户PATH：\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\n\nexport PATH=~/.npm-global/bin:$PATH\n\n\n4.更新profile文件\n\nsource ~/.bash_profile\n\n\n检验：全局下载文件包，不要用sudo，也可以省去检测\n\nnpm install -g jshint\n\n\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\n\nNPM_CONFIG_PREFIX=~/.npm-global\n\n\n语法错误问题\nSyntax error: Unexpected token\n\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\n\n全局安装PM2\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start\n--production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\n\nyarn global add pm2 --prefix /usr/local\n\n\n用PM2来启动Ghost的node服务\n先切到ghost的目录，然后再运行\n\nNODE_ENV=production pm2 start index.js --name \"blog\"\n\n\n检查运行结果\npm2 show blog  \n\n\n配置ghost\n本次没有做太多自定义配置，具体可以参考这里\n[https://www.binarization.com/archive/2016/configuring-ghost/]。\n\n参考资料：\n《基于阿里云ECS的Centos7搭建Ghost》 [https://www.itony.net/aliyun-centos7-ghost/]\n《NPM 套件管理工具》\n[https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst]\n《Ghost 1.0+ 安装（非ghost-cli方式）》 [https://www.ihx.me/ghost1-6insallnocli/]\n《knex-migrator-Github》 [https://github.com/TryGhost/knex-migrator]\n《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》\n[https://loyalsoldier.me/deploy-ghost-on-centos-7/]\n《如何在CentOS上安装Ghost？》\n[https://www.binarization.com/archive/2016/installing-ghost-centos/]\n《ghost——Using Ghost as an NPM module》\n[https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module]\n<ghost——Install & Setup (production)》 [https://docs.ghost.org/v1/docs/install]\n《CentOS Ghost安装教程（PM2+Nginx）》\n[https://codesky.me/archives/centos-ghost-install-introduce.wind]\n《ghost官方帮助文档》","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T03:30:47.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"520f-DUfTPzGzAAvrPCP7Uwg3iMjnNvA\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"46ms"},"msg":"","time":"2017-09-29T03:30:50.206Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"08bab370-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"164.132.91.1","x-real-ip":"164.132.91.1","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Chrome/41.0.2228.0 Safari/537.36"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"9675","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"24ms"},"msg":"","time":"2017-09-29T03:34:01.023Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"14ae3da0-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/tags/?limit=all&include=count.posts","method":"GET","originalUrl":"/ghost/api/v0.1/tags/?limit=all&include=count.posts","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"count.posts"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"6bc-MwQbIfofNpI8QeGOwCvrzF3aOAU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"18ms"},"msg":"","time":"2017-09-29T03:34:21.069Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"14b0d5b0-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"statusCode":304,"responseTime":"22ms"},"msg":"","time":"2017-09-29T03:34:21.090Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"15160020-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/settings/?type=blog%2Ctheme%2Cprivate","method":"GET","originalUrl":"/ghost/api/v0.1/settings/?type=blog%2Ctheme%2Cprivate","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"type":"blog,theme,private"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"10f9-XUW7FwCmrbQLro66S0+SS7DhAZM\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"19ms"},"msg":"","time":"2017-09-29T03:34:21.750Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"1517fbf0-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"43b-rP67ORqpc20QEPqrLtlCJNpY+p8\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"14ms"},"msg":"","time":"2017-09-29T03:34:21.758Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"151c1aa0-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"statusCode":304,"responseTime":"22ms"},"msg":"","time":"2017-09-29T03:34:21.793Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"15e5ac30-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"statusCode":304,"responseTime":"31ms"},"msg":"","time":"2017-09-29T03:34:23.122Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"15e4c1d0-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/tags/?limit=all&include=count.posts","method":"GET","originalUrl":"/ghost/api/v0.1/tags/?limit=all&include=count.posts","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"count.posts"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"6bc-MwQbIfofNpI8QeGOwCvrzF3aOAU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"40ms"},"msg":"","time":"2017-09-29T03:34:23.126Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"16a5c7e0-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/settings/?type=blog%2Ctheme%2Cprivate","method":"GET","originalUrl":"/ghost/api/v0.1/settings/?type=blog%2Ctheme%2Cprivate","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"type":"blog,theme,private"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"10f9-XUW7FwCmrbQLro66S0+SS7DhAZM\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"21ms"},"msg":"","time":"2017-09-29T03:34:24.372Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"16a5eef0-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"43b-rP67ORqpc20QEPqrLtlCJNpY+p8\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"21ms"},"msg":"","time":"2017-09-29T03:34:24.373Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"16aaa9e0-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"statusCode":304,"responseTime":"26ms"},"msg":"","time":"2017-09-29T03:34:24.409Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"17e043b0-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"43b-rP67ORqpc20QEPqrLtlCJNpY+p8\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"24ms"},"msg":"","time":"2017-09-29T03:34:26.436Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"17e1ca50-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"statusCode":304,"responseTime":"31ms"},"msg":"","time":"2017-09-29T03:34:26.453Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"227464f0-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/upload/","method":"POST","originalUrl":"/ghost/api/v0.1/themes/upload/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"449286","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"multipart/form-data; boundary=----WebKitFormBoundaryglJ8NDCPf4C0t6l5","accept":"text/plain, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","content-type":"application/json; charset=utf-8","etag":"W/\"409-CrEAcn8E5nNqgd+5pSqu292yHiM\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"284ms"},"msg":"","time":"2017-09-29T03:34:44.445Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"246e8740-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"statusCode":304,"responseTime":"40ms"},"msg":"","time":"2017-09-29T03:34:47.517Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"246d4ec0-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/uno-zen-master/activate/","method":"PUT","originalUrl":"/ghost/api/v0.1/themes/uno-zen-master/activate/","params":{"name":"uno-zen-master"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"2","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"408-HeziJrNh+AFhPcTh4sYuUJZDk2o\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"147ms"},"msg":"","time":"2017-09-29T03:34:47.616Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2745ea30-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/settings/","method":"PUT","originalUrl":"/ghost/api/v0.1/settings/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"883","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"settings":{"0":{"key":"title","value":"RPblog"},"1":{"key":"description","value":"Thoughts, stories and ideas."},"2":{"key":"logo","value":"https://casper.ghost.org/v1.0.0/images/ghost-logo.svg"},"3":{"key":"cover_image","value":"https://casper.ghost.org/v1.0.0/images/blog-cover.jpg"},"4":{"key":"icon","value":""},"5":{"key":"default_locale","value":"en"},"6":{"key":"force_i18n","value":"true"},"7":{"key":"permalinks","value":"/:slug/"},"8":{"key":"active_timezone","value":"Asia/Hong_Kong"},"9":{"key":"ghost_head","value":""},"10":{"key":"ghost_foot","value":""},"11":{"key":"facebook","value":""},"12":{"key":"twitter","value":""},"13":{"key":"labs","value":"{\"publicAPI\": true}"},"14":{"key":"navigation","value":"[{\"label\":\"Home\",\"url\":\"/\"}]"},"15":{"key":"is_private","value":"false"},"16":{"key":"password","value":""},"17":{"key":"slack","value":"[{\"url\":\"\"}]"},"18":{"key":"amp","value":"true"},"19":{"key":"unsplash","value":"{\"isActive\":true}"}}},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"1009-QO7SzNOIUiisbbLAqqVCOVK8YPo\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"192ms"},"msg":"","time":"2017-09-29T03:34:52.440Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2a367a70-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/da-jian-shadowsocksfu-wu-qi/","method":"GET","originalUrl":"/da-jian-shadowsocksfu-wu-qi/","params":{"0":"/da-jian-shadowsocksfu-wu-qi/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"6869-miVAOpZXe4YsI4H/Ai5l35LMS8A\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"5f50-7vR5YIaGKYtPJEWzbYQxSyzAlmk\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"71ms"},"msg":"","time":"2017-09-29T03:34:57.247Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2a5c03d0-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/css/uno-zen.css?v=7b44c3f5fc","method":"GET","originalUrl":"/assets/css/uno-zen.css?v=7b44c3f5fc","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"7b44c3f5fc"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:34:44 GMT","etag":"W/\"7e1a-15ecbb361cb\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"5ms"},"msg":"","time":"2017-09-29T03:34:57.427Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2a5eea00-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=7b44c3f5fc","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=7b44c3f5fc","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"7b44c3f5fc"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T03:34:57.441Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2a610ce0-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T03:34:57.456Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2a618210-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/vultr.jpg","method":"GET","originalUrl":"/content/images/2017/09/vultr.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:49:09 GMT","if-none-match":"W/\"c7bc-15ec7ace335\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:49:09 GMT","etag":"W/\"c7bc-15ec7ace335\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T03:34:57.458Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2a624560-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/uno-zen.common.js?v=7b44c3f5fc","method":"GET","originalUrl":"/assets/js/uno-zen.common.js?v=7b44c3f5fc","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"7b44c3f5fc"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:34:44 GMT","etag":"W/\"76c1-15ecbb361cb\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T03:34:57.466Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2a62ba90-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/fonts/foundation-icons/foundation-icons.woff","method":"GET","originalUrl":"/assets/fonts/foundation-icons/foundation-icons.woff","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","origin":"http://47.95.197.107","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:34:44 GMT","etag":"W/\"7d14-15ecbb361d4\"","content-type":"application/font-woff","content-length":32020},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T03:34:57.468Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2a6be250-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/uno-zen.post.js?v=7b44c3f5fc","method":"GET","originalUrl":"/assets/js/uno-zen.post.js?v=7b44c3f5fc","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"7b44c3f5fc"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:34:44 GMT","etag":"W/\"557a-15ecbb361cb\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T03:34:57.528Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2a702810-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/img/favicon-32x32.png?v=wAAv6Wqe6l","method":"GET","originalUrl":"/assets/img/favicon-32x32.png?v=wAAv6Wqe6l","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","accept-encoding":"gzip, deflate","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","dnt":"1"},"body":{},"query":{"v":"wAAv6Wqe6l"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:34:44 GMT","etag":"W/\"5ae-15ecbb361cb\"","content-type":"image/png","content-length":1454},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T03:34:57.554Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"37eac770-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/da-jian-shadowsocksfu-wu-qi/","method":"GET","originalUrl":"/da-jian-shadowsocksfu-wu-qi/","params":{"0":"/da-jian-shadowsocksfu-wu-qi/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"5f50-7vR5YIaGKYtPJEWzbYQxSyzAlmk\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"5f50-7vR5YIaGKYtPJEWzbYQxSyzAlmk\""},"statusCode":304,"responseTime":"40ms"},"msg":"","time":"2017-09-29T03:35:20.207Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"7fc4a390-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"838-f3dtfzBHYI/Q5N3CaQl5svfAbn4\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"43ms"},"msg":"","time":"2017-09-29T03:37:20.757Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"7fc566e0-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"59ms"},"msg":"","time":"2017-09-29T03:37:20.777Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"834f50f0-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/upload/","method":"POST","originalUrl":"/ghost/api/v0.1/themes/upload/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"207766","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"multipart/form-data; boundary=----WebKitFormBoundaryZpHHPQYfZp8ZJKs4","accept":"text/plain, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","content-type":"application/json; charset=utf-8","content-length":"763","etag":"W/\"2fb-cbow8zdBsNnSGMT7FO0f33KzMKQ\""},"statusCode":200,"responseTime":"130ms"},"msg":"","time":"2017-09-29T03:37:26.786Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"84b34dc0-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"30ms"},"msg":"","time":"2017-09-29T03:37:29.020Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"860d8690-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"b27-68UA/9E4sxw+h1Qv9RPmUcPLoPs\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"38ms"},"msg":"","time":"2017-09-29T03:37:31.296Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"860e9800-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"35ms"},"msg":"","time":"2017-09-29T03:37:31.300Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":50,"req":{"meta":{"requestId":"8bfed3b0-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/upload/","method":"POST","originalUrl":"/ghost/api/v0.1/themes/upload/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"31561","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"multipart/form-data; boundary=----WebKitFormBoundaryiWxYB1BP5v2s9mJ3","accept":"text/plain, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","content-type":"application/json; charset=utf-8","etag":"W/\"148f8-sjtwGwhbaqZLM9chNwNnH+zedsw\"","content-encoding":"gzip"},"statusCode":422,"responseTime":"101ms"},"err":{"id":"8c0d79b0-a4c7-11e7-ad29-7b3837c864ae","domain":"http://47.95.197.107:2368","code":null,"name":"ThemeValidationError","statusCode":422,"level":"normal","message":"Theme is not compatible or contains errors.","context":{"path":"/tmp/c82399a8-ea7c-4df8-9eaf-5f588b6cb3f6/Glimpse-master","files":[{"file":"LICENSE"},{"file":"README.md","ext":".md"},{"file":"assets/css/icons.css","ext":".css"},{"file":"assets/css/screen.css","ext":".css"},{"file":"assets/fonts/icomoon.eot","ext":".eot"},{"file":"assets/fonts/icomoon.svg","ext":".svg"},{"file":"assets/fonts/icomoon.ttf","ext":".ttf"},{"file":"assets/fonts/icomoon.woff","ext":".woff"},{"file":"assets/img/aperture.svg","ext":".svg"},{"file":"assets/js/index.js","ext":".js"},{"file":"assets/js/jquery.fitvids.js","ext":".js"},{"file":"assets/libs/unveil/unveil.min.js","ext":".js"},{"file":"author.hbs","ext":".hbs","content":"{{!< default}}\n{{! The tag above means - insert everything in this file into the {body} of the default.hbs template }}\n\n{{! The big featured header }}\n\n{{! Everything inside the #author tags pulls data from the author }}\n{{#author}}\n    <header class=\"main-header author-head {{#if cover}}\" style=\"background-image: url({{cover}}){{else}}no-cover{{/if}}\">\n        <nav class=\"main-nav overlay clearfix\">\n            <a class=\"back-button icon-arrow-left\" href=\"{{@blog.url}}\">Home</a>\n            <a class=\"subscribe-button icon-feed\" href=\"{{url}}rss/\">{{name}}</a>\n        </nav>\n    </header>\n\n    <section class=\"author-profile inner\">\n        {{#if image}}\n        <figure class=\"author-image\">\n            <div class=\"img\" style=\"background-image: url({{image}})\"><span class=\"hidden\">{{name}}'s Picture</span></div>\n        </figure>\n        {{/if}}\n        <h1 class=\"author-title\">{{name}}</h1>\n        <h2 class=\"author-bio\">{{bio}}</h2>\n        <div class=\"author-meta\">\n            {{#if location}}<span class=\"author-location icon-location\">{{location}}</span>{{/if}}\n            {{#if website}}<span class=\"author-link icon-link\"><a href=\"{{website}}\">{{website}}</a></span>{{/if}}\n            <span class=\"author-stats\"><i class=\"icon-stats\"></i> {{plural ../pagination.total empty='No posts' singular='% post' plural='% posts'}}</span>\n        </div>\n    </section>\n{{/author}}\n\n{{! The main content area on the homepage }}\n<main class=\"content\" role=\"main\">\n\n    {{! The tag below includes the post loop - partials/loop.hbs }}\n    {{> \"loop\"}}\n\n</main>","compiled":"{\"1\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=container.escapeExpression, alias3=helpers.helperMissing, alias4=\"function\";\n\n  return \"    <header class=\\\"main-header author-head \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.cover : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0, blockParams, depths),\"inverse\":container.program(4, data, 0, blockParams, depths),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n        <nav class=\\\"main-nav overlay clearfix\\\">\\n            <a class=\\\"back-button icon-arrow-left\\\" href=\\\"\"\n    + alias2(container.lambda(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\">Home</a>\\n            <a class=\\\"subscribe-button icon-feed\\\" href=\\\"\"\n    + alias2(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"rss/\\\">\"\n    + alias2(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a>\\n        </nav>\\n    </header>\\n\\n    <section class=\\\"author-profile inner\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"        <h1 class=\\\"author-title\\\">\"\n    + alias2(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n        <h2 class=\\\"author-bio\\\">\"\n    + alias2(((helper = (helper = helpers.bio || (depth0 != null ? depth0.bio : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"bio\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h2>\\n        <div class=\\\"author-meta\\\">\\n            \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.location : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n            \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.website : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n            <span class=\\\"author-stats\\\"><i class=\\\"icon-stats\\\"></i> \"\n    + alias2((helpers.plural || (depth0 && depth0.plural) || alias3).call(alias1,((stack1 = (depths[1] != null ? depths[1].pagination : depths[1])) != null ? stack1.total : stack1),{\"name\":\"plural\",\"hash\":{\"plural\":\"% posts\",\"singular\":\"% post\",\"empty\":\"No posts\"},\"data\":data}))\n    + \"</span>\\n        </div>\\n    </section>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(((helper = (helper = helpers.cover || (depth0 != null ? depth0.cover : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"cover\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"        <figure class=\\\"author-image\\\">\\n            <div class=\\\"img\\\" style=\\\"background-image: url(\"\n    + alias4(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\\\"><span class=\\\"hidden\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"'s Picture</span></div>\\n        </figure>\\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<span class=\\\"author-location icon-location\\\">\"\n    + container.escapeExpression(((helper = (helper = helpers.location || (depth0 != null ? depth0.location : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"location\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span>\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<span class=\\\"author-link icon-link\\\"><a href=\\\"\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></span>\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, helper, options, buffer = \n  \"\\n\\n\";\n  stack1 = ((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"author\",\"hash\":{},\"fn\":container.program(1, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.author) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"\\n<main class=\\\"content\\\" role=\\\"main\\\">\\n\\n\"\n    + ((stack1 = container.invokePartial(partials.loop,depth0,{\"name\":\"loop\",\"data\":data,\"indent\":\"    \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n</main>\";\n},\"usePartial\":true,\"useData\":true,\"useDepths\":true}"},{"file":"default.hbs","ext":".hbs","content":"<!DOCTYPE html>\n<html>\n<head>\n    {{! Document Settings }}\n    <meta charset=\"utf-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n\n    {{! Page Meta }}\n    <title>{{meta_title}}</title>\n    <meta name=\"description\" content=\"{{meta_description}}\" />\n\n    <meta name=\"HandheldFriendly\" content=\"True\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n\n    <link rel=\"shortcut icon\" href=\"{{asset \"favicon.ico\"}}\">\n\n    {{! Styles'n'Scripts }}\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"{{asset \"css/screen.css\"}}\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400,300\" />\n\n    {{! Ghost outputs important style and meta data with this tag }}\n    {{ghost_head}}\n</head>\n<body class=\"{{body_class}}\">\n\n    {{! Everything else gets inserted here }}\n    {{{body}}}\n\n    <footer class=\"site-footer clearfix\">\n        <section class=\"copyright\"><a href=\"{{@blog.url}}\">{{@blog.title}}</a> &copy; {{date format=\"YYYY\"}}</section>\n    </footer>\n\n    {{! Ghost outputs important scripts and data with this tag }}\n    {{ghost_foot}}\n\n    {{! The main JavaScript file for Glimpse }}\n    <script type=\"text/javascript\" src=\"{{asset \"libs/unveil/unveil.min.js\"}}\"></script>\n    <script type=\"text/javascript\" src=\"{{asset \"js/index.js\"}}\"></script>\n\n</body>\n</html>\n","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression, alias5=container.lambda;\n\n  return \"<!DOCTYPE html>\\n<html>\\n<head>\\n    <meta charset=\\\"utf-8\\\" />\\n    <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=edge\\\" />\\n\\n    <title>\"\n    + alias4(((helper = (helper = helpers.meta_title || (depth0 != null ? depth0.meta_title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"meta_title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</title>\\n    <meta name=\\\"description\\\" content=\\\"\"\n    + alias4(((helper = (helper = helpers.meta_description || (depth0 != null ? depth0.meta_description : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"meta_description\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" />\\n\\n    <meta name=\\\"HandheldFriendly\\\" content=\\\"True\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" />\\n\\n    <link rel=\\\"shortcut icon\\\" href=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"favicon.ico\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\">\\n\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"css/screen.css\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\" />\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400,300\\\" />\\n\\n    \"\n    + alias4(((helper = (helper = helpers.ghost_head || (depth0 != null ? depth0.ghost_head : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"ghost_head\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n</head>\\n<body class=\\\"\"\n    + alias4(((helper = (helper = helpers.body_class || (depth0 != null ? depth0.body_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"body_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\\n    \"\n    + ((stack1 = ((helper = (helper = helpers.body || (depth0 != null ? depth0.body : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"body\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"\\n\\n    <footer class=\\\"site-footer clearfix\\\">\\n        <section class=\\\"copyright\\\"><a href=\\\"\"\n    + alias4(alias5(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\">\"\n    + alias4(alias5(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"</a> &copy; \"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"YYYY\"},\"data\":data}))\n    + \"</section>\\n    </footer>\\n\\n    \"\n    + alias4(((helper = (helper = helpers.ghost_foot || (depth0 != null ? depth0.ghost_foot : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"ghost_foot\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\\n    <script type=\\\"text/javascript\\\" src=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"libs/unveil/unveil.min.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n    <script type=\\\"text/javascript\\\" src=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"js/index.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n\\n</body>\\n</html>\\n\";\n},\"useData\":true}"},{"file":"home.hbs","ext":".hbs","content":"{{!< default}}\n{{! The tag above means - insert everything in this file into the {body} of the default.hbs template }}\n\n{{! The big featured header }}\n<header class=\"main-header\">\n    <h1 class=\"page-title\">\n        <a class=\"blog-logo\" href=\"{{@blog.url}}\">\n            {{@blog.title}}\n        </a>\n    </h1>\n\n    <div class=\"featured-gallery\">\n        {{> \"loop-featured\"}}\n    </div>\n    <a class=\"scroll-down icon-arrow-left\" href=\"#content\" data-offset=\"-45\"><span class=\"hidden\">Scroll Down</span></a>\n    {{! The tag below includes the post loop - partials/loop.hbs }}\n</header>\n{{navigation}}\n{{! The main content area on the homepage }}\n<main id=\"content\" class=\"content\" role=\"main\">\n\n    {{! The tag below includes the post loop - partials/loop.hbs }}\n    {{> \"loop\"}}\n\n</main>","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"\\n<header class=\\\"main-header\\\">\\n    <h1 class=\\\"page-title\\\">\\n        <a class=\\\"blog-logo\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\">\\n            \"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"\\n        </a>\\n    </h1>\\n\\n    <div class=\\\"featured-gallery\\\">\\n\"\n    + ((stack1 = container.invokePartial(partials[\"loop-featured\"],depth0,{\"name\":\"loop-featured\",\"data\":data,\"indent\":\"        \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"    </div>\\n    <a class=\\\"scroll-down icon-arrow-left\\\" href=\\\"#content\\\" data-offset=\\\"-45\\\"><span class=\\\"hidden\\\">Scroll Down</span></a>\\n</header>\\n\"\n    + alias2(((helper = (helper = helpers.navigation || (depth0 != null ? depth0.navigation : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"navigation\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n<main id=\\\"content\\\" class=\\\"content\\\" role=\\\"main\\\">\\n\\n\"\n    + ((stack1 = container.invokePartial(partials.loop,depth0,{\"name\":\"loop\",\"data\":data,\"indent\":\"    \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n</main>\";\n},\"usePartial\":true,\"useData\":true}"},{"file":"index.hbs","ext":".hbs","content":"{{!< default}}\n{{! The tag above means - insert everything in this file into the {body} of the default.hbs template }}\n{{navigation}}\n\n{{! The main content area on the homepage }}\n<main class=\"content\" role=\"main\">\n\n  {{! The tag below includes the post loop - partials/loop.hbs }}\n  {{> \"loop\"}}\n\n</main>\n","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return container.escapeExpression(((helper = (helper = helpers.navigation || (depth0 != null ? depth0.navigation : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"navigation\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\\n<main class=\\\"content\\\" role=\\\"main\\\">\\n\\n\"\n    + ((stack1 = container.invokePartial(partials.loop,depth0,{\"name\":\"loop\",\"data\":data,\"indent\":\"  \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n</main>\\n\";\n},\"usePartial\":true,\"useData\":true}"},{"file":"package.json","ext":".json"},{"file":"page.hbs","ext":".hbs","content":"{{!< default}}\n\n{{! This is a page template. A page outputs content just like any other post, and has all the same\n    attributes by default, but you can also customise it to behave differently if you prefer. }}\n\n{{! Everything inside the #post tags pulls data from the page }}\n{{#post}}\n\n<header class=\"main-header post-head {{#if image}}\" style=\"background-image: url({{image}}){{else}}no-cover{{/if}}\">\n    <nav class=\"main-nav {{#if image}}overlay{{/if}} clearfix\">\n        <a class=\"back-button icon-arrow-left\" href=\"{{@blog.url}}\">Home</a>\n        <a class=\"subscribe-button icon-feed\" href=\"{{@blog.url}}/rss/\">Subscribe</a>\n    </nav>\n</header>\n\n<main class=\"content\" role=\"main\">\n\n    <article class=\"{{post_class}}\">\n    {{! Everything inside the #post tags pulls data from the post }}\n\n        <header class=\"post-header\">\n            <h1 class=\"post-title\">{{title}}</h1>\n        </header>\n\n        <section class=\"post-content\">\n            {{content}}\n        </section>\n\n    </article>\n\n</main>\n{{/post}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=container.lambda, alias3=container.escapeExpression, alias4=helpers.helperMissing, alias5=\"function\";\n\n  return \"\\n<header class=\\\"main-header post-head \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n    <nav class=\\\"main-nav \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \" clearfix\\\">\\n        <a class=\\\"back-button icon-arrow-left\\\" href=\\\"\"\n    + alias3(alias2(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\">Home</a>\\n        <a class=\\\"subscribe-button icon-feed\\\" href=\\\"\"\n    + alias3(alias2(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"/rss/\\\">Subscribe</a>\\n    </nav>\\n</header>\\n\\n<main class=\\\"content\\\" role=\\\"main\\\">\\n\\n    <article class=\\\"\"\n    + alias3(((helper = (helper = helpers.post_class || (depth0 != null ? depth0.post_class : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"post_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\\n        <header class=\\\"post-header\\\">\\n            <h1 class=\\\"post-title\\\">\"\n    + alias3(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n        </header>\\n\\n        <section class=\\\"post-content\\\">\\n            \"\n    + alias3(((helper = (helper = helpers.content || (depth0 != null ? depth0.content : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"content\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n        </section>\\n\\n    </article>\\n\\n</main>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    return \"overlay\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, buffer = \n  \"\\n\\n\";\n  stack1 = ((helper = (helper = helpers.post || (depth0 != null ? depth0.post : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"post\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.post) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"useData\":true}"},{"file":"partials/loop-featured.hbs","ext":".hbs","content":"\n{{! This is the featured post loop - each post will be output using this markup }}\n{{#foreach posts}}\n{{#if featured}}{{#if image}}\n<figure>\n    <img src=\"{{image}}\" alt=\"{{{title}}}\" />\n    <figcaption class=\"main-header-content inner\">{{title}}</figcaption>\n</figure>\n{{/if}}{{/if}}\n{{/foreach}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers[\"if\"].call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.featured : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers[\"if\"].call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\\n<figure>\\n    <img src=\\\"\"\n    + alias4(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + ((stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"\\\" />\\n    <figcaption class=\\\"main-header-content inner\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</figcaption>\\n</figure>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.posts : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"useData\":true}"},{"file":"partials/loop.hbs","ext":".hbs","content":"{{! Previous/next page links - only displayed on page 2+ }}\n<div class=\"extra-pagination inner\">\n    {{pagination}}\n</div>\n<div class=\"post-grid\">\n{{! This is the post loop - each post will be output using this markup }}\n{{#foreach posts}}\n<article class=\"{{post_class}}\">\n    <header class=\"post-header\">\n        {{#if image}}\n        <figure>\n            <a href=\"{{url}}\"><img src=\"{{image}}\" alt=\"{{{title}}}\" /></a>\n        </figure>\n        {{/if}}\n        <h2 class=\"post-title\"><a href=\"{{url}}\">{{{title}}}</a></h2>\n    </header>\n</article>\n{{/foreach}}\n</div>\n{{! Previous/next page links - displayed on every page }}\n{{pagination}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<article class=\\\"\"\n    + alias4(((helper = (helper = helpers.post_class || (depth0 != null ? depth0.post_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"post_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n    <header class=\\\"post-header\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"        <h2 class=\\\"post-title\\\"><a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + ((stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"</a></h2>\\n    </header>\\n</article>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"        <figure>\\n            <a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\"><img src=\\\"\"\n    + alias4(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + ((stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"\\\" /></a>\\n        </figure>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<div class=\\\"extra-pagination inner\\\">\\n    \"\n    + alias4(((helper = (helper = helpers.pagination || (depth0 != null ? depth0.pagination : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"pagination\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n</div>\\n<div class=\\\"post-grid\\\">\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || alias2).call(alias1,(depth0 != null ? depth0.posts : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"</div>\\n\"\n    + alias4(((helper = (helper = helpers.pagination || (depth0 != null ? depth0.pagination : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"pagination\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\";\n},\"useData\":true}"},{"file":"partials/navigation.hbs","ext":".hbs","content":"<nav class=\"tag-nav\">\n<ul>\n\t{{#foreach navigation}}\n\t<li class=\"nav-{{slug}}{{#if current}} nav-current{{/if}}\" role=\"presentation\">\n\t\t<a href=\"{{url absolute=\"true\"}}\"><i></i><span>{{label}}</span></a>\n\t</li>\n\t{{/foreach}}\n</ul>\n<a href=\"javascript: void(0)\" class=\"open-nav-btn\"><i class=\"icon-menu\"></i></a>\n</nav>","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\t<li class=\\\"nav-\"\n    + alias4(((helper = (helper = helpers.slug || (depth0 != null ? depth0.slug : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"slug\",\"hash\":{},\"data\":data}) : helper)))\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.current : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\" role=\\\"presentation\\\">\\n\t\t<a href=\\\"\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\"><i></i><span>\"\n    + alias4(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"label\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span></a>\\n\t</li>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \" nav-current\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<nav class=\\\"tag-nav\\\">\\n<ul>\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.navigation : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"</ul>\\n<a href=\\\"javascript: void(0)\\\" class=\\\"open-nav-btn\\\"><i class=\\\"icon-menu\\\"></i></a>\\n</nav>\";\n},\"useData\":true}"},{"file":"partials/pagination.hbs","ext":".hbs","content":"<nav class=\"pagination\" role=\"navigation\">\n  {{#if prev}}\n      <a class=\"newer-posts\" href=\"{{page_url prev}}\">&larr; Newer entries</a>\n  {{/if}}\n    <span class=\"page-number\">Page {{page}} of {{pages}}</span>\n  {{#if next}}\n      <a class=\"older-posts\" href=\"{{page_url next}}\">Older entries &rarr;</a>\n  {{/if}}\n</nav>\n\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    return \"      <a class=\\\"newer-posts\\\" href=\\\"\"\n    + container.escapeExpression((helpers.page_url || (depth0 && depth0.page_url) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.prev : depth0),{\"name\":\"page_url\",\"hash\":{},\"data\":data}))\n    + \"\\\">&larr; Newer entries</a>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"      <a class=\\\"older-posts\\\" href=\\\"\"\n    + container.escapeExpression((helpers.page_url || (depth0 && depth0.page_url) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.next : depth0),{\"name\":\"page_url\",\"hash\":{},\"data\":data}))\n    + \"\\\">Older entries &rarr;</a>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<nav class=\\\"pagination\\\" role=\\\"navigation\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.prev : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"    <span class=\\\"page-number\\\">Page \"\n    + alias4(((helper = (helper = helpers.page || (depth0 != null ? depth0.page : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"page\",\"hash\":{},\"data\":data}) : helper)))\n    + \" of \"\n    + alias4(((helper = (helper = helpers.pages || (depth0 != null ? depth0.pages : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"pages\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span>\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.next : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"</nav>\\n\\n\";\n},\"useData\":true}"},{"file":"post.hbs","ext":".hbs","content":"{{!< default}}\n\n{{! The comment above \"< default\" means - insert everything in this file into\n    the {body} of the default.hbs template, which contains our header/footer. }}\n\n{{navigation}}\n\n{{! Everything inside the #post tags pulls data from the post }}\n{{#post}}\n<main class=\"content clearfix\" role=\"main\">\n\n    <article class=\"{{post_class}} clearfix\">\n\n        {{#if image}}\n        <figure class=\"post-photo\">\n            <img src=\"{{image}}\" alt=\"{{{title}}}\" />\n        </figure>\n        {{/if}}\n\n        <aside>\n            <header class=\"post-header\">\n                <section class=\"post-meta\">\n                    <h1 class=\"post-title\">{{title}}</h1>\n                    <time class=\"post-date\" datetime=\"{{date format='YYYY-MM-DD'}}\">{{date format=\"DD MMMM YYYY\"}}</time> {{tags prefix=\" on \"}}\n                </section>\n            </header>\n\n            <section class=\"post-content\">\n                {{content}}\n            </section>\n\n            <footer class=\"post-footer\">\n\n                <section class=\"share\">\n                    <h4>Share this post</h4>\n                    <a class=\"icon-twitter\" href=\"https://twitter.com/share?text={{encode title}}&amp;url={{url absolute=\"true\"}}\"\n                        onclick=\"window.open(this.href, 'twitter-share', 'width=550,height=235');return false;\">\n                        <span class=\"hidden\">Twitter</span>\n                    </a>\n                    <a class=\"icon-facebook\" href=\"https://www.facebook.com/sharer/sharer.php?u={{url absolute=\"true\"}}\"\n                        onclick=\"window.open(this.href, 'facebook-share','width=580,height=296');return false;\">\n                        <span class=\"hidden\">Facebook</span>\n                    </a>\n                </section>\n\n            </footer>\n        </aside>\n    </article>\n\n</main>\n\n{{/post}}","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<main class=\\\"content clearfix\\\" role=\\\"main\\\">\\n\\n    <article class=\\\"\"\n    + alias4(((helper = (helper = helpers.post_class || (depth0 != null ? depth0.post_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"post_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \" clearfix\\\">\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n        <aside>\\n            <header class=\\\"post-header\\\">\\n                <section class=\\\"post-meta\\\">\\n                    <h1 class=\\\"post-title\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n                    <time class=\\\"post-date\\\" datetime=\\\"\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"YYYY-MM-DD\"},\"data\":data}))\n    + \"\\\">\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"DD MMMM YYYY\"},\"data\":data}))\n    + \"</time> \"\n    + alias4((helpers.tags || (depth0 && depth0.tags) || alias2).call(alias1,{\"name\":\"tags\",\"hash\":{\"prefix\":\" on \"},\"data\":data}))\n    + \"\\n                </section>\\n            </header>\\n\\n            <section class=\\\"post-content\\\">\\n                \"\n    + alias4(((helper = (helper = helpers.content || (depth0 != null ? depth0.content : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"content\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n            </section>\\n\\n            <footer class=\\\"post-footer\\\">\\n\\n                <section class=\\\"share\\\">\\n                    <h4>Share this post</h4>\\n                    <a class=\\\"icon-twitter\\\" href=\\\"https://twitter.com/share?text=\"\n    + alias4((helpers.encode || (depth0 && depth0.encode) || alias2).call(alias1,(depth0 != null ? depth0.title : depth0),{\"name\":\"encode\",\"hash\":{},\"data\":data}))\n    + \"&amp;url=\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\"\\n                        onclick=\\\"window.open(this.href, 'twitter-share', 'width=550,height=235');return false;\\\">\\n                        <span class=\\\"hidden\\\">Twitter</span>\\n                    </a>\\n                    <a class=\\\"icon-facebook\\\" href=\\\"https://www.facebook.com/sharer/sharer.php?u=\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\"\\n                        onclick=\\\"window.open(this.href, 'facebook-share','width=580,height=296');return false;\\\">\\n                        <span class=\\\"hidden\\\">Facebook</span>\\n                    </a>\\n                </section>\\n\\n            </footer>\\n        </aside>\\n    </article>\\n\\n</main>\\n\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\";\n\n  return \"        <figure class=\\\"post-photo\\\">\\n            <img src=\\\"\"\n    + container.escapeExpression(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + ((stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"\\\" />\\n        </figure>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", buffer = \n  \"\\n\\n\"\n    + container.escapeExpression(((helper = (helper = helpers.navigation || (depth0 != null ? depth0.navigation : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"navigation\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\\n\";\n  stack1 = ((helper = (helper = helpers.post || (depth0 != null ? depth0.post : depth0)) != null ? helper : alias2),(options={\"name\":\"post\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === alias3 ? helper.call(alias1,options) : helper));\n  if (!helpers.post) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"useData\":true}"},{"file":"tag.hbs","ext":".hbs","content":"{{!< default}}\n{{! The tag above means - insert everything in this file into the {body} of the default.hbs template }}\n{{navigation}}\n{{! If we have a tag cover, display that - else blog cover - else nothing }}\n<header class=\"main-header tag-head {{#if tag.image}}\" style=\"background-image: url({{tag.image}}){{else}}{{#if @blog.cover}}\" style=\"background-image: url({{@blog.cover}}){{else}}no-cover{{/if}}{{/if}}\">\n    <div class=\"vertical\">\n        <div class=\"main-header-content inner\">\n            <h1 class=\"page-title\">{{tag.name}}</h1>\n            <h2 class=\"page-description\">\n                {{#if tag.description}}\n                    {{tag.description}}\n                {{else}}\n                    A {{pagination.total}}-post collection\n                {{/if}}\n            </h2>\n        </div>\n    </div>\n</header>\n\n{{! The main content area on the homepage }}\n<main class=\"content\" role=\"main\">\n\n    {{! The tag below includes the post loop - partials/loop.hbs }}\n    {{> \"loop\"}}\n\n</main>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.image : stack1), depth0))\n    + \")\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers[\"if\"].call(depth0 != null ? depth0 : {},((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.program(6, data, 0),\"data\":data})) != null ? stack1 : \"\");\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \")\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"                    \"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.description : stack1), depth0))\n    + \"\\n\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"                    A \"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.pagination : depth0)) != null ? stack1.total : stack1), depth0))\n    + \"-post collection\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=container.escapeExpression;\n\n  return alias2(((helper = (helper = helpers.navigation || (depth0 != null ? depth0.navigation : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"navigation\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n<header class=\\\"main-header tag-head \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.image : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n    <div class=\\\"vertical\\\">\\n        <div class=\\\"main-header-content inner\\\">\\n            <h1 class=\\\"page-title\\\">\"\n    + alias2(container.lambda(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.name : stack1), depth0))\n    + \"</h1>\\n            <h2 class=\\\"page-description\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.description : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.program(10, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"            </h2>\\n        </div>\\n    </div>\\n</header>\\n\\n<main class=\\\"content\\\" role=\\\"main\\\">\\n\\n\"\n    + ((stack1 = container.invokePartial(partials.loop,depth0,{\"name\":\"loop\",\"data\":data,\"indent\":\"    \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n</main>\\n\";\n},\"usePartial\":true,\"useData\":true}"}],"results":{"pass":[{"level":"error","rule":"Replace <code>{{pageUrl}}</code> with <code>{{page_url}}</code>","fatal":true,"details":"The helper <code>{{pageUrl}}</code> was replaced with <code>{{page_url}}</code>.<br>Find more information about the <code>{{page_url}}</code> helper <a href=\"https://themes.ghost.org/docs/page_url\" target=_blank>here</a>.","code":"GS001-DEPR-PURL"},{"level":"error","rule":"Replace the <code>{{author.image}}</code> helper with <code>{{author.profile_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>profile_image</code>.<br>Instead of <code>{{author.image}}</code> you need to use <code>{{author.profile_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-AIMG"},{"level":"error","rule":"Replace the <code>{{post.image}}</code> helper with <code>{{post.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in post context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.image}}</code> you need to use <code>{{post.feature_image}}</code>.<br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PIMG"},{"level":"error","rule":"Replace the <code>{{author.cover}}</code> helper with <code>{{author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{author.cover}}</code> you need to use <code>{{author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-AC"},{"level":"error","rule":"Replace the <code>{{tags.[#].image}}</code> helper with <code>{{tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tags.[#].image}}</code> you need to use <code>{{tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-TSIMG"},{"level":"error","rule":"Replace the <code>{{post.author.image}}</code> helper with <code>{{post.author.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.author.image}}</code> you need to use <code>{{post.author.feature_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PAIMG"},{"level":"error","rule":"Replace the <code>{{post.author.cover}}</code> helper with <code>{{post.author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute in author context was replaced with <code>cover_image</code>.<br>Instead of <code>{{post.author.cover}}</code> you need to use <code>{{post.author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PAC"},{"level":"error","rule":"Replace the <code>{{post.tags.[#].image}}</code> helper with <code>{{post.tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.tags.[#].image}}</code> you need to use <code>{{post.tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PTIMG"},{"level":"error","rule":"Replace the <code>{{#if author.cover}}</code> helper with <code>{{#if author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if author.cover}}</code> you need to use <code>{{#if author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-AC"},{"level":"error","rule":"Replace the <code>{{#if author.image}}</code> helper with <code>{{#if author.profile_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>profile_image</code>.<br>Instead of <code>{{#if author.image}}</code> you need to use <code>{{#if author.profile_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-AIMG"},{"level":"error","rule":"Replace the <code>{{#if post.tags.[#].image}}</code> helper with <code>{{#if post.tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if post.tags.[#].image}}</code> you need to use <code>{{#if post.tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-PTIMG"},{"level":"error","rule":"Replace the <code>{{#if tags.[#].image}}</code> helper with <code>{{#if tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tags.[#].image}}</code> you need to use <code>{{#if tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-TSIMG"},{"level":"error","rule":"Replace <code>{{@blog.posts_per_page}}</code> with <code>{{@config.posts_per_page}}</code>","details":"The global <code>{{@blog.posts_per_page}}</code> property was replaced with <code>{{@config.posts_per_page}}</code>.<br>Read <a href=\"https://themes.ghost.org/docs/config\" target=_blank>here</a> about the attribute and check <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank>here</a> where you can customise the posts per page setting, as this is now adjustable in your theme.","code":"GS001-DEPR-PPP"},{"level":"error","rule":"Replace <code>{{content words=\"0\"}}</code> with the <code>{{img_url}}</code> helper","details":"The <code>{{content words=\"0\"}}</code> hack doesn't work anymore (and was never supported). Please use the <code>{{img_url}}</code> helper to render images.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and ","code":"GS001-DEPR-C0H"},{"level":"error","rule":"Replace <code>.archive-template</code> with the <code>.paged</code> CSS class","details":"The <code>.archive-template</code> CSS class was replaced with the <code>.paged</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-AT"},{"level":"error","rule":"Replace <code>.page</code> with the <code>.page-template</code> css class","details":"The <code>.page</code> CSS class was replaced with the <code>.page-template</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-PA"},{"level":"error","rule":"Replace <code>.page-template-slug</code> with the <code>.page-slug</code> css class","details":"The <code>.page-template-slug</code> CSS class was replaced with the <code>.page-slug</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-PATS"},{"level":"error","rule":"Replace <code>{{id}}</code> with <code>{{comment_id}}</code> in Disqus embeds.","fatal":true,"details":"The output of <code>{{id}}</code> has changed between Ghost LTS and 1.0.0. This results in Disqus comments not loading on Ghost 1.0.0 posts which were imported from Ghost LTS. To resolve this, we've added a new <code>{{comment_id}}</code> helper that will output the old ID for posts that have been imported from LTS, and the new ID for new posts. The Disqus embed must be updated from <code>this.page.identifier = 'ghost-{{id}}';</code> to <code>this.page.identifier = 'ghost-{{comment_id}}';</code> to ensure Disqus continues to work.","code":"GS002-DISQUS-ID"},{"level":"recommendation","rule":"The output of <code>{{id}}</code> changed between Ghost LTS and 1.0.0, you may need to use <code>{{comment_id}}</code> instead.","details":"The output of <code>{{id}}</code> has changed between Ghost LTS and 1.0.0. <code>{{id}}</code> used to output an incrementing integer ID, and will now output an ObjectID. We've added a new <code>{{comment_id}}</code> helper that will output the old ID for posts that have been imported from LTS, and the new ID for new posts. If you need the old ID to be output on imported posts, then you will need to use <code>{{comment_id}}</code> rather than <code>{{id}}</code>.","code":"GS002-ID-HELPER"},{"level":"error","rule":"Templates must contain valid Handlebars","fatal":true,"details":"Oops! You seemed to have used invalid Handlebars syntax. This mostly happens, when you use a helper that is not supported.<br>See the full list of available helpers <a href=\"https://themes.ghost.org/docs/helpers\" target=_blank>here</a>.","code":"GS005-TPL-ERR"},{"level":"error","rule":"<code>package.json</code> file should be present","details":"You should provide a <code>package.json</code> file for your theme.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-REQ"},{"level":"error","rule":"<code>package.json</code> file can be parsed","details":"Your <code>package.json</code> file couldn't be parsed. This is mostly caused by a missing or unnecessary <code>','</code> or the wrong usage of <code>'\"\"'</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> for further information.<br>A good reference for your <code>package.json</code> file is always the latest version of  <a href=\"https://github.com/TryGhost/Casper/blob/master/package.json\" target=_blank>Casper</a>.","code":"GS010-PJ-PARSE"},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> is required","details":"Please add the property <code>\"name\"</code> to your <code>package.json</code>. E.g. <code>{\"name\": \"my-theme\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-NAME-REQ"},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> must be hyphenated","details":"The property <code>\"name\"</code> in your <code>package.json</code> file must be hyphenated.<br>Please use <code>\"my-theme\"</code> rather than <code>\"My Theme\"</code> or <code>\"my theme\"</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--name-\" target=_blank><code>package.json</code> documentation</a> for further information.","code":"GS010-PJ-NAME-HY"},{"level":"error","rule":"<code>package.json</code> property <code>\"version\"</code> must be semver compliant","details":"The property <code>\"version\"</code> in your <code>package.json</code> file must be semver compliant. E.g. <code>{\"version\": \"1.0.0\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--version-\" target=_blank><code>package.json</code> documentation</a> for further information.","code":"GS010-PJ-VERSION-SEM"},{"level":"error","rule":"<code>package.json</code> property <code>\"version\"</code> is required","details":"Please add the property <code>\"version\"</code> to your <code>package.json</code>. E.g. <code>{\"version\": \"1.0.0\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-VERSION-REQ"},{"level":"error","rule":"A template file called <code>index.hbs</code> must be present","fatal":true,"details":"Your theme must have a template file called <code>index.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the required template structure and <code>index.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-index-hbs\" target=_blank>particular</a>.","code":"GS020-INDEX-REQ"},{"level":"error","rule":"A template file called <code>post.hbs</code> must be present","fatal":true,"details":"Your theme must have a template file called <code>index.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the required template structure and <code>post.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-post-hbs\" target=_blank>particular</a>.","code":"GS020-POST-REQ"},{"level":"recommendation","rule":"Provide a default layout template called default.hbs","details":"It is recommended that your theme has a template file called <code>default.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the recommended template structure and <code>default.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-default-hbs\" target=_blank>particular</a>.","code":"GS020-DEF-REC"},{"level":"warning","rule":"Assets such as CSS & JS must use the <code>{{asset}}</code> helper","details":"The listed files should be included using the <code>{{asset}}</code> helper.<br>For more information, please see the <a href=\"https://themes.ghost.org/docs/asset\" target=_blank><code>{{asset}}</code> helper documentation</a>.","code":"GS030-ASSET-REQ"},{"level":"error","rule":"Symlinks in themes are not allowed","fatal":true,"details":"Symbolic links in themes are not allowed. Please use the <code>{{asset}}</code> helper.<br>For more information, please see the <a href=\"https://themes.ghost.org/docs/asset\" target=_blank><code>{{asset}}</code> helper documentation</a>.","code":"GS030-ASSET-SYM"},{"level":"warning","rule":"The helper <code>{{ghost_head}}</code> should be present","details":"The <code>{{ghost_head}}</code> helper should be present in your theme. It outputs many useful things, such as <a href=\"https://help.ghost.org/hc/en-us/articles/223403488-Code-Injection\" target=_blank>\"code injection\" scripts</a>, structured data, canonical links, meta description etc.<br>The helper belongs just before the <code></head></code> tag in your <code>default.hbs</code> template.<br>For more details, please see the <a href=\"https://themes.ghost.org/docs/ghost_head\" target=_blank><code>{{ghost_head}}</code> helper documentation</a>.","code":"GS040-GH-REQ"},{"level":"warning","rule":"The helper <code>{{ghost_foot}}</code> should be present","details":"The <code>{{ghost_foot}}</code> helper should be present in your theme. It outputs scripts as saved in <a href=\"https://help.ghost.org/hc/en-us/articles/223403488-Code-Injection\" target=_blank>\"code injection\" scripts</a>.<br>The helper belongs just before the <code></body></code> tag in your <code>default.hbs</code> template.<br>For more details, please see the <a href=\"https://themes.ghost.org/docs/ghost_foot\" target=_blank><code>{{ghost_foot}}</code> helper documentation</a>.","code":"GS040-GF-REQ"}],"error":[{"fatal":true,"level":"error","rule":"Replace the <code>{{image}}</code> helper with <code>{{img_url feature_image}}</code> or <code>{{img_url profile_image}}</code>","details":"The <code>{{image}}</code> helper was replaced with <code>{{img_url}}</code>.<br>Depending on the context of the <code>{{img_url}}</code> helper you would need to use e. g. <br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{img_url feature_image}}<br>{{/post}}</code><br><br>to render the feature image of the blog post.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and read more about Ghost's usage of contexts <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"partials/loop-featured.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"partials/loop.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{image}} from this template"}],"code":"GS001-DEPR-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{cover}}</code> helper with <code>{{cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To render the cover image in author context, you need to use<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To render the cover image of your blog, just use <code>{{@blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{cover}} from this template"}],"code":"GS001-DEPR-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{@blog.cover}}</code> helper with <code>{{@blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{@blog.cover}}</code> you need to use <code>{{@blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{@blog.cover}} from this template"}],"code":"GS001-DEPR-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{tag.image}}</code> helper with <code>{{tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tag.image}}</code> you need to use <code>{{tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{tag.image}} from this template"}],"code":"GS001-DEPR-TIMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if image}}</code> helper with <code>{{#if feature_image}}</code>, or <code>{{#if profile_image}}</code>","details":"The <code>image</code> attribute was replaced with <code>feature_image</code> and <code>profile_image</code>.<br>Depending on the <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>context</a> you will need to replace it like this:<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/post}}</code><br><br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.<br><br><code>{{#tag}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/tag}}</code><br><br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"partials/loop-featured.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"partials/loop.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{#if image}} from this template"}],"code":"GS001-DEPR-CON-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if cover}}</code> helper with <code>{{#if cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To check for the cover image in author context, you need to use<br><br><code>{{#if cover_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/if}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To check for the cover image of your blog, just use <code>{{#if @blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if cover}} from this template"}],"code":"GS001-DEPR-CON-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if @blog.cover}}</code> helper with <code>{{#if @blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if @blog.cover}}</code> you need to use <code>{{#if @blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"}],"code":"GS001-DEPR-CON-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if tag.image}}</code> helper with <code>{{#if tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tag.image}}</code> you need to use <code>{{#if tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{#if tag.image}} from this template"}],"code":"GS001-DEPR-CON-TIMG"}],"warning":[],"recommendation":[],"missing":[{"level":"error","rule":"The usage of <code>{{meta_description}}</code> in HTML <code>head</code> is no longer required","details":"The usage of <code>{{meta_description}}</code> in the HTML <code>head</code> tag is no longer required because Ghost outputs this for you automatically in <code>{{ghost_head}}</code>.<br>Check out the documentation for <code>{{meta_description}}</code> <a href=\"https://themes.ghost.org/docs/meta_description\" target=_blank>here</a>.<br>To see, what else is rendered with the <code>{{ghost_head}}</code> helper, look <a href=\"https://themes.ghost.org/docs/ghost_head\" target=_blank>here</a>."},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> must be lowercase","details":"The property <code>\"name\"</code> in your <code>package.json</code> file must be lowercase.<br>Good examples are: <code>\"my-theme\"</code> or <code>\"theme\"</code> rather than <code>\"My Theme\"</code> or <code>\"Theme\"</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--name-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"author.email\"</code> must be valid","details":"The property <code>\"author.email\"</code> in your <code>package.json</code> file must a valid email. E.g. <code>{\"author\": {\"email\": \"hello@example.com\"}}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--author-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"recommendation","rule":"<code>package.json</code> property <code>\"config.posts_per_page\"</code> is recommended. Otherwise, it falls back to 5","details":"Please add <code>\"posts_per_page\"</code> to your <code>package.json</code>. E.g. <code>{\"config\": { \"posts_per_page\": 5}}</code>.<br>If no <code>\"posts_per_page\"</code> property is provided, Ghost will use its default setting of 5 posts per page.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"config.posts_per_page\"</code> must be a number above 0","details":"The property <code>\"config.posts_per_page\"</code> in your <code>package.json</code> file must be a number greater than zero. E.g. <code>{\"config\": { \"posts_per_page\": 5}}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"author.email\"</code> is required","details":"Please add the property <code>\"author.email\"</code> to your <code>package.json</code>. E.g. <code>{\"author\": {\"email\": \"hello@example.com\"}}</code>.<br>The email is required so that themes which are distributed (either free or paid) have a method of contacting the author so users can get support and more importantly so that Ghost can reach out about breaking changes and security updates.<br>The <code>package.json</code> file is <strong>NOT</strong> accessible when uploaded to a blog so if the theme is only uploaded to a single blog, no one will see this email address.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended."}],"score":{"value":79,"level":"error"},"hasFatalErrors":true},"partials":["loop-featured","loop","navigation","pagination"],"helpers":{"helperMissing":["author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","default.hbs","home.hbs","index.hbs","page.hbs","page.hbs","page.hbs","partials/loop-featured.hbs","partials/loop-featured.hbs","partials/loop.hbs","partials/loop.hbs","partials/loop.hbs","partials/navigation.hbs","partials/navigation.hbs","partials/pagination.hbs","partials/pagination.hbs","partials/pagination.hbs","post.hbs","post.hbs","post.hbs","tag.hbs"],"url":["author.hbs","partials/loop.hbs","partials/loop.hbs","partials/navigation.hbs","post.hbs","post.hbs"],"name":["author.hbs","author.hbs","author.hbs"],"bio":["author.hbs"],"plural":["author.hbs"],"cover":["author.hbs"],"image":["author.hbs","page.hbs","partials/loop-featured.hbs","partials/loop.hbs","post.hbs"],"location":["author.hbs"],"website":["author.hbs","author.hbs"],"author":["author.hbs","author.hbs"],"blockHelperMissing":["author.hbs","page.hbs","post.hbs"],"meta_title":["default.hbs"],"meta_description":["default.hbs"],"asset":["default.hbs","default.hbs","default.hbs","default.hbs"],"ghost_head":["default.hbs"],"body_class":["default.hbs"],"body":["default.hbs"],"date":["default.hbs","post.hbs","post.hbs"],"ghost_foot":["default.hbs"],"navigation":["home.hbs","index.hbs","post.hbs","tag.hbs"],"post_class":["page.hbs","partials/loop.hbs","post.hbs"],"title":["page.hbs","partials/loop-featured.hbs","partials/loop-featured.hbs","partials/loop.hbs","partials/loop.hbs","post.hbs","post.hbs"],"content":["page.hbs","post.hbs"],"post":["page.hbs","page.hbs","post.hbs","post.hbs"],"foreach":["partials/loop-featured.hbs","partials/loop.hbs","partials/navigation.hbs"],"pagination":["partials/loop.hbs","partials/loop.hbs"],"slug":["partials/navigation.hbs"],"label":["partials/navigation.hbs"],"page_url":["partials/pagination.hbs","partials/pagination.hbs"],"page":["partials/pagination.hbs"],"pages":["partials/pagination.hbs"],"tags":["post.hbs"],"encode":["post.hbs"]},"name":"Glimpse","version":"1.0.0"},"stack":"ThemeValidationError: Theme is not compatible or contains errors.\n    at ThemeValidationError.GhostError (/home/www/ghost/core/server/errors.js:9:26)\n    at new ThemeValidationError (/home/www/ghost/core/server/errors.js:52:20)\n    at resultHandler (/home/www/ghost/core/server/themes/validate.js:32:31)\n    at tryCatcher (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:510:31)\n    at Promise._settlePromise (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:567:18)\n    at Promise._settlePromise0 (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:612:10)\n    at Promise._settlePromises (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:691:18)\n    at Async._drainQueue (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:138:16)\n    at Async._drainQueues (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:148:10)\n    at Immediate.Async.drainQueues (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:17:14)\n    at runCallback (timers.js:672:20)\n    at tryOnImmediate (timers.js:645:5)\n    at processImmediate [as _immediateCallback] (timers.js:617:5)","errorDetails":[{"fatal":true,"level":"error","rule":"Replace the <code>{{image}}</code> helper with <code>{{img_url feature_image}}</code> or <code>{{img_url profile_image}}</code>","details":"The <code>{{image}}</code> helper was replaced with <code>{{img_url}}</code>.<br>Depending on the context of the <code>{{img_url}}</code> helper you would need to use e. g. <br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{img_url feature_image}}<br>{{/post}}</code><br><br>to render the feature image of the blog post.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and read more about Ghost's usage of contexts <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"partials/loop-featured.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"partials/loop.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{image}} from this template"}],"code":"GS001-DEPR-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{cover}}</code> helper with <code>{{cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To render the cover image in author context, you need to use<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To render the cover image of your blog, just use <code>{{@blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{cover}} from this template"}],"code":"GS001-DEPR-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{@blog.cover}}</code> helper with <code>{{@blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{@blog.cover}}</code> you need to use <code>{{@blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{@blog.cover}} from this template"}],"code":"GS001-DEPR-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{tag.image}}</code> helper with <code>{{tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tag.image}}</code> you need to use <code>{{tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{tag.image}} from this template"}],"code":"GS001-DEPR-TIMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if image}}</code> helper with <code>{{#if feature_image}}</code>, or <code>{{#if profile_image}}</code>","details":"The <code>image</code> attribute was replaced with <code>feature_image</code> and <code>profile_image</code>.<br>Depending on the <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>context</a> you will need to replace it like this:<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/post}}</code><br><br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.<br><br><code>{{#tag}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/tag}}</code><br><br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"partials/loop-featured.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"partials/loop.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{#if image}} from this template"}],"code":"GS001-DEPR-CON-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if cover}}</code> helper with <code>{{#if cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To check for the cover image in author context, you need to use<br><br><code>{{#if cover_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/if}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To check for the cover image of your blog, just use <code>{{#if @blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if cover}} from this template"}],"code":"GS001-DEPR-CON-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if @blog.cover}}</code> helper with <code>{{#if @blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if @blog.cover}}</code> you need to use <code>{{#if @blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"}],"code":"GS001-DEPR-CON-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if tag.image}}</code> helper with <code>{{#if tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tag.image}}</code> you need to use <code>{{#if tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{#if tag.image}} from this template"}],"code":"GS001-DEPR-CON-TIMG"}]},"msg":"Theme is not compatible or contains errors.","time":"2017-09-29T03:37:41.336Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8d6149e0-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"24ms"},"msg":"","time":"2017-09-29T03:37:43.574Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8e969590-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"b27-68UA/9E4sxw+h1Qv9RPmUcPLoPs\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"32ms"},"msg":"","time":"2017-09-29T03:37:45.610Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8e977ff0-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"29ms"},"msg":"","time":"2017-09-29T03:37:45.613Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"95250d10-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"59ms"},"msg":"","time":"2017-09-29T03:37:56.638Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"95ddfcd0-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"39ms"},"msg":"","time":"2017-09-29T03:37:57.829Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"95df3550-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"b27-68UA/9E4sxw+h1Qv9RPmUcPLoPs\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"37ms"},"msg":"","time":"2017-09-29T03:37:57.835Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":50,"req":{"meta":{"requestId":"97a52840-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/upload/","method":"POST","originalUrl":"/ghost/api/v0.1/themes/upload/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"760109","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"multipart/form-data; boundary=----WebKitFormBoundaryqlv3bDvU8NOT7dlR","accept":"text/plain, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","content-type":"application/json; charset=utf-8","etag":"W/\"165fd-L66Qi/pSM7bK01PoooTjx3JMlIM\"","content-encoding":"gzip"},"statusCode":422,"responseTime":"169ms"},"err":{"id":"97be0770-a4c7-11e7-ad29-7b3837c864ae","domain":"http://47.95.197.107:2368","code":null,"name":"ThemeValidationError","statusCode":422,"level":"normal","message":"Theme is not compatible or contains errors.","context":{"path":"/tmp/aa14faaf-3acc-4e2f-a040-f26b70d6256b/mneme-master","files":[{"file":"LICENSE"},{"file":"README.md","ext":".md"},{"file":"assets/css/style.less","ext":".less"},{"file":"assets/images/empty.png","ext":".png"},{"file":"assets/js/index.js","ext":".js"},{"file":"assets/libraries/bootstrap/config.json","ext":".json"},{"file":"assets/libraries/bootstrap/css/bootstrap.min.css","ext":".css"},{"file":"assets/libraries/bootstrap/fonts/glyphicons-halflings-regular.eot","ext":".eot"},{"file":"assets/libraries/bootstrap/fonts/glyphicons-halflings-regular.svg","ext":".svg"},{"file":"assets/libraries/bootstrap/fonts/glyphicons-halflings-regular.ttf","ext":".ttf"},{"file":"assets/libraries/bootstrap/fonts/glyphicons-halflings-regular.woff","ext":".woff"},{"file":"assets/libraries/bootstrap/fonts/glyphicons-halflings-regular.woff2","ext":".woff2"},{"file":"assets/libraries/bootstrap/js/bootstrap.min.js","ext":".js"},{"file":"assets/libraries/bootstrap-social/css/bootstrap-social.css","ext":".css"},{"file":"assets/libraries/bootstrap-social/css/font-awesome.css","ext":".css"},{"file":"assets/libraries/bootstrap-social/fonts/FontAwesome.otf","ext":".otf"},{"file":"assets/libraries/bootstrap-social/fonts/fontawesome-webfont.eot","ext":".eot"},{"file":"assets/libraries/bootstrap-social/fonts/fontawesome-webfont.svg","ext":".svg"},{"file":"assets/libraries/bootstrap-social/fonts/fontawesome-webfont.ttf","ext":".ttf"},{"file":"assets/libraries/bootstrap-social/fonts/fontawesome-webfont.woff","ext":".woff"},{"file":"assets/libraries/bootstrap-social/fonts/fontawesome-webfont.woff2","ext":".woff2"},{"file":"assets/libraries/imagesloaded/imagesloaded.pkgd.min.js","ext":".js"},{"file":"assets/libraries/jquery/jquery-1.11.3.min.js","ext":".js"},{"file":"assets/libraries/less/less.min.js","ext":".js"},{"file":"assets/libraries/masonry/masonry.pkgd.min.js","ext":".js"},{"file":"assets/libraries/prism/prism.css","ext":".css"},{"file":"assets/libraries/prism/prism.js","ext":".js"},{"file":"author.hbs","ext":".hbs","content":"{{!< default}}\n{{#author}}\n<article class=\"{{post_class}}\">\n    <div class=\"container limit-width\">\n\n        {{#if cover}}\n        <div class=\"author-profile author-profile-cover\" style=\"background-image: url('{{cover}}');\">\n        {{^}}\n        <div class=\"author-profile\">\n        {{/if}}\n\n            {{#if image}}\n            <div class=\"img-crop img-circle\">\n                <div class=\"img\" style=\"background-image: url('{{image}}');\"></div>\n            </div>\n            {{/if}}\n\n            <h1>{{name}}</h1>\n\n            {{#if location}}\n            <span class=\"glyphicon glyphicon-globe\" aria-hidden=\"true\"></span>\n            <span>{{location}}</span>\n            {{/if}}\n\n            {{#if bio}}\n            <pre>{{bio}}</pre>\n            {{/if}}\n\n            <p>{{plural ../pagination.total empty='No posts' singular='% post' plural='% posts'}}</p>\n\n            {{#if website}}\n            <span class=\"glyphicon glyphicon-globe\" aria-hidden=\"true\"></span>\n            <a href=\"{{website}}\" target=\"_blank\">{{website}}</a>\n            {{/if}}\n\n        </div>\n\n    </div>\n</article>\n\n\n{{/author}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<article class=\\\"\"\n    + alias4(((helper = (helper = helpers.post_class || (depth0 != null ? depth0.post_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"post_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n    <div class=\\\"container limit-width\\\">\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.cover : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0, blockParams, depths),\"inverse\":container.program(4, data, 0, blockParams, depths),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n            <h1>\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.location : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.bio : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n            <p>\"\n    + alias4((helpers.plural || (depth0 && depth0.plural) || alias2).call(alias1,((stack1 = (depths[1] != null ? depths[1].pagination : depths[1])) != null ? stack1.total : stack1),{\"name\":\"plural\",\"hash\":{\"plural\":\"% posts\",\"singular\":\"% post\",\"empty\":\"No posts\"},\"data\":data}))\n    + \"</p>\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.website : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(12, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n        </div>\\n\\n    </div>\\n</article>\\n\\n\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"        <div class=\\\"author-profile author-profile-cover\\\" style=\\\"background-image: url('\"\n    + container.escapeExpression(((helper = (helper = helpers.cover || (depth0 != null ? depth0.cover : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"cover\",\"hash\":{},\"data\":data}) : helper)))\n    + \"');\\\">\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"        <div class=\\\"author-profile\\\">\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"            <div class=\\\"img-crop img-circle\\\">\\n                <div class=\\\"img\\\" style=\\\"background-image: url('\"\n    + container.escapeExpression(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \"');\\\"></div>\\n            </div>\\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"            <span class=\\\"glyphicon glyphicon-globe\\\" aria-hidden=\\\"true\\\"></span>\\n            <span>\"\n    + container.escapeExpression(((helper = (helper = helpers.location || (depth0 != null ? depth0.location : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"location\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span>\\n\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"            <pre>\"\n    + container.escapeExpression(((helper = (helper = helpers.bio || (depth0 != null ? depth0.bio : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"bio\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</pre>\\n\";\n},\"12\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"            <span class=\\\"glyphicon glyphicon-globe\\\" aria-hidden=\\\"true\\\"></span>\\n            <a href=\\\"\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" target=\\\"_blank\\\">\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, helper, options, buffer = \"\";\n\n  stack1 = ((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"author\",\"hash\":{},\"fn\":container.program(1, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.author) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"useData\":true,\"useDepths\":true}"},{"file":"default.hbs","ext":".hbs","content":"<!DOCTYPE html lang=\"ko\">\n<html>\n<head>\n\t{{! Document Settings }}\n\t<meta charset=\"utf-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, user-scalable=no\">\n    <meta name=\"description\" content=\"{{@blog.description}}\" />\n\n\t{{! Page Meta }}\n\t<title>{{@blog.title}} {{#is \"post\"}} - {{meta_title}}{{/is}}</title>\n\n\t<meta name=\"HandheldFriendly\" content=\"True\" />\n\t<meta name=\"viewport\" content=\"width=device-width, user-scalable=no\">\n\n    {{! Styles'n'Scripts }}\n\t<link rel=\"stylesheet\" href=\"{{asset \"libraries/bootstrap/css/bootstrap.min.css\"}}\" charset=\"utf8\" />\n\t<link rel=\"stylesheet\" href=\"{{asset \"libraries/prism/prism.css\"}}\" charset=\"utf8\" />\n\t<link rel=\"stylesheet\" href=\"{{asset \"libraries/bootstrap-social/css/bootstrap-social.css\"}}\" charset=\"utf8\" />\n\t<link rel=\"stylesheet\" href=\"{{asset \"libraries/bootstrap-social/css/font-awesome.css\"}}\" charset=\"utf8\" />\n    <link rel=\"stylesheet/less\" href=\"{{asset \"css/style.less\"}}\" charset=\"utf8\" />\n\n\t<script src=\"{{asset \"libraries/less/less.min.js\"}}\"></script>\n\n\t{{! Ghost outputs important style and meta data with this tag }}\n    {{ghost_head}}\n</head>\n\n{{#if @blog.cover}}\n<body class=\"{{body_class}} with-cover\" style=\"background-image: url('{{@blog.cover}}');\">\n{{else}}\n<body class=\"{{body_class}}\">\n{{/if}}\n\n\t{{#if @blog.cover}}\n\t<nav class=\"navbar navbar-default\" style=\"background-image: url('{{@blog.cover}}');\">\n\t{{else}}\n\t<nav class=\"navbar navbar-default\">\n\t{{/if}}\n\n        <div class=\"container limit-width\">\n\n\t\t\t<div class=\"navbar-header\">\n\n                <button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#navbar\" aria-expanded=\"false\">\n                    <span class=\"sr-only\">Toggle navigation</span>\n                    <span class=\"glyphicon glyphicon-menu-hamburger\" aria-hidden=\"true\"></span>\n                </button>\n\n                {{#if @blog.logo}}\n                    <a class=\"navbar-brand img\" href=\"{{@blog.url}}\">\n                        <img alt=\"{{@blog.title}}\" src=\"{{@blog.logo}}\">\n                    </a>\n                {{^}}\n                    <a class=\"navbar-brand\" href=\"{{@blog.url}}\">{{@blog.title}}</a>\n                {{/if}}\n\n            </div>\n\n            {{{navigation}}}\n\n        </div>\n    </nav>\n\n\t{{! Everything else gets inserted here }}\n    {{{body}}}\n\n\t{{! SNS widgets here. If you don't want to use, you can remove it }}\n\t{{> addons/widgets}}\n\n    {{> footer}}\n\n    {{! Ghost outputs important scripts and data with this tag }}\n    {{ghost_foot}}\n\t<script type=\"text/javascript\">\n\t\tif (typeof jQuery == 'undefined') {\n\t\t\tdocument.write('<script type=\"text/javascript\" src=\"{{asset \"libraries/jquery/jquery-1.11.3.min.js\"}}\"></'+'script>');\n\t  \t}\n\t</script>\n    <script src=\"{{asset \"libraries/bootstrap/js/bootstrap.min.js\"}}\"></script>\n    <script src=\"{{asset \"libraries/imagesloaded/imagesloaded.pkgd.min.js\"}}\"></script>\n    <script src=\"{{asset \"libraries/masonry/masonry.pkgd.min.js\"}}\"></script>\n\t<script src=\"{{asset \"libraries/prism/prism.js\"}}\"></script>\n    <script src=\"{{asset \"js/index.js\"}}\"></script>\n</body>\n\n</html>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \" - \"\n    + container.escapeExpression(((helper = (helper = helpers.meta_title || (depth0 != null ? depth0.meta_title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"meta_title\",\"hash\":{},\"data\":data}) : helper)));\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.escapeExpression;\n\n  return \"<body class=\\\"\"\n    + alias1(((helper = (helper = helpers.body_class || (depth0 != null ? depth0.body_class : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"body_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \" with-cover\\\" style=\\\"background-image: url('\"\n    + alias1(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \"');\\\">\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<body class=\\\"\"\n    + container.escapeExpression(((helper = (helper = helpers.body_class || (depth0 != null ? depth0.body_class : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"body_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\t<nav class=\\\"navbar navbar-default\\\" style=\\\"background-image: url('\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \"');\\\">\\n\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    return \"\t<nav class=\\\"navbar navbar-default\\\">\\n\";\n},\"11\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"                    <a class=\\\"navbar-brand img\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\">\\n                        <img alt=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"\\\" src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\">\\n                    </a>\\n\";\n},\"13\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"                    <a class=\\\"navbar-brand\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\">\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"</a>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : {}, alias4=helpers.helperMissing, alias5=\"function\";\n\n  return \"<!DOCTYPE html lang=\\\"ko\\\">\\n<html>\\n<head>\\n\t<meta charset=\\\"utf-8\\\" />\\n    <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=edge\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, user-scalable=no\\\">\\n    <meta name=\\\"description\\\" content=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.description), depth0))\n    + \"\\\" />\\n\\n\t<title>\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \" \"\n    + ((stack1 = (helpers.is || (depth0 && depth0.is) || alias4).call(alias3,\"post\",{\"name\":\"is\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"</title>\\n\\n\t<meta name=\\\"HandheldFriendly\\\" content=\\\"True\\\" />\\n\t<meta name=\\\"viewport\\\" content=\\\"width=device-width, user-scalable=no\\\">\\n\\n\t<link rel=\\\"stylesheet\\\" href=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/bootstrap/css/bootstrap.min.css\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\" charset=\\\"utf8\\\" />\\n\t<link rel=\\\"stylesheet\\\" href=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/prism/prism.css\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\" charset=\\\"utf8\\\" />\\n\t<link rel=\\\"stylesheet\\\" href=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/bootstrap-social/css/bootstrap-social.css\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\" charset=\\\"utf8\\\" />\\n\t<link rel=\\\"stylesheet\\\" href=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/bootstrap-social/css/font-awesome.css\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\" charset=\\\"utf8\\\" />\\n    <link rel=\\\"stylesheet/less\\\" href=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"css/style.less\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\" charset=\\\"utf8\\\" />\\n\\n\t<script src=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/less/less.min.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n\\n    \"\n    + alias2(((helper = (helper = helpers.ghost_head || (depth0 != null ? depth0.ghost_head : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"ghost_head\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n</head>\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias3,((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.program(5, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias3,((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.program(9, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n        <div class=\\\"container limit-width\\\">\\n\\n\t\t\t<div class=\\\"navbar-header\\\">\\n\\n                <button type=\\\"button\\\" class=\\\"navbar-toggle collapsed\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#navbar\\\" aria-expanded=\\\"false\\\">\\n                    <span class=\\\"sr-only\\\">Toggle navigation</span>\\n                    <span class=\\\"glyphicon glyphicon-menu-hamburger\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias3,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(11, data, 0),\"inverse\":container.program(13, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n            </div>\\n\\n            \"\n    + ((stack1 = ((helper = (helper = helpers.navigation || (depth0 != null ? depth0.navigation : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"navigation\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"\\n\\n        </div>\\n    </nav>\\n\\n    \"\n    + ((stack1 = ((helper = (helper = helpers.body || (depth0 != null ? depth0.body : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"body\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"\\n\\n\"\n    + ((stack1 = container.invokePartial(partials[\"addons/widgets\"],depth0,{\"name\":\"addons/widgets\",\"data\":data,\"indent\":\"\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = container.invokePartial(partials.footer,depth0,{\"name\":\"footer\",\"data\":data,\"indent\":\"    \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n    \"\n    + alias2(((helper = (helper = helpers.ghost_foot || (depth0 != null ? depth0.ghost_foot : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"ghost_foot\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\t<script type=\\\"text/javascript\\\">\\n\t\tif (typeof jQuery == 'undefined') {\\n\t\t\tdocument.write('<script type=\\\"text/javascript\\\" src=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/jquery/jquery-1.11.3.min.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></'+'script>');\\n\t  \t}\\n\t</script>\\n    <script src=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/bootstrap/js/bootstrap.min.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n    <script src=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/imagesloaded/imagesloaded.pkgd.min.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n    <script src=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/masonry/masonry.pkgd.min.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n\t<script src=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/prism/prism.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n    <script src=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"js/index.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n</body>\\n\\n</html>\\n\";\n},\"usePartial\":true,\"useData\":true}"},{"file":"index.hbs","ext":".hbs","content":"{{!< default}}\n\n<div class=\"spinner\"></div>\n\n<section class=\"{{body_class}}\">\n    <div class=\"container\">\n        <div class=\"row grid\">\n\t\t\t{{#if posts}}\n\t\t\t\t{{#foreach posts}}\n\t\t\t\t\t{{> loop_post}}\n            \t{{/foreach}}\n\t\t\t{{else}}\n\t\t\t\t{{> empty_posts}}\n\t\t\t{{/if}}\n        </div>\n\n    </div>\n</section>\n\n{{pagination}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.posts : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(partials.loop_post,depth0,{\"name\":\"loop_post\",\"data\":data,\"indent\":\"\\t\\t\\t\\t\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(partials.empty_posts,depth0,{\"name\":\"empty_posts\",\"data\":data,\"indent\":\"\\t\\t\\t\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\\n<div class=\\\"spinner\\\"></div>\\n\\n<section class=\\\"\"\n    + alias4(((helper = (helper = helpers.body_class || (depth0 != null ? depth0.body_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"body_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row grid\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.posts : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"        </div>\\n\\n    </div>\\n</section>\\n\\n\"\n    + alias4(((helper = (helper = helpers.pagination || (depth0 != null ? depth0.pagination : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"pagination\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\";\n},\"usePartial\":true,\"useData\":true}"},{"file":"package.json","ext":".json"},{"file":"partials/addons/comment.hbs","ext":".hbs","content":"<section class=\"comment\">\n    <div class=\"container limit-width\">\n\t\t<div id=\"disqus_thread\"></div>\n\t\t<script type=\"text/javascript\">\n\t\t/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */\n\t\tvar disqus_shortname = 'yourname'; // required: replace example with your forum shortname\n\n\t\t/* * * DON'T EDIT BELOW THIS LINE * * */\n\t\t(function() {\n\t\tvar dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;\n\t\tdsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';\n\t\t(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);\n\t\t})();\n\t\t</script>\n\t\t<noscript>Please enable JavaScript to view the <a href=\"http://disqus.com/?ref_noscript\">comments powered by Disqus.</a></noscript>\n\t\t<a href=\"http://disqus.com\" class=\"dsq-brlink\">comments powered by <span class=\"logo-disqus\">Disqus</span></a>\n    </div>\n</section>\n","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<section class=\\\"comment\\\">\\n    <div class=\\\"container limit-width\\\">\\n\t\t<div id=\\\"disqus_thread\\\"></div>\\n\t\t<script type=\\\"text/javascript\\\">\\n\t\t/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */\\n\t\tvar disqus_shortname = 'yourname'; // required: replace example with your forum shortname\\n\\n\t\t/* * * DON'T EDIT BELOW THIS LINE * * */\\n\t\t(function() {\\n\t\tvar dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;\\n\t\tdsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';\\n\t\t(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);\\n\t\t})();\\n\t\t</script>\\n\t\t<noscript>Please enable JavaScript to view the <a href=\\\"http://disqus.com/?ref_noscript\\\">comments powered by Disqus.</a></noscript>\\n\t\t<a href=\\\"http://disqus.com\\\" class=\\\"dsq-brlink\\\">comments powered by <span class=\\\"logo-disqus\\\">Disqus</span></a>\\n    </div>\\n</section>\\n\";\n},\"useData\":true}"},{"file":"partials/addons/share.hbs","ext":".hbs","content":"<div class=\"share\">\n\t<!-- Google plus -->\n\t<a class=\"btn btn-social btn-sm btn-google\" href=\"https://plus.google.com/share?url={{url absolute=\"true\"}}\" onclick=\"window.open(this.href, 'google-share','width=580,height=350');return false;\"><i class=\"fa fa-google-plus\"></i>Share</a>\n\t<!-- Facebook -->\n\t<a class=\"btn btn-social btn-sm btn-facebook\" href=\"https://www.facebook.com/sharer/sharer.php?u={{url absolute=\"true\"}}\" onclick=\"window.open(this.href, 'facebook-share','width=580,height=350');return false;\"><i class=\"fa fa-facebook\"></i>Share</a>\n\t<!-- Twitter -->\n\t<a class=\"btn btn-social btn-sm btn-twitter\" href=\"https://twitter.com/intent/tweet?text={{title}}&url={{url absolute=\"true\"}}\" target=\"_blank\" onclick=\"window.open(this.href, 'twitter-share', 'width=550,height=350');return false;\"><i class=\"fa fa-twitter\"></i>Tweet</a>\n\t<!-- Tumblr -->\n\t<a class=\"btn btn-social btn-sm btn-tumblr\" href=\"http://www.tumblr.com/share/link?url={{url absolute=\"true\"}}\" target=\"_blank\" onclick=\"window.open(this.href, 'tumblr-share', 'width=550,height=350');return false;\"><i class=\"fa fa-tumblr\"></i>Share</a>\n</div>\n","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=container.escapeExpression;\n\n  return \"<div class=\\\"share\\\">\\n\t<!-- Google plus -->\\n\t<a class=\\\"btn btn-social btn-sm btn-google\\\" href=\\\"https://plus.google.com/share?url=\"\n    + alias3((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\" onclick=\\\"window.open(this.href, 'google-share','width=580,height=350');return false;\\\"><i class=\\\"fa fa-google-plus\\\"></i>Share</a>\\n\t<!-- Facebook -->\\n\t<a class=\\\"btn btn-social btn-sm btn-facebook\\\" href=\\\"https://www.facebook.com/sharer/sharer.php?u=\"\n    + alias3((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\" onclick=\\\"window.open(this.href, 'facebook-share','width=580,height=350');return false;\\\"><i class=\\\"fa fa-facebook\\\"></i>Share</a>\\n\t<!-- Twitter -->\\n\t<a class=\\\"btn btn-social btn-sm btn-twitter\\\" href=\\\"https://twitter.com/intent/tweet?text=\"\n    + alias3(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"&url=\"\n    + alias3((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\" target=\\\"_blank\\\" onclick=\\\"window.open(this.href, 'twitter-share', 'width=550,height=350');return false;\\\"><i class=\\\"fa fa-twitter\\\"></i>Tweet</a>\\n\t<!-- Tumblr -->\\n\t<a class=\\\"btn btn-social btn-sm btn-tumblr\\\" href=\\\"http://www.tumblr.com/share/link?url=\"\n    + alias3((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\" target=\\\"_blank\\\" onclick=\\\"window.open(this.href, 'tumblr-share', 'width=550,height=350');return false;\\\"><i class=\\\"fa fa-tumblr\\\"></i>Share</a>\\n</div>\\n\";\n},\"useData\":true}"},{"file":"partials/addons/widgets.hbs","ext":".hbs","content":"<!--\n\tAdd your sns buttons and modify href attribute.\n\tAnd change your account > 'yourname'\n\tReference: https://github.com/lipis/bootstrap-social\n-->\n<div class=\"widgets\">\n\t<!--<a class=\"btn btn-social-icon btn-sm\" href=\"http://www.tumblr.com/yourname\" target=\"_blank\"><i class=\"fa fa-tumblr\"></i></a>\n\t<a class=\"btn btn-social-icon btn-sm\" href=\"http://plus.google.com/yourname\" target=\"_blank\"><i class=\"fa fa-google-plus\"></i></a>\n\t<a class=\"btn btn-social-icon btn-sm\" href=\"http://www.facebook.com/yourname\" target=\"_blank\"><i class=\"fa fa-facebook\"></i></a>\n\t<a class=\"btn btn-social-icon btn-sm\" href=\"http://www.twitter.com/yourname\" target=\"_blank\"><i class=\"fa fa-twitter\"></i></a>-->\n\t<a class=\"btn btn-social-icon btn-sm\" href=\"{{@blog.url}}/rss\" target=\"_blank\"><i class=\"fa fa-rss\"></i></a>\n</div>\n\n","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<!--\\n\tAdd your sns buttons and modify href attribute.\\n\tAnd change your account > 'yourname'\\n\tReference: https://github.com/lipis/bootstrap-social\\n-->\\n<div class=\\\"widgets\\\">\\n\t<!--<a class=\\\"btn btn-social-icon btn-sm\\\" href=\\\"http://www.tumblr.com/yourname\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-tumblr\\\"></i></a>\\n\t<a class=\\\"btn btn-social-icon btn-sm\\\" href=\\\"http://plus.google.com/yourname\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-google-plus\\\"></i></a>\\n\t<a class=\\\"btn btn-social-icon btn-sm\\\" href=\\\"http://www.facebook.com/yourname\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-facebook\\\"></i></a>\\n\t<a class=\\\"btn btn-social-icon btn-sm\\\" href=\\\"http://www.twitter.com/yourname\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-twitter\\\"></i></a>-->\\n\t<a class=\\\"btn btn-social-icon btn-sm\\\" href=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"/rss\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-rss\\\"></i></a>\\n</div>\\n\\n\";\n},\"useData\":true}"},{"file":"partials/empty_posts.hbs","ext":".hbs","content":"<div class=\"col-xs-12 col-sm-12 col-md-12 grid-empty\">\n\t<span>Empty posts.</span>\n</div>\n","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"col-xs-12 col-sm-12 col-md-12 grid-empty\\\">\\n\t<span>Empty posts.</span>\\n</div>\\n\";\n},\"useData\":true}"},{"file":"partials/footer.hbs","ext":".hbs","content":"<footer>\n    <div class=\"container\">\n        <p>\n            <p>All content copyright {{@blog.title}}. All rights reserved.</p>\n\t\t\t<p>Theme created by <a href=\"http://www.messier219.com\" target=\"_blank\">Messier219</a>.</p>\n        </p>\n    </div>\n</footer>\n","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<footer>\\n    <div class=\\\"container\\\">\\n        <p>\\n            <p>All content copyright \"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \". All rights reserved.</p>\\n\t\t\t<p>Theme created by <a href=\\\"http://www.messier219.com\\\" target=\\\"_blank\\\">Messier219</a>.</p>\\n        </p>\\n    </div>\\n</footer>\\n\";\n},\"useData\":true}"},{"file":"partials/loop_post.hbs","ext":".hbs","content":"<div class=\"col-xs-12 col-sm-6 col-md-4 grid-item loading\">\n\t<div class=\"thumbnail\">\n\t\t<div class=\"image-wrapper\">\n\t\t\t{{#if image}}\n\t\t\t<img src=\"{{image}}\" alt=\"thumbnail\" />\n\t\t\t{{else}}\n\t\t\t<img src=\"{{asset \"images/empty.png\"}}\" alt=\"thumbnail\" style=\"height: 0px;\" />\n\t\t\t{{/if}}\n\t\t</div>\n\t\t<div class=\"caption\">\n\t\t\t<h3>{{{title}}}</h3>\n\t\t\t<p>{{excerpt characters=\"70\"}}…</p>\n\t\t\t<a href=\"{{url}}\" class=\"btn btn-default btn-xs\" role=\"button\">Read more</a>\n\t\t\t<time>On {{date}}</time>\n\t\t</div>\n\t</div>\n</div>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\t\t\t<img src=\\\"\"\n    + container.escapeExpression(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" alt=\\\"thumbnail\\\" />\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"\t\t\t<img src=\\\"\"\n    + container.escapeExpression((helpers.asset || (depth0 && depth0.asset) || helpers.helperMissing).call(depth0 != null ? depth0 : {},\"images/empty.png\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\" alt=\\\"thumbnail\\\" style=\\\"height: 0px;\\\" />\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<div class=\\\"col-xs-12 col-sm-6 col-md-4 grid-item loading\\\">\\n\t<div class=\\\"thumbnail\\\">\\n\t\t<div class=\\\"image-wrapper\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\t\t</div>\\n\t\t<div class=\\\"caption\\\">\\n\t\t\t<h3>\"\n    + ((stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"</h3>\\n\t\t\t<p>\"\n    + alias4((helpers.excerpt || (depth0 && depth0.excerpt) || alias2).call(alias1,{\"name\":\"excerpt\",\"hash\":{\"characters\":\"70\"},\"data\":data}))\n    + \"…</p>\\n\t\t\t<a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" class=\\\"btn btn-default btn-xs\\\" role=\\\"button\\\">Read more</a>\\n\t\t\t<time>On \"\n    + alias4(((helper = (helper = helpers.date || (depth0 != null ? depth0.date : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"date\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</time>\\n\t\t</div>\\n\t</div>\\n</div>\\n\";\n},\"useData\":true}"},{"file":"partials/navigation.hbs","ext":".hbs","content":"<div class=\"collapse navbar-collapse\" id=\"navbar\">\n    <ul class=\"nav navbar-nav\">\n        {{#foreach navigation}}\n            <li><a href=\"{{url absolute=\"true\"}}\" class=\"hvr-fade\">{{label}}</a></li>\n        {{/foreach}}\n    </ul>\n</div>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=container.escapeExpression;\n\n  return \"            <li><a href=\\\"\"\n    + alias3((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\" class=\\\"hvr-fade\\\">\"\n    + alias3(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : alias2),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"label\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></li>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"collapse navbar-collapse\\\" id=\\\"navbar\\\">\\n    <ul class=\\\"nav navbar-nav\\\">\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.navigation : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"    </ul>\\n</div>\\n\";\n},\"useData\":true}"},{"file":"partials/pagination.hbs","ext":".hbs","content":"<nav class=\"pagination\">\n\t<ul class=\"pager\">\n\t\t{{#if prev}}\n            <li><a href=\"{{page_url prev}}\"><span aria-hidden=\"true\">&larr;</span> Newer</a></li>\n\t\t{{else}}\n\t\t\t<li class=\"disabled\"><span aria-hidden=\"true\">&larr; Newer</span></li>\n\t\t{{/if}}\n\t\t\t<li>Page {{page}} of {{pages}}</li>\n\t\t{{#if next}}\n\t\t\t<li><a href=\"{{page_url next}}\">Older <span aria-hidden=\"true\">&rarr;</span></a></li>\n\t\t{{else}}\n            <li class=\"disabled\"><span aria-hidden=\"true\">Older &rarr;</span></li>\n\t\t{{/if}}\n    </ul>\n</nav>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    return \"            <li><a href=\\\"\"\n    + container.escapeExpression((helpers.page_url || (depth0 && depth0.page_url) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.prev : depth0),{\"name\":\"page_url\",\"hash\":{},\"data\":data}))\n    + \"\\\"><span aria-hidden=\\\"true\\\">&larr;</span> Newer</a></li>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"\t\t\t<li class=\\\"disabled\\\"><span aria-hidden=\\\"true\\\">&larr; Newer</span></li>\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    return \"\t\t\t<li><a href=\\\"\"\n    + container.escapeExpression((helpers.page_url || (depth0 && depth0.page_url) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.next : depth0),{\"name\":\"page_url\",\"hash\":{},\"data\":data}))\n    + \"\\\">Older <span aria-hidden=\\\"true\\\">&rarr;</span></a></li>\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    return \"            <li class=\\\"disabled\\\"><span aria-hidden=\\\"true\\\">Older &rarr;</span></li>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<nav class=\\\"pagination\\\">\\n\t<ul class=\\\"pager\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.prev : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\t\t\t<li>Page \"\n    + alias4(((helper = (helper = helpers.page || (depth0 != null ? depth0.page : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"page\",\"hash\":{},\"data\":data}) : helper)))\n    + \" of \"\n    + alias4(((helper = (helper = helpers.pages || (depth0 != null ? depth0.pages : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"pages\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</li>\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.next : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.program(7, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"    </ul>\\n</nav>\\n\";\n},\"useData\":true}"},{"file":"partials/prev_next_post.hbs","ext":".hbs","content":"{{#next_post}}\n<!-- Next pots -->\n<section class=\"prev-next-post\">\n    <div class=\"container limit-width\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-sm-12 col-md-12 next-post\">\n\t\t\t<a href=\"{{url}}\" style=\"background-image: url('{{image}}');\">\n\t\t\t\t<div class=\"post-meta-info\">\n\t\t\t\t\t<h4>NEXT POST</h4>\n\t\t\t\t\t<h3>{{title}}</h3>\n\t\t\t\t</div>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n</section>\n{{/next_post}}\n\n{{#prev_post}}\n<!-- Prev pots -->\n<section class=\"prev-next-post\">\n    <div class=\"container limit-width\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-sm-12 col-md-12 prev-post\">\n\t\t\t\t<a href=\"{{url}}\" style=\"background-image: url('{{image}}');\">\n\t\t\t\t\t<div class=\"post-meta-info\">\n\t\t\t\t\t\t<h4>PREV POST</h4>\n\t\t\t\t\t\t<h3>{{title}}</h3>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</section>\n{{/prev_post}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<!-- Next pots -->\\n<section class=\\\"prev-next-post\\\">\\n    <div class=\\\"container limit-width\\\">\\n\t\t<div class=\\\"row\\\">\\n\t\t\t<div class=\\\"col-sm-12 col-md-12 next-post\\\">\\n\t\t\t<a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" style=\\\"background-image: url('\"\n    + alias4(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \"');\\\">\\n\t\t\t\t<div class=\\\"post-meta-info\\\">\\n\t\t\t\t\t<h4>NEXT POST</h4>\\n\t\t\t\t\t<h3>\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h3>\\n\t\t\t\t</div>\\n\t\t\t</a>\\n\t\t</div>\\n\t</div>\\n</section>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<!-- Prev pots -->\\n<section class=\\\"prev-next-post\\\">\\n    <div class=\\\"container limit-width\\\">\\n\t\t<div class=\\\"row\\\">\\n\t\t\t<div class=\\\"col-sm-12 col-md-12 prev-post\\\">\\n\t\t\t\t<a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" style=\\\"background-image: url('\"\n    + alias4(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \"');\\\">\\n\t\t\t\t\t<div class=\\\"post-meta-info\\\">\\n\t\t\t\t\t\t<h4>PREV POST</h4>\\n\t\t\t\t\t\t<h3>\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h3>\\n\t\t\t\t\t</div>\\n\t\t\t\t</a>\\n\t\t\t</div>\\n\t\t</div>\\n\t</div>\\n</section>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=helpers.blockHelperMissing, buffer = \"\";\n\n  stack1 = ((helper = (helper = helpers.next_post || (depth0 != null ? depth0.next_post : depth0)) != null ? helper : alias2),(options={\"name\":\"next_post\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === alias3 ? helper.call(alias1,options) : helper));\n  if (!helpers.next_post) { stack1 = alias4.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  buffer += \"\\n\";\n  stack1 = ((helper = (helper = helpers.prev_post || (depth0 != null ? depth0.prev_post : depth0)) != null ? helper : alias2),(options={\"name\":\"prev_post\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === alias3 ? helper.call(alias1,options) : helper));\n  if (!helpers.prev_post) { stack1 = alias4.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"useData\":true}"},{"file":"post.hbs","ext":".hbs","content":"{{!< default}}\n{{#post}}\n<article class=\"{{post_class}}\">\n\n    <div class=\"container limit-width\">\n        <div class=\"page-header\">\n            <h1>{{title}}</h1>\n            By {{author}} On <time>{{date}}</time>\n        </div>\n\n\t\t<div class=\"content\">\n\t\t\t{{content}}\n\t\t</div>\n\n\t\t<div class=\"post-bottom-info\">\n\t\t\t<div class=\"tags\">\n\t\t\t\t{{#foreach tags}}\n\t\t\t\t<a href=\"{{url}}\" class=\"label label-info\">{{name}}</a>\n\t\t\t\t{{/foreach}}\n\t\t\t</div>\n\n\t\t\t<!-- Share post -->\n\t\t\t{{> addons/share}}\n\t\t</div>\n    </div>\n</article>\n\n{{> prev_next_post}}\n\n<!-- Comments -->\n{{!> addons/comment}}\n\n{{/post}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<article class=\\\"\"\n    + alias4(((helper = (helper = helpers.post_class || (depth0 != null ? depth0.post_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"post_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\\n    <div class=\\\"container limit-width\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n            By \"\n    + alias4(((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"author\",\"hash\":{},\"data\":data}) : helper)))\n    + \" On <time>\"\n    + alias4(((helper = (helper = helpers.date || (depth0 != null ? depth0.date : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"date\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</time>\\n        </div>\\n\\n\t\t<div class=\\\"content\\\">\\n\t\t\t\"\n    + alias4(((helper = (helper = helpers.content || (depth0 != null ? depth0.content : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"content\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\t\t</div>\\n\\n\t\t<div class=\\\"post-bottom-info\\\">\\n\t\t\t<div class=\\\"tags\\\">\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || alias2).call(alias1,(depth0 != null ? depth0.tags : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\t\t\t</div>\\n\\n\t\t\t<!-- Share post -->\\n\"\n    + ((stack1 = container.invokePartial(partials[\"addons/share\"],depth0,{\"name\":\"addons/share\",\"data\":data,\"indent\":\"\\t\\t\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\t\t</div>\\n    </div>\\n</article>\\n\\n\"\n    + ((stack1 = container.invokePartial(partials.prev_next_post,depth0,{\"name\":\"prev_next_post\",\"data\":data,\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n<!-- Comments -->\\n\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\t\t\t\t<a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" class=\\\"label label-info\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, buffer = \"\";\n\n  stack1 = ((helper = (helper = helpers.post || (depth0 != null ? depth0.post : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"post\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.post) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"usePartial\":true,\"useData\":true}"},{"file":"tag.hbs","ext":".hbs","content":"{{!< default}}\n\n<div class=\"spinner\"></div>\n\n<section class=\"{{body_class}}\">\n    <div class=\"container\">\n\n        <div class=\"page-header\">\n            <h1>{{tag.name}} <small>{{tag.description}}</small></h1>\n            <p>{{pagination.total}} post collection</p>\n        </div>\n\n        <div class=\"row grid\">\n            {{#if posts}}\n\t\t\t\t{{#foreach posts}}\n\t\t\t\t\t{{> loop_post}}\n            \t{{/foreach}}\n\t\t\t{{else}}\n\t\t\t\t{{> empty_posts}}\n\t\t\t{{/if}}\n        </div>\n\n    </div>\n</section>\n\n{{pagination}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.posts : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(partials.loop_post,depth0,{\"name\":\"loop_post\",\"data\":data,\"indent\":\"\\t\\t\\t\\t\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(partials.empty_posts,depth0,{\"name\":\"empty_posts\",\"data\":data,\"indent\":\"\\t\\t\\t\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression, alias5=container.lambda;\n\n  return \"\\n<div class=\\\"spinner\\\"></div>\\n\\n<section class=\\\"\"\n    + alias4(((helper = (helper = helpers.body_class || (depth0 != null ? depth0.body_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"body_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n    <div class=\\\"container\\\">\\n\\n        <div class=\\\"page-header\\\">\\n            <h1>\"\n    + alias4(alias5(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.name : stack1), depth0))\n    + \" <small>\"\n    + alias4(alias5(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.description : stack1), depth0))\n    + \"</small></h1>\\n            <p>\"\n    + alias4(alias5(((stack1 = (depth0 != null ? depth0.pagination : depth0)) != null ? stack1.total : stack1), depth0))\n    + \" post collection</p>\\n        </div>\\n\\n        <div class=\\\"row grid\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.posts : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"        </div>\\n\\n    </div>\\n</section>\\n\\n\"\n    + alias4(((helper = (helper = helpers.pagination || (depth0 != null ? depth0.pagination : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"pagination\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\";\n},\"usePartial\":true,\"useData\":true}"}],"results":{"pass":[{"level":"error","rule":"Replace <code>{{pageUrl}}</code> with <code>{{page_url}}</code>","fatal":true,"details":"The helper <code>{{pageUrl}}</code> was replaced with <code>{{page_url}}</code>.<br>Find more information about the <code>{{page_url}}</code> helper <a href=\"https://themes.ghost.org/docs/page_url\" target=_blank>here</a>.","code":"GS001-DEPR-PURL"},{"level":"error","rule":"The usage of <code>{{meta_description}}</code> in HTML <code>head</code> is no longer required","details":"The usage of <code>{{meta_description}}</code> in the HTML <code>head</code> tag is no longer required because Ghost outputs this for you automatically in <code>{{ghost_head}}</code>.<br>Check out the documentation for <code>{{meta_description}}</code> <a href=\"https://themes.ghost.org/docs/meta_description\" target=_blank>here</a>.<br>To see, what else is rendered with the <code>{{ghost_head}}</code> helper, look <a href=\"https://themes.ghost.org/docs/ghost_head\" target=_blank>here</a>.","code":"GS001-DEPR-MD"},{"level":"error","rule":"Replace the <code>{{author.image}}</code> helper with <code>{{author.profile_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>profile_image</code>.<br>Instead of <code>{{author.image}}</code> you need to use <code>{{author.profile_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-AIMG"},{"level":"error","rule":"Replace the <code>{{post.image}}</code> helper with <code>{{post.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in post context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.image}}</code> you need to use <code>{{post.feature_image}}</code>.<br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PIMG"},{"level":"error","rule":"Replace the <code>{{author.cover}}</code> helper with <code>{{author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{author.cover}}</code> you need to use <code>{{author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-AC"},{"level":"error","rule":"Replace the <code>{{tag.image}}</code> helper with <code>{{tag.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tag.image}}</code> you need to use <code>{{tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-TIMG"},{"level":"error","rule":"Replace the <code>{{tags.[#].image}}</code> helper with <code>{{tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tags.[#].image}}</code> you need to use <code>{{tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-TSIMG"},{"level":"error","rule":"Replace the <code>{{post.author.image}}</code> helper with <code>{{post.author.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.author.image}}</code> you need to use <code>{{post.author.feature_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PAIMG"},{"level":"error","rule":"Replace the <code>{{post.author.cover}}</code> helper with <code>{{post.author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute in author context was replaced with <code>cover_image</code>.<br>Instead of <code>{{post.author.cover}}</code> you need to use <code>{{post.author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PAC"},{"level":"error","rule":"Replace the <code>{{post.tags.[#].image}}</code> helper with <code>{{post.tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.tags.[#].image}}</code> you need to use <code>{{post.tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PTIMG"},{"level":"error","rule":"Replace the <code>{{#if author.cover}}</code> helper with <code>{{#if author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if author.cover}}</code> you need to use <code>{{#if author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-AC"},{"level":"error","rule":"Replace the <code>{{#if author.image}}</code> helper with <code>{{#if author.profile_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>profile_image</code>.<br>Instead of <code>{{#if author.image}}</code> you need to use <code>{{#if author.profile_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-AIMG"},{"level":"error","rule":"Replace the <code>{{#if tag.image}}</code> helper with <code>{{#if tag.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tag.image}}</code> you need to use <code>{{#if tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-TIMG"},{"level":"error","rule":"Replace the <code>{{#if post.tags.[#].image}}</code> helper with <code>{{#if post.tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if post.tags.[#].image}}</code> you need to use <code>{{#if post.tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-PTIMG"},{"level":"error","rule":"Replace the <code>{{#if tags.[#].image}}</code> helper with <code>{{#if tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tags.[#].image}}</code> you need to use <code>{{#if tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-TSIMG"},{"level":"error","rule":"Replace <code>{{@blog.posts_per_page}}</code> with <code>{{@config.posts_per_page}}</code>","details":"The global <code>{{@blog.posts_per_page}}</code> property was replaced with <code>{{@config.posts_per_page}}</code>.<br>Read <a href=\"https://themes.ghost.org/docs/config\" target=_blank>here</a> about the attribute and check <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank>here</a> where you can customise the posts per page setting, as this is now adjustable in your theme.","code":"GS001-DEPR-PPP"},{"level":"error","rule":"Replace <code>{{content words=\"0\"}}</code> with the <code>{{img_url}}</code> helper","details":"The <code>{{content words=\"0\"}}</code> hack doesn't work anymore (and was never supported). Please use the <code>{{img_url}}</code> helper to render images.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and ","code":"GS001-DEPR-C0H"},{"level":"error","rule":"Replace <code>.archive-template</code> with the <code>.paged</code> CSS class","details":"The <code>.archive-template</code> CSS class was replaced with the <code>.paged</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-AT"},{"level":"error","rule":"Replace <code>.page</code> with the <code>.page-template</code> css class","details":"The <code>.page</code> CSS class was replaced with the <code>.page-template</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-PA"},{"level":"error","rule":"Replace <code>.page-template-slug</code> with the <code>.page-slug</code> css class","details":"The <code>.page-template-slug</code> CSS class was replaced with the <code>.page-slug</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-PATS"},{"level":"error","rule":"Replace <code>{{id}}</code> with <code>{{comment_id}}</code> in Disqus embeds.","fatal":true,"details":"The output of <code>{{id}}</code> has changed between Ghost LTS and 1.0.0. This results in Disqus comments not loading on Ghost 1.0.0 posts which were imported from Ghost LTS. To resolve this, we've added a new <code>{{comment_id}}</code> helper that will output the old ID for posts that have been imported from LTS, and the new ID for new posts. The Disqus embed must be updated from <code>this.page.identifier = 'ghost-{{id}}';</code> to <code>this.page.identifier = 'ghost-{{comment_id}}';</code> to ensure Disqus continues to work.","code":"GS002-DISQUS-ID"},{"level":"recommendation","rule":"The output of <code>{{id}}</code> changed between Ghost LTS and 1.0.0, you may need to use <code>{{comment_id}}</code> instead.","details":"The output of <code>{{id}}</code> has changed between Ghost LTS and 1.0.0. <code>{{id}}</code> used to output an incrementing integer ID, and will now output an ObjectID. We've added a new <code>{{comment_id}}</code> helper that will output the old ID for posts that have been imported from LTS, and the new ID for new posts. If you need the old ID to be output on imported posts, then you will need to use <code>{{comment_id}}</code> rather than <code>{{id}}</code>.","code":"GS002-ID-HELPER"},{"level":"error","rule":"Templates must contain valid Handlebars","fatal":true,"details":"Oops! You seemed to have used invalid Handlebars syntax. This mostly happens, when you use a helper that is not supported.<br>See the full list of available helpers <a href=\"https://themes.ghost.org/docs/helpers\" target=_blank>here</a>.","code":"GS005-TPL-ERR"},{"level":"error","rule":"<code>package.json</code> file should be present","details":"You should provide a <code>package.json</code> file for your theme.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-REQ"},{"level":"error","rule":"<code>package.json</code> file can be parsed","details":"Your <code>package.json</code> file couldn't be parsed. This is mostly caused by a missing or unnecessary <code>','</code> or the wrong usage of <code>'\"\"'</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> for further information.<br>A good reference for your <code>package.json</code> file is always the latest version of  <a href=\"https://github.com/TryGhost/Casper/blob/master/package.json\" target=_blank>Casper</a>.","code":"GS010-PJ-PARSE"},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> is required","details":"Please add the property <code>\"name\"</code> to your <code>package.json</code>. E.g. <code>{\"name\": \"my-theme\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-NAME-REQ"},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> must be hyphenated","details":"The property <code>\"name\"</code> in your <code>package.json</code> file must be hyphenated.<br>Please use <code>\"my-theme\"</code> rather than <code>\"My Theme\"</code> or <code>\"my theme\"</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--name-\" target=_blank><code>package.json</code> documentation</a> for further information.","code":"GS010-PJ-NAME-HY"},{"level":"error","rule":"<code>package.json</code> property <code>\"version\"</code> must be semver compliant","details":"The property <code>\"version\"</code> in your <code>package.json</code> file must be semver compliant. E.g. <code>{\"version\": \"1.0.0\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--version-\" target=_blank><code>package.json</code> documentation</a> for further information.","code":"GS010-PJ-VERSION-SEM"},{"level":"error","rule":"<code>package.json</code> property <code>\"version\"</code> is required","details":"Please add the property <code>\"version\"</code> to your <code>package.json</code>. E.g. <code>{\"version\": \"1.0.0\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-VERSION-REQ"},{"level":"error","rule":"A template file called <code>index.hbs</code> must be present","fatal":true,"details":"Your theme must have a template file called <code>index.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the required template structure and <code>index.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-index-hbs\" target=_blank>particular</a>.","code":"GS020-INDEX-REQ"},{"level":"error","rule":"A template file called <code>post.hbs</code> must be present","fatal":true,"details":"Your theme must have a template file called <code>index.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the required template structure and <code>post.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-post-hbs\" target=_blank>particular</a>.","code":"GS020-POST-REQ"},{"level":"recommendation","rule":"Provide a default layout template called default.hbs","details":"It is recommended that your theme has a template file called <code>default.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the recommended template structure and <code>default.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-default-hbs\" target=_blank>particular</a>.","code":"GS020-DEF-REC"},{"level":"warning","rule":"Assets such as CSS & JS must use the <code>{{asset}}</code> helper","details":"The listed files should be included using the <code>{{asset}}</code> helper.<br>For more information, please see the <a href=\"https://themes.ghost.org/docs/asset\" target=_blank><code>{{asset}}</code> helper documentation</a>.","code":"GS030-ASSET-REQ"},{"level":"error","rule":"Symlinks in themes are not allowed","fatal":true,"details":"Symbolic links in themes are not allowed. Please use the <code>{{asset}}</code> helper.<br>For more information, please see the <a href=\"https://themes.ghost.org/docs/asset\" target=_blank><code>{{asset}}</code> helper documentation</a>.","code":"GS030-ASSET-SYM"},{"level":"warning","rule":"The helper <code>{{ghost_head}}</code> should be present","details":"The <code>{{ghost_head}}</code> helper should be present in your theme. It outputs many useful things, such as <a href=\"https://help.ghost.org/hc/en-us/articles/223403488-Code-Injection\" target=_blank>\"code injection\" scripts</a>, structured data, canonical links, meta description etc.<br>The helper belongs just before the <code></head></code> tag in your <code>default.hbs</code> template.<br>For more details, please see the <a href=\"https://themes.ghost.org/docs/ghost_head\" target=_blank><code>{{ghost_head}}</code> helper documentation</a>.","code":"GS040-GH-REQ"},{"level":"warning","rule":"The helper <code>{{ghost_foot}}</code> should be present","details":"The <code>{{ghost_foot}}</code> helper should be present in your theme. It outputs scripts as saved in <a href=\"https://help.ghost.org/hc/en-us/articles/223403488-Code-Injection\" target=_blank>\"code injection\" scripts</a>.<br>The helper belongs just before the <code></body></code> tag in your <code>default.hbs</code> template.<br>For more details, please see the <a href=\"https://themes.ghost.org/docs/ghost_foot\" target=_blank><code>{{ghost_foot}}</code> helper documentation</a>.","code":"GS040-GF-REQ"}],"error":[{"fatal":true,"level":"error","rule":"Replace the <code>{{image}}</code> helper with <code>{{img_url feature_image}}</code> or <code>{{img_url profile_image}}</code>","details":"The <code>{{image}}</code> helper was replaced with <code>{{img_url}}</code>.<br>Depending on the context of the <code>{{img_url}}</code> helper you would need to use e. g. <br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{img_url feature_image}}<br>{{/post}}</code><br><br>to render the feature image of the blog post.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and read more about Ghost's usage of contexts <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"partials/loop_post.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"partials/prev_next_post.hbs","message":"Please remove or replace {{image}} from this template"}],"code":"GS001-DEPR-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{cover}}</code> helper with <code>{{cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To render the cover image in author context, you need to use<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To render the cover image of your blog, just use <code>{{@blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{cover}} from this template"}],"code":"GS001-DEPR-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{@blog.cover}}</code> helper with <code>{{@blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{@blog.cover}}</code> you need to use <code>{{@blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"default.hbs","message":"Please remove or replace {{@blog.cover}} from this template"}],"code":"GS001-DEPR-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if image}}</code> helper with <code>{{#if feature_image}}</code>, or <code>{{#if profile_image}}</code>","details":"The <code>image</code> attribute was replaced with <code>feature_image</code> and <code>profile_image</code>.<br>Depending on the <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>context</a> you will need to replace it like this:<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/post}}</code><br><br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.<br><br><code>{{#tag}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/tag}}</code><br><br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"partials/loop_post.hbs","message":"Please remove or replace {{#if image}} from this template"}],"code":"GS001-DEPR-CON-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if cover}}</code> helper with <code>{{#if cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To check for the cover image in author context, you need to use<br><br><code>{{#if cover_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/if}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To check for the cover image of your blog, just use <code>{{#if @blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if cover}} from this template"}],"code":"GS001-DEPR-CON-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if @blog.cover}}</code> helper with <code>{{#if @blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if @blog.cover}}</code> you need to use <code>{{#if @blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"default.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"}],"code":"GS001-DEPR-CON-BC"}],"warning":[],"recommendation":[],"missing":[{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> must be lowercase","details":"The property <code>\"name\"</code> in your <code>package.json</code> file must be lowercase.<br>Good examples are: <code>\"my-theme\"</code> or <code>\"theme\"</code> rather than <code>\"My Theme\"</code> or <code>\"Theme\"</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--name-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"author.email\"</code> must be valid","details":"The property <code>\"author.email\"</code> in your <code>package.json</code> file must a valid email. E.g. <code>{\"author\": {\"email\": \"hello@example.com\"}}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--author-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"recommendation","rule":"<code>package.json</code> property <code>\"config.posts_per_page\"</code> is recommended. Otherwise, it falls back to 5","details":"Please add <code>\"posts_per_page\"</code> to your <code>package.json</code>. E.g. <code>{\"config\": { \"posts_per_page\": 5}}</code>.<br>If no <code>\"posts_per_page\"</code> property is provided, Ghost will use its default setting of 5 posts per page.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"config.posts_per_page\"</code> must be a number above 0","details":"The property <code>\"config.posts_per_page\"</code> in your <code>package.json</code> file must be a number greater than zero. E.g. <code>{\"config\": { \"posts_per_page\": 5}}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"author.email\"</code> is required","details":"Please add the property <code>\"author.email\"</code> to your <code>package.json</code>. E.g. <code>{\"author\": {\"email\": \"hello@example.com\"}}</code>.<br>The email is required so that themes which are distributed (either free or paid) have a method of contacting the author so users can get support and more importantly so that Ghost can reach out about breaking changes and security updates.<br>The <code>package.json</code> file is <strong>NOT</strong> accessible when uploaded to a blog so if the theme is only uploaded to a single blog, no one will see this email address.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended."}],"score":{"value":85,"level":"error"},"hasFatalErrors":true},"partials":["addons/comment","addons/share","addons/widgets","empty_posts","footer","loop_post","navigation","pagination","prev_next_post"],"helpers":{"helperMissing":["author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","default.hbs","default.hbs","default.hbs","default.hbs","index.hbs","index.hbs","partials/addons/share.hbs","partials/loop_post.hbs","partials/loop_post.hbs","partials/loop_post.hbs","partials/navigation.hbs","partials/navigation.hbs","partials/pagination.hbs","partials/pagination.hbs","partials/pagination.hbs","partials/prev_next_post.hbs","partials/prev_next_post.hbs","partials/prev_next_post.hbs","post.hbs","post.hbs","post.hbs","tag.hbs","tag.hbs"],"post_class":["author.hbs","post.hbs"],"name":["author.hbs","post.hbs"],"plural":["author.hbs"],"cover":["author.hbs"],"image":["author.hbs","partials/loop_post.hbs","partials/prev_next_post.hbs","partials/prev_next_post.hbs"],"location":["author.hbs"],"bio":["author.hbs"],"website":["author.hbs","author.hbs"],"author":["author.hbs","author.hbs","post.hbs"],"blockHelperMissing":["author.hbs","partials/prev_next_post.hbs","post.hbs"],"meta_title":["default.hbs"],"body_class":["default.hbs","default.hbs","index.hbs","tag.hbs"],"is":["default.hbs"],"asset":["default.hbs","default.hbs","default.hbs","default.hbs","default.hbs","default.hbs","default.hbs","default.hbs","default.hbs","default.hbs","default.hbs","default.hbs","partials/loop_post.hbs"],"ghost_head":["default.hbs"],"navigation":["default.hbs"],"body":["default.hbs"],"ghost_foot":["default.hbs"],"foreach":["index.hbs","partials/navigation.hbs","post.hbs","tag.hbs"],"pagination":["index.hbs","tag.hbs"],"url":["partials/addons/share.hbs","partials/addons/share.hbs","partials/addons/share.hbs","partials/addons/share.hbs","partials/loop_post.hbs","partials/navigation.hbs","partials/prev_next_post.hbs","partials/prev_next_post.hbs","post.hbs"],"title":["partials/addons/share.hbs","partials/loop_post.hbs","partials/prev_next_post.hbs","partials/prev_next_post.hbs","post.hbs"],"excerpt":["partials/loop_post.hbs"],"date":["partials/loop_post.hbs","post.hbs"],"label":["partials/navigation.hbs"],"page_url":["partials/pagination.hbs","partials/pagination.hbs"],"page":["partials/pagination.hbs"],"pages":["partials/pagination.hbs"],"next_post":["partials/prev_next_post.hbs","partials/prev_next_post.hbs"],"prev_post":["partials/prev_next_post.hbs","partials/prev_next_post.hbs"],"content":["post.hbs"],"post":["post.hbs","post.hbs"]},"name":"Mneme","version":"0.3.5"},"stack":"ThemeValidationError: Theme is not compatible or contains errors.\n    at ThemeValidationError.GhostError (/home/www/ghost/core/server/errors.js:9:26)\n    at new ThemeValidationError (/home/www/ghost/core/server/errors.js:52:20)\n    at resultHandler (/home/www/ghost/core/server/themes/validate.js:32:31)\n    at tryCatcher (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:510:31)\n    at Promise._settlePromise (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:567:18)\n    at Promise._settlePromise0 (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:612:10)\n    at Promise._settlePromises (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:691:18)\n    at Async._drainQueue (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:138:16)\n    at Async._drainQueues (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:148:10)\n    at Immediate.Async.drainQueues (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:17:14)\n    at runCallback (timers.js:672:20)\n    at tryOnImmediate (timers.js:645:5)\n    at processImmediate [as _immediateCallback] (timers.js:617:5)","errorDetails":[{"fatal":true,"level":"error","rule":"Replace the <code>{{image}}</code> helper with <code>{{img_url feature_image}}</code> or <code>{{img_url profile_image}}</code>","details":"The <code>{{image}}</code> helper was replaced with <code>{{img_url}}</code>.<br>Depending on the context of the <code>{{img_url}}</code> helper you would need to use e. g. <br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{img_url feature_image}}<br>{{/post}}</code><br><br>to render the feature image of the blog post.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and read more about Ghost's usage of contexts <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"partials/loop_post.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"partials/prev_next_post.hbs","message":"Please remove or replace {{image}} from this template"}],"code":"GS001-DEPR-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{cover}}</code> helper with <code>{{cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To render the cover image in author context, you need to use<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To render the cover image of your blog, just use <code>{{@blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{cover}} from this template"}],"code":"GS001-DEPR-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{@blog.cover}}</code> helper with <code>{{@blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{@blog.cover}}</code> you need to use <code>{{@blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"default.hbs","message":"Please remove or replace {{@blog.cover}} from this template"}],"code":"GS001-DEPR-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if image}}</code> helper with <code>{{#if feature_image}}</code>, or <code>{{#if profile_image}}</code>","details":"The <code>image</code> attribute was replaced with <code>feature_image</code> and <code>profile_image</code>.<br>Depending on the <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>context</a> you will need to replace it like this:<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/post}}</code><br><br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.<br><br><code>{{#tag}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/tag}}</code><br><br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"partials/loop_post.hbs","message":"Please remove or replace {{#if image}} from this template"}],"code":"GS001-DEPR-CON-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if cover}}</code> helper with <code>{{#if cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To check for the cover image in author context, you need to use<br><br><code>{{#if cover_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/if}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To check for the cover image of your blog, just use <code>{{#if @blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if cover}} from this template"}],"code":"GS001-DEPR-CON-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if @blog.cover}}</code> helper with <code>{{#if @blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if @blog.cover}}</code> you need to use <code>{{#if @blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"default.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"}],"code":"GS001-DEPR-CON-BC"}]},"msg":"Theme is not compatible or contains errors.","time":"2017-09-29T03:38:00.949Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"98a88e80-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"27ms"},"msg":"","time":"2017-09-29T03:38:02.500Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"991a8a30-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"35ms"},"msg":"","time":"2017-09-29T03:38:03.255Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"9919edf0-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"b27-68UA/9E4sxw+h1Qv9RPmUcPLoPs\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"41ms"},"msg":"","time":"2017-09-29T03:38:03.256Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"9b7e91e0-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/upload/","method":"POST","originalUrl":"/ghost/api/v0.1/themes/upload/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"109980","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"multipart/form-data; boundary=----WebKitFormBoundarylCMNw8azmIIwkAEm","accept":"text/plain, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","content-type":"application/json; charset=utf-8","content-length":"271","etag":"W/\"10f-NFk4DrH4j8tW/IEEmxHI5vg2aPc\""},"statusCode":200,"responseTime":"114ms"},"msg":"","time":"2017-09-29T03:38:07.345Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"9c86b310-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"27ms"},"msg":"","time":"2017-09-29T03:38:08.989Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"9d044780-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"34ms"},"msg":"","time":"2017-09-29T03:38:09.819Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"9d03ab40-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"c2a-f7HgyHUM16iSdGN4Wij37D/hP/0\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"40ms"},"msg":"","time":"2017-09-29T03:38:09.821Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":50,"req":{"meta":{"requestId":"9f040f20-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/upload/","method":"POST","originalUrl":"/ghost/api/v0.1/themes/upload/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"418391","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"multipart/form-data; boundary=----WebKitFormBoundary8LjtiELjC2cX3NUd","accept":"text/plain, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","content-type":"application/json; charset=utf-8","etag":"W/\"1a207-uUF5sZM+vK/Unxg8cQsSbVq4z84\"","content-encoding":"gzip"},"statusCode":422,"responseTime":"175ms"},"err":{"id":"9f1d8a90-a4c7-11e7-ad29-7b3837c864ae","domain":"http://47.95.197.107:2368","code":null,"name":"ThemeValidationError","statusCode":422,"level":"normal","message":"Theme is not compatible or contains errors.","context":{"path":"/tmp/31db9e4f-dcf0-4041-a0d5-7a9ff0a88a18/apparition-master","files":[{"file":".bowerrc","ext":".bowerrc"},{"file":".gitignore","ext":".gitignore"},{"file":"README.md","ext":".md"},{"file":"assets/css/app.css","ext":".css"},{"file":"assets/css/theme.css","ext":".css"},{"file":"assets/fonts/bootstrap/glyphicons-halflings-regular.eot","ext":".eot"},{"file":"assets/fonts/bootstrap/glyphicons-halflings-regular.svg","ext":".svg"},{"file":"assets/fonts/bootstrap/glyphicons-halflings-regular.ttf","ext":".ttf"},{"file":"assets/fonts/bootstrap/glyphicons-halflings-regular.woff","ext":".woff"},{"file":"assets/fonts/bootstrap/glyphicons-halflings-regular.woff2","ext":".woff2"},{"file":"assets/fonts/casper-icons.eot","ext":".eot"},{"file":"assets/fonts/casper-icons.svg","ext":".svg"},{"file":"assets/fonts/casper-icons.ttf","ext":".ttf"},{"file":"assets/fonts/casper-icons.woff","ext":".woff"},{"file":"assets/js/app.js","ext":".js"},{"file":"assets/js/app.js.map","ext":".map"},{"file":"author.hbs","ext":".hbs","content":"{{!< default}}\n{{! The tag above means - insert everything in this file into the {body} of the default.hbs template }}\n\n{{! The big featured header }}\n\n{{! Everything inside the #author tags pulls data from the author }}\n    {{#author}}\n    <header class=\"main-header author-head {{#if cover}}\" style=\"background-image: url({{cover}}){{else}}no-cover{{/if}}\">\n        <div class=\"container\">\n            <div class=\"row\">       \n                <nav class=\"main-nav overlay clearfix\">\n                    {{#if @blog.logo}}<a class=\"blog-logo\" href=\"{{@blog.url}}\"><img src=\"{{@blog.logo}}\" alt=\"{{@blog.title}}\" /></a>{{/if}}\n                    {{#if @blog.navigation}}\n                        <a type=\"button\" class=\"menu-button\" href=\"#\">\n                            <span class=\"sr-only\">Toggle navigation</span>\n                            <span class=\"icon-bar\"></span>\n                            <span class=\"icon-bar\"></span>\n                            <span class=\"icon-bar\"></span>\n                        </a>\n                    {{/if}}\n                </nav>\n            </div>\n        </div>\n    </header>\n\n    <section class=\"author-profile inner\">\n        <div class=\"container\">\n            <div class=\"row\">\n                <div class=\"author-wrap\">\n                    {{#if image}}\n                    <figure class=\"author-image\">\n                        <div class=\"img\" style=\"background-image: url({{image}})\"><span class=\"hidden\">{{name}}'s Picture</span></div>\n                    </figure>\n                    {{/if}}\n                    <h1 class=\"author-title\">{{name}}</h1>\n                    {{#if bio}}\n                        <h2 class=\"author-bio\">{{bio}}</h2>\n                    {{/if}}\n                    <div class=\"author-meta\">\n                        {{#if location}}<span class=\"author-location icon-location\">{{location}}</span>{{/if}}\n                        {{#if website}}<span class=\"author-link icon-link\"><a href=\"{{website}}\">{{website}}</a></span>{{/if}}\n                        <span class=\"author-stats\"><i class=\"icon-stats\"></i> {{plural ../pagination.total empty='No posts' singular='% post' plural='% posts'}}</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n    {{/author}}\n\n    {{! The main content area on the homepage }}\n    <main class=\"content\" role=\"main\">\n        <div class=\"container\">\n            <div class=\"row\">\n                {{! The tag below includes the post loop - partials/loop.hbs }}\n                {{> \"loop\"}}\n            </div>\n        </div>\n    </main>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=container.escapeExpression;\n\n  return \"    <header class=\\\"main-header author-head \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.cover : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0, blockParams, depths),\"inverse\":container.program(4, data, 0, blockParams, depths),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n        <div class=\\\"container\\\">\\n            <div class=\\\"row\\\">       \\n                <nav class=\\\"main-nav overlay clearfix\\\">\\n                    \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.navigation),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"                </nav>\\n            </div>\\n        </div>\\n    </header>\\n\\n    <section class=\\\"author-profile inner\\\">\\n        <div class=\\\"container\\\">\\n            <div class=\\\"row\\\">\\n                <div class=\\\"author-wrap\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"                    <h1 class=\\\"author-title\\\">\"\n    + alias3(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.bio : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(12, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"                    <div class=\\\"author-meta\\\">\\n                        \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.location : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(14, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n                        \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.website : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(16, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n                        <span class=\\\"author-stats\\\"><i class=\\\"icon-stats\\\"></i> \"\n    + alias3((helpers.plural || (depth0 && depth0.plural) || alias2).call(alias1,((stack1 = (depths[1] != null ? depths[1].pagination : depths[1])) != null ? stack1.total : stack1),{\"name\":\"plural\",\"hash\":{\"plural\":\"% posts\",\"singular\":\"% post\",\"empty\":\"No posts\"},\"data\":data}))\n    + \"</span>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </section>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(((helper = (helper = helpers.cover || (depth0 != null ? depth0.cover : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"cover\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<a class=\\\"blog-logo\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\"><img src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"\\\" /></a>\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    return \"                        <a type=\\\"button\\\" class=\\\"menu-button\\\" href=\\\"#\\\">\\n                            <span class=\\\"sr-only\\\">Toggle navigation</span>\\n                            <span class=\\\"icon-bar\\\"></span>\\n                            <span class=\\\"icon-bar\\\"></span>\\n                            <span class=\\\"icon-bar\\\"></span>\\n                        </a>\\n\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"                    <figure class=\\\"author-image\\\">\\n                        <div class=\\\"img\\\" style=\\\"background-image: url(\"\n    + alias4(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\\\"><span class=\\\"hidden\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"'s Picture</span></div>\\n                    </figure>\\n\";\n},\"12\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"                        <h2 class=\\\"author-bio\\\">\"\n    + container.escapeExpression(((helper = (helper = helpers.bio || (depth0 != null ? depth0.bio : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"bio\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h2>\\n\";\n},\"14\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<span class=\\\"author-location icon-location\\\">\"\n    + container.escapeExpression(((helper = (helper = helpers.location || (depth0 != null ? depth0.location : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"location\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span>\";\n},\"16\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<span class=\\\"author-link icon-link\\\"><a href=\\\"\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></span>\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, helper, options, buffer = \n  \"\\n\\n\";\n  stack1 = ((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"author\",\"hash\":{},\"fn\":container.program(1, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.author) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"\\n    <main class=\\\"content\\\" role=\\\"main\\\">\\n        <div class=\\\"container\\\">\\n            <div class=\\\"row\\\">\\n\"\n    + ((stack1 = container.invokePartial(partials.loop,depth0,{\"name\":\"loop\",\"data\":data,\"indent\":\"                \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"            </div>\\n        </div>\\n    </main>\\n\";\n},\"usePartial\":true,\"useData\":true,\"useDepths\":true}"},{"file":"bower.json","ext":".json"},{"file":"default.hbs","ext":".hbs","content":"<!DOCTYPE html>\n<html>\n<head>\n    {{! Document Settings }}\n    <meta charset=\"utf-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n\n    {{! Page Meta }}\n    <title>{{meta_title}}</title>\n    <meta name=\"description\" content=\"{{meta_description}}\" />\n\n    <meta name=\"HandheldFriendly\" content=\"True\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n\n    <link rel=\"shortcut icon\" href=\"{{asset \"favicon.ico\"}}\">\n\n    {{! Styles'n'Scripts }}\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"{{asset \"css/app.css\"}}\" />\n\n    {{! Ghost outputs important style and meta data with this tag }}\n    {{ghost_head}}\n</head>\n<body class=\"{{body_class}} nav-closed\">\n\n    {{navigation}}\n\n    <div class=\"site-wrapper\">\n\n        {{! Everything else gets inserted here }}\n        {{{body}}}\n\n        <footer class=\"site-footer clearfix\">\n            <div class=\"container\">\n                <div class=\"row\">\n                    <section class=\"copyright\"><a href=\"{{@blog.url}}\">{{@blog.title}}</a> &copy; {{date format=\"YYYY\"}}</section>\n                </div>\n            </div>\n        </footer>\n    </div>\n\n    {{! Ghost outputs important scripts and data with this tag }}\n    {{ghost_foot}}\n\n\n    <script type=\"text/javascript\" src=\"{{asset \"js/app.js\"}}\"></script>\n\n</body>\n</html>\n","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression, alias5=container.lambda;\n\n  return \"<!DOCTYPE html>\\n<html>\\n<head>\\n    <meta charset=\\\"utf-8\\\" />\\n    <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=edge\\\" />\\n\\n    <title>\"\n    + alias4(((helper = (helper = helpers.meta_title || (depth0 != null ? depth0.meta_title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"meta_title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</title>\\n    <meta name=\\\"description\\\" content=\\\"\"\n    + alias4(((helper = (helper = helpers.meta_description || (depth0 != null ? depth0.meta_description : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"meta_description\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" />\\n\\n    <meta name=\\\"HandheldFriendly\\\" content=\\\"True\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" />\\n\\n    <link rel=\\\"shortcut icon\\\" href=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"favicon.ico\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\">\\n\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"css/app.css\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\" />\\n\\n    \"\n    + alias4(((helper = (helper = helpers.ghost_head || (depth0 != null ? depth0.ghost_head : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"ghost_head\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n</head>\\n<body class=\\\"\"\n    + alias4(((helper = (helper = helpers.body_class || (depth0 != null ? depth0.body_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"body_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \" nav-closed\\\">\\n\\n    \"\n    + alias4(((helper = (helper = helpers.navigation || (depth0 != null ? depth0.navigation : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"navigation\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\\n    <div class=\\\"site-wrapper\\\">\\n\\n        \"\n    + ((stack1 = ((helper = (helper = helpers.body || (depth0 != null ? depth0.body : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"body\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"\\n\\n        <footer class=\\\"site-footer clearfix\\\">\\n            <div class=\\\"container\\\">\\n                <div class=\\\"row\\\">\\n                    <section class=\\\"copyright\\\"><a href=\\\"\"\n    + alias4(alias5(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\">\"\n    + alias4(alias5(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"</a> &copy; \"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"YYYY\"},\"data\":data}))\n    + \"</section>\\n                </div>\\n            </div>\\n        </footer>\\n    </div>\\n\\n    \"\n    + alias4(((helper = (helper = helpers.ghost_foot || (depth0 != null ? depth0.ghost_foot : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"ghost_foot\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\\n\\n    <script type=\\\"text/javascript\\\" src=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"js/app.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n\\n</body>\\n</html>\\n\";\n},\"useData\":true}"},{"file":"error.hbs","ext":".hbs","content":"{{!< default}}\n\n{{! This is a page template. A page outputs content just like any other post, and has all the same\n    attributes by default, but you can also customise it to behave differently if you prefer. }}\n\n{{! Everything inside the #post tags pulls data from the page }}\n\n\n<header class=\"main-header post-head\">\n    <div class=\"container\">\n        <div class=\"row\">\n            <nav class=\"main-nav {{#if image}}overlay{{/if}} clearfix\">\n                {{#if @blog.logo}}<a class=\"blog-logo\" href=\"{{@blog.url}}\"><img src=\"{{@blog.logo}}\" alt=\"{{@blog.title}}\" /></a>{{/if}}\n                {{#if @blog.navigation}}\n                    <a type=\"button\" class=\"menu-button\" href=\"#\">\n                        <span class=\"sr-only\">Toggle navigation</span>\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                    </a>\n                {{/if}}\n            </nav>\n        </div>\n    </div>\n</header>\n\n<main class=\"content error-page\" role=\"main\">\n        <header class=\"post-header no-cover\">\n            <h1 class=\"post-title\">404. Sorry Page can not be found</h1>\n        </header>\n        <div class=\"container\">\n            <div class=\"row\">\n                <article class=\"post page\">\n                    <section class=\"post-content\">\n                        <p>Sorry the page you are looking for can not be found</p>\n                    </section>\n                </article>\n            </div>\n        </div>\n</main>\n\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    return \"overlay\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<a class=\\\"blog-logo\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\"><img src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"\\\" /></a>\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    return \"                    <a type=\\\"button\\\" class=\\\"menu-button\\\" href=\\\"#\\\">\\n                        <span class=\\\"sr-only\\\">Toggle navigation</span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                    </a>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : {};\n\n  return \"\\n\\n\\n\\n<header class=\\\"main-header post-head\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n            <nav class=\\\"main-nav \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \" clearfix\\\">\\n                \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.navigation),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"            </nav>\\n        </div>\\n    </div>\\n</header>\\n\\n<main class=\\\"content error-page\\\" role=\\\"main\\\">\\n        <header class=\\\"post-header no-cover\\\">\\n            <h1 class=\\\"post-title\\\">404. Sorry Page can not be found</h1>\\n        </header>\\n        <div class=\\\"container\\\">\\n            <div class=\\\"row\\\">\\n                <article class=\\\"post page\\\">\\n                    <section class=\\\"post-content\\\">\\n                        <p>Sorry the page you are looking for can not be found</p>\\n                    </section>\\n                </article>\\n            </div>\\n        </div>\\n</main>\\n\\n\";\n},\"useData\":true}"},{"file":"gulpfile.js","ext":".js"},{"file":"index.hbs","ext":".hbs","content":"{{!< default}}\n{{! The tag above means - insert everything in this file into the {body} of the default.hbs template }}\n\n{{! The big featured header }}\n<header class=\"main-header\">\n    <div class=\"container\">\n        <div class=\"row\">\n            <nav class=\"main-nav overlay clearfix clearfix2\">\n                {{#if @blog.logo}}<a class=\"blog-logo\" href=\"{{@blog.url}}\"><img src=\"{{@blog.logo}}\" alt=\"{{@blog.title}}\" /></a>{{/if}}\n                {{#if @blog.navigation}}\n\n                <a type=\"button\" class=\"menu-button\" href=\"#\">\n                    <span class=\"sr-only\">Toggle navigation</span>\n                    <span class=\"icon-bar\"></span>\n                    <span class=\"icon-bar\"></span>\n                    <span class=\"icon-bar\"></span>\n                </a>\n                {{/if}}\n            </nav>\n            <div class=\"vertical {{#if @blog.cover}}\" style=\"background-image: url({{@blog.cover}}){{else}}no-cover{{/if}}\">\n                <div class=\"main-header-content inner\">\n                    <h2 class=\"page-description\">{{@blog.description}}</h2>\n                </div>\n            </div>\n            <a class=\"scroll-down icon-arrow-left\" href=\"#content\" data-offset=\"-45\"><span class=\"hidden\">Scroll Down</span></a>\n        </div>\n    </div>\n</header>\n\n{{! The main content area on the homepage }}\n<main id=\"content\" class=\"content\" role=\"main\">\n    <div class=\"container\">\n        <div class=\"row\">\n            {{! The tag below includes the post loop - partials/loop.hbs }}\n            {{> \"loop\"}}\n        </div>\n    </div>\n</main>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<a class=\\\"blog-logo\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\"><img src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"\\\" /></a>\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"\\n                <a type=\\\"button\\\" class=\\\"menu-button\\\" href=\\\"#\\\">\\n                    <span class=\\\"sr-only\\\">Toggle navigation</span>\\n                    <span class=\\\"icon-bar\\\"></span>\\n                    <span class=\\\"icon-bar\\\"></span>\\n                    <span class=\\\"icon-bar\\\"></span>\\n                </a>\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \")\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : {};\n\n  return \"\\n<header class=\\\"main-header\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n            <nav class=\\\"main-nav overlay clearfix clearfix2\\\">\\n                \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.navigation),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"            </nav>\\n            <div class=\\\"vertical \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.program(7, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n                <div class=\\\"main-header-content inner\\\">\\n                    <h2 class=\\\"page-description\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.description), depth0))\n    + \"</h2>\\n                </div>\\n            </div>\\n            <a class=\\\"scroll-down icon-arrow-left\\\" href=\\\"#content\\\" data-offset=\\\"-45\\\"><span class=\\\"hidden\\\">Scroll Down</span></a>\\n        </div>\\n    </div>\\n</header>\\n\\n<main id=\\\"content\\\" class=\\\"content\\\" role=\\\"main\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n\"\n    + ((stack1 = container.invokePartial(partials.loop,depth0,{\"name\":\"loop\",\"data\":data,\"indent\":\"            \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"        </div>\\n    </div>\\n</main>\\n\";\n},\"usePartial\":true,\"useData\":true}"},{"file":"package.json","ext":".json"},{"file":"page.hbs","ext":".hbs","content":"{{!< default}}\n\n{{! This is a page template. A page outputs content just like any other post, and has all the same\n    attributes by default, but you can also customise it to behave differently if you prefer. }}\n\n{{! Everything inside the #post tags pulls data from the page }}\n{{#post}}\n\n<header class=\"main-header post-head\">\n    <div class=\"container\">\n        <div class=\"row\">\n            <nav class=\"main-nav {{#if image}}overlay{{/if}} clearfix\">\n                {{#if @blog.logo}}<a class=\"blog-logo\" href=\"{{@blog.url}}\"><img src=\"{{@blog.logo}}\" alt=\"{{@blog.title}}\" /></a>{{/if}}\n                {{#if @blog.navigation}}\n                    <a type=\"button\" class=\"menu-button\" href=\"#\">\n                        <span class=\"sr-only\">Toggle navigation</span>\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                    </a>\n                {{/if}}\n            </nav>\n        </div>\n    </div>\n</header>\n\n<main class=\"content\" role=\"main\">\n        <header class=\"post-header  {{#if image}}\" style=\"background-image: url({{image}}){{else}}no-cover{{/if}}\">\n            <h1 class=\"post-title\">{{title}}</h1>\n        </header>\n        <div class=\"container\">\n            <div class=\"row\">\n                <article class=\"{{post_class}}\">\n\n                    <section class=\"post-content\">\n                        {{content}}\n                    </section>\n\n                </article>\n            </div>\n        </div>\n</main>\n{{/post}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\\n<header class=\\\"main-header post-head\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n            <nav class=\\\"main-nav \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \" clearfix\\\">\\n                \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.navigation),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"            </nav>\\n        </div>\\n    </div>\\n</header>\\n\\n<main class=\\\"content\\\" role=\\\"main\\\">\\n        <header class=\\\"post-header  \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.program(10, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n            <h1 class=\\\"post-title\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n        </header>\\n        <div class=\\\"container\\\">\\n            <div class=\\\"row\\\">\\n                <article class=\\\"\"\n    + alias4(((helper = (helper = helpers.post_class || (depth0 != null ? depth0.post_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"post_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\\n                    <section class=\\\"post-content\\\">\\n                        \"\n    + alias4(((helper = (helper = helpers.content || (depth0 != null ? depth0.content : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"content\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n                    </section>\\n\\n                </article>\\n            </div>\\n        </div>\\n</main>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \"overlay\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<a class=\\\"blog-logo\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\"><img src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"\\\" /></a>\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    return \"                    <a type=\\\"button\\\" class=\\\"menu-button\\\" href=\\\"#\\\">\\n                        <span class=\\\"sr-only\\\">Toggle navigation</span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                    </a>\\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, buffer = \n  \"\\n\\n\";\n  stack1 = ((helper = (helper = helpers.post || (depth0 != null ? depth0.post : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"post\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.post) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"useData\":true}"},{"file":"partials/loop.hbs","ext":".hbs","content":"{{! Previous/next page links - only displayed on page 2+ }}\n\n\n{{! This is the post loop - each post will be output using this markup }}\n{{#foreach posts}}\n<article class=\"{{post_class}}\">\n    <div class=\"post-inner-wrap\">\n        <header class=\"post-header\">\n            <h2 class=\"post-title\"><a href=\"{{url}}\">{{{title}}}</a></h2>\n        </header>\n        <section class=\"post-excerpt\">\n            <p>{{excerpt words=\"26\"}} <a class=\"read-more\" href=\"{{url}}\">&raquo;</a></p>\n        </section>\n        <footer class=\"post-meta\">\n            <time class=\"post-date\" datetime=\"{{date format='YYYY-MM-DD'}}\">{{date format=\"DD MMMM YYYY\"}}</time>\n        </footer>\n    </div>\n</article>\n{{/foreach}}\n\n{{! Previous/next page links - displayed on every page }}\n{{pagination}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<article class=\\\"\"\n    + alias4(((helper = (helper = helpers.post_class || (depth0 != null ? depth0.post_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"post_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n    <div class=\\\"post-inner-wrap\\\">\\n        <header class=\\\"post-header\\\">\\n            <h2 class=\\\"post-title\\\"><a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + ((stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"</a></h2>\\n        </header>\\n        <section class=\\\"post-excerpt\\\">\\n            <p>\"\n    + alias4((helpers.excerpt || (depth0 && depth0.excerpt) || alias2).call(alias1,{\"name\":\"excerpt\",\"hash\":{\"words\":\"26\"},\"data\":data}))\n    + \" <a class=\\\"read-more\\\" href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">&raquo;</a></p>\\n        </section>\\n        <footer class=\\\"post-meta\\\">\\n            <time class=\\\"post-date\\\" datetime=\\\"\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"YYYY-MM-DD\"},\"data\":data}))\n    + \"\\\">\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"DD MMMM YYYY\"},\"data\":data}))\n    + \"</time>\\n        </footer>\\n    </div>\\n</article>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing;\n\n  return \"\\n\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || alias2).call(alias1,(depth0 != null ? depth0.posts : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + container.escapeExpression(((helper = (helper = helpers.pagination || (depth0 != null ? depth0.pagination : depth0)) != null ? helper : alias2),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"pagination\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\";\n},\"useData\":true}"},{"file":"partials/navigation.hbs","ext":".hbs","content":"<div class=\"nav\">\n    <a href=\"#\" class=\"nav-close\">\n        <span class=\"hidden\">Close</span>\n    </a>\n    <ul>\n        {{#foreach navigation}}\n            <li class=\"nav-{{slug}}{{#if current}} nav-current{{/if}}\" role=\"presentation\"><a href=\"{{url absolute=\"true\"}}\">{{label}}</a></li>\n        {{/foreach}}\n    </ul>\n    <a class=\"subscribe-button icon-feed\" href=\"{{@blog.url}}/rss/\">Subscribe</a>\n</div>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"            <li class=\\\"nav-\"\n    + alias4(((helper = (helper = helpers.slug || (depth0 != null ? depth0.slug : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"slug\",\"hash\":{},\"data\":data}) : helper)))\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.current : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\" role=\\\"presentation\\\"><a href=\\\"\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\">\"\n    + alias4(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"label\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></li>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \" nav-current\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"nav\\\">\\n    <a href=\\\"#\\\" class=\\\"nav-close\\\">\\n        <span class=\\\"hidden\\\">Close</span>\\n    </a>\\n    <ul>\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.navigation : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"    </ul>\\n    <a class=\\\"subscribe-button icon-feed\\\" href=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"/rss/\\\">Subscribe</a>\\n</div>\\n\";\n},\"useData\":true}"},{"file":"post.hbs","ext":".hbs","content":"{{!< default}}\n\n{{! The comment above \"< default\" means - insert everything in this file into\n    the {body} of the default.hbs template, which contains our header/footer. }}\n\n{{! Everything inside the #post tags pulls data from the post }}\n{{#post}}\n\n<header class=\"main-header post-head\">\n    <div class=\"container\">\n        <div class=\"row\">\n            <nav class=\"main-nav {{#if image}}overlay{{/if}} clearfix\">\n                {{#if @blog.logo}}<a class=\"blog-logo\" href=\"{{@blog.url}}\"><img src=\"{{@blog.logo}}\" alt=\"{{@blog.title}}\" /></a>{{/if}}\n                {{#if @blog.navigation}}\n                    <a type=\"button\" class=\"menu-button\" href=\"#\">\n                        <span class=\"sr-only\">Toggle navigation</span>\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                    </a>\n                {{/if}}\n            </nav>\n        </div>\n    </div>\n</header>\n\n<main class=\"content\" role=\"main\">\n    \n     <header class=\"post-header {{#if image}}\" style=\"background-image: url({{image}}){{else}}no-cover{{/if}}\">\n        <h1 class=\"post-title\">{{title}}</h1>\n        <section class=\"post-meta\">\n            <time class=\"post-date\" datetime=\"{{date format='YYYY-MM-DD'}}\">{{date format=\"DD MMMM YYYY\"}}</time>\n        </section>\n    </header>   \n\n    <div class=\"container\">\n\n        <div class=\"row\">\n\n            <article class=\"{{post_class}}\">\n\n                <section class=\"post-content\">\n                    {{content}}\n                </section>\n\n                <footer class=\"post-footer\">\n\n                    <section class=\"share\">\n                        <h4>Share this post</h4>\n                        <a class=\"fa fa-twitter\" href=\"https://twitter.com/share?text={{encode title}}&amp;url={{url absolute=\"true\"}}\"\n                            onclick=\"window.open(this.href, 'twitter-share', 'width=550,height=235');return false;\">\n                            <span class=\"hidden\">Twitter</span>\n                        </a>\n                        <a class=\"fa fa-facebook\" href=\"https://www.facebook.com/sharer/sharer.php?u={{url absolute=\"true\"}}\"\n                            onclick=\"window.open(this.href, 'facebook-share','width=580,height=296');return false;\">\n                            <span class=\"hidden\">Facebook</span>\n                        </a>\n                        <a class=\"fa fa-google-plus\" href=\"https://plus.google.com/share?url={{url absolute=\"true\"}}\"\n                           onclick=\"window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;\">\n                            <span class=\"hidden\">Google+</span>\n                        </a>\n                    </section>\n\n                    {{! Everything inside the #author tags pulls data from the author }}\n                    {{#author}}\n\n\n                        {{#if image}}\n                        <figure class=\"author-image\">\n                            <a class=\"img\" href=\"{{url}}\" style=\"background-image: url({{image}})\"><span class=\"hidden\">{{name}}'s Picture</span></a>\n                        </figure>\n                        {{/if}}\n\n                        <section class=\"author\">\n                            <h4><a href=\"{{url}}\">{{name}}</a></h4>\n\n                            {{#if bio}}\n                                <p>{{bio}}</p>\n                            {{else}}\n                                <p>Read <a href=\"{{url}}\">more posts</a> by this author.</p>\n                            {{/if}}\n                            <div class=\"author-meta\">\n                                {{#if location}}<span class=\"author-location icon-location\">{{location}}</span>{{/if}}\n                                {{#if website}}<span class=\"author-link icon-link\"><a href=\"{{website}}\">{{website}}</a></span>{{/if}}\n                            </div>\n                        </section>\n\n                    {{/author}}\n\n                </footer>\n\n            </article>\n\n        </div>\n    </div>\n</main>\n\n<aside class=\"read-next\">\n\n            {{#prev_post}}\n            <a class=\"read-next-story prev {{#if image}}\" style=\"background-image: url({{image}}){{else}}no-cover{{/if}}\" href=\"{{url}}\">\n                <section class=\"post-next\">\n                    <h3>Prev</h3>\n                    <h2>{{title}}</h2>\n                </section>\n            </a>\n            {{/prev_post}}\n            {{#next_post}}\n            <a class=\"read-next-story {{#if image}}\" style=\"background-image: url({{image}}){{else}}no-cover{{/if}}\" href=\"{{url}}\">\n                <section class=\"post-next\">\n                    <h3>Next</h3>\n                    <h2>{{title}}</h2>\n                </section>\n            </a>\n            {{/next_post}}\n</aside>\n\n{{/post}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression, alias5=helpers.blockHelperMissing, buffer = \n  \"\\n<header class=\\\"main-header post-head\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n            <nav class=\\\"main-nav \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \" clearfix\\\">\\n                \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.navigation),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"            </nav>\\n        </div>\\n    </div>\\n</header>\\n\\n<main class=\\\"content\\\" role=\\\"main\\\">\\n    \\n     <header class=\\\"post-header \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.program(10, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n        <h1 class=\\\"post-title\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n        <section class=\\\"post-meta\\\">\\n            <time class=\\\"post-date\\\" datetime=\\\"\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"YYYY-MM-DD\"},\"data\":data}))\n    + \"\\\">\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"DD MMMM YYYY\"},\"data\":data}))\n    + \"</time>\\n        </section>\\n    </header>   \\n\\n    <div class=\\\"container\\\">\\n\\n        <div class=\\\"row\\\">\\n\\n            <article class=\\\"\"\n    + alias4(((helper = (helper = helpers.post_class || (depth0 != null ? depth0.post_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"post_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\\n                <section class=\\\"post-content\\\">\\n                    \"\n    + alias4(((helper = (helper = helpers.content || (depth0 != null ? depth0.content : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"content\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n                </section>\\n\\n                <footer class=\\\"post-footer\\\">\\n\\n                    <section class=\\\"share\\\">\\n                        <h4>Share this post</h4>\\n                        <a class=\\\"fa fa-twitter\\\" href=\\\"https://twitter.com/share?text=\"\n    + alias4((helpers.encode || (depth0 && depth0.encode) || alias2).call(alias1,(depth0 != null ? depth0.title : depth0),{\"name\":\"encode\",\"hash\":{},\"data\":data}))\n    + \"&amp;url=\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\"\\n                            onclick=\\\"window.open(this.href, 'twitter-share', 'width=550,height=235');return false;\\\">\\n                            <span class=\\\"hidden\\\">Twitter</span>\\n                        </a>\\n                        <a class=\\\"fa fa-facebook\\\" href=\\\"https://www.facebook.com/sharer/sharer.php?u=\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\"\\n                            onclick=\\\"window.open(this.href, 'facebook-share','width=580,height=296');return false;\\\">\\n                            <span class=\\\"hidden\\\">Facebook</span>\\n                        </a>\\n                        <a class=\\\"fa fa-google-plus\\\" href=\\\"https://plus.google.com/share?url=\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\"\\n                           onclick=\\\"window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;\\\">\\n                            <span class=\\\"hidden\\\">Google+</span>\\n                        </a>\\n                    </section>\\n\\n\";\n  stack1 = ((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : alias2),(options={\"name\":\"author\",\"hash\":{},\"fn\":container.program(12, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === alias3 ? helper.call(alias1,options) : helper));\n  if (!helpers.author) { stack1 = alias5.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  buffer += \"\\n                </footer>\\n\\n            </article>\\n\\n        </div>\\n    </div>\\n</main>\\n\\n<aside class=\\\"read-next\\\">\\n\\n\";\n  stack1 = ((helper = (helper = helpers.prev_post || (depth0 != null ? depth0.prev_post : depth0)) != null ? helper : alias2),(options={\"name\":\"prev_post\",\"hash\":{},\"fn\":container.program(23, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === alias3 ? helper.call(alias1,options) : helper));\n  if (!helpers.prev_post) { stack1 = alias5.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  stack1 = ((helper = (helper = helpers.next_post || (depth0 != null ? depth0.next_post : depth0)) != null ? helper : alias2),(options={\"name\":\"next_post\",\"hash\":{},\"fn\":container.program(25, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === alias3 ? helper.call(alias1,options) : helper));\n  if (!helpers.next_post) { stack1 = alias5.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"</aside>\\n\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \"overlay\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<a class=\\\"blog-logo\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\"><img src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"\\\" /></a>\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    return \"                    <a type=\\\"button\\\" class=\\\"menu-button\\\" href=\\\"#\\\">\\n                        <span class=\\\"sr-only\\\">Toggle navigation</span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                    </a>\\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"12\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(13, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n                        <section class=\\\"author\\\">\\n                            <h4><a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></h4>\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.bio : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(15, data, 0),\"inverse\":container.program(17, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"                            <div class=\\\"author-meta\\\">\\n                                \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.location : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(19, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n                                \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.website : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(21, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n                            </div>\\n                        </section>\\n\\n\";\n},\"13\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"                        <figure class=\\\"author-image\\\">\\n                            <a class=\\\"img\\\" href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" style=\\\"background-image: url(\"\n    + alias4(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\\\"><span class=\\\"hidden\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"'s Picture</span></a>\\n                        </figure>\\n\";\n},\"15\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"                                <p>\"\n    + container.escapeExpression(((helper = (helper = helpers.bio || (depth0 != null ? depth0.bio : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"bio\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</p>\\n\";\n},\"17\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"                                <p>Read <a href=\\\"\"\n    + container.escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">more posts</a> by this author.</p>\\n\";\n},\"19\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<span class=\\\"author-location icon-location\\\">\"\n    + container.escapeExpression(((helper = (helper = helpers.location || (depth0 != null ? depth0.location : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"location\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span>\";\n},\"21\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<span class=\\\"author-link icon-link\\\"><a href=\\\"\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></span>\";\n},\"23\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"            <a class=\\\"read-next-story prev \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.program(10, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\" href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n                <section class=\\\"post-next\\\">\\n                    <h3>Prev</h3>\\n                    <h2>\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h2>\\n                </section>\\n            </a>\\n\";\n},\"25\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"            <a class=\\\"read-next-story \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.program(10, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\" href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n                <section class=\\\"post-next\\\">\\n                    <h3>Next</h3>\\n                    <h2>\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h2>\\n                </section>\\n            </a>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, buffer = \n  \"\\n\\n\";\n  stack1 = ((helper = (helper = helpers.post || (depth0 != null ? depth0.post : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"post\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.post) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"useData\":true}"},{"file":"source/css/app.scss","ext":".scss"},{"file":"source/css/custom/_variables.scss","ext":".scss"},{"file":"source/css/custom/theme.scss","ext":".scss"},{"file":"source/js/index.js","ext":".js"},{"file":"source/js/jquery.fitvids.js","ext":".js"},{"file":"styles.html","ext":".html"},{"file":"tag.hbs","ext":".hbs","content":"{{!< default}}\n{{! The tag above means - insert everything in this file into the {body} of the default.hbs template }}\n\n{{! If we have a tag cover, display that - else blog cover - else nothing }}\n<header class=\"main-header tag-head {{#if tag.image}}\" style=\"background-image: url({{tag.image}}){{else}}{{#if @blog.cover}}\" style=\"background-image: url({{@blog.cover}}){{else}}no-cover{{/if}}{{/if}}\">\n    <div class=\"container\">\n        <div class=\"row\">\n            <nav class=\"main-nav {{#if image}}overlay{{/if}} clearfix\">\n                {{#if @blog.logo}}<a class=\"blog-logo\" href=\"{{@blog.url}}\"><img src=\"{{@blog.logo}}\" alt=\"{{@blog.title}}\" /></a>{{/if}}\n                {{#if @blog.navigation}}\n                    <a type=\"button\" class=\"menu-button\" href=\"#\">\n                        <span class=\"sr-only\">Toggle navigation</span>\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                    </a>\n                {{/if}}\n            </nav>\n            <div class=\"vertical\">\n                <div class=\"main-header-content inner\">\n                    <h1 class=\"page-title\">{{tag.name}}</h1>\n                    <h2 class=\"page-description\">\n                        {{#if tag.description}}\n                            {{tag.description}}\n                        {{else}}\n                            A {{pagination.total}}-post collection\n                        {{/if}}\n                    </h2>\n                </div>\n            </div>\n        </div>\n    </div>\n</header>\n\n{{! The main content area on the homepage }}\n<main class=\"content\" role=\"main\">\n    <div class=\"container\">\n        <div class=\"row\">\n            {{! The tag below includes the post loop - partials/loop.hbs }}\n            {{> \"loop\"}}\n        </div>\n    </div>\n</main>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.image : stack1), depth0))\n    + \")\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers[\"if\"].call(depth0 != null ? depth0 : {},((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.program(6, data, 0),\"data\":data})) != null ? stack1 : \"\");\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \")\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    return \"overlay\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<a class=\\\"blog-logo\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\"><img src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"\\\" /></a>\";\n},\"12\":function(container,depth0,helpers,partials,data) {\n    return \"                    <a type=\\\"button\\\" class=\\\"menu-button\\\" href=\\\"#\\\">\\n                        <span class=\\\"sr-only\\\">Toggle navigation</span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                    </a>\\n\";\n},\"14\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"                            \"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.description : stack1), depth0))\n    + \"\\n\";\n},\"16\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"                            A \"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.pagination : depth0)) != null ? stack1.total : stack1), depth0))\n    + \"-post collection\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : {};\n\n  return \"\\n<header class=\\\"main-header tag-head \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.image : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n            <nav class=\\\"main-nav \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \" clearfix\\\">\\n                \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.navigation),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(12, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"            </nav>\\n            <div class=\\\"vertical\\\">\\n                <div class=\\\"main-header-content inner\\\">\\n                    <h1 class=\\\"page-title\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.name : stack1), depth0))\n    + \"</h1>\\n                    <h2 class=\\\"page-description\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.description : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(14, data, 0),\"inverse\":container.program(16, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"                    </h2>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</header>\\n\\n<main class=\\\"content\\\" role=\\\"main\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n\"\n    + ((stack1 = container.invokePartial(partials.loop,depth0,{\"name\":\"loop\",\"data\":data,\"indent\":\"            \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"        </div>\\n    </div>\\n</main>\\n\";\n},\"usePartial\":true,\"useData\":true}"}],"results":{"pass":[{"level":"error","rule":"Replace <code>{{pageUrl}}</code> with <code>{{page_url}}</code>","fatal":true,"details":"The helper <code>{{pageUrl}}</code> was replaced with <code>{{page_url}}</code>.<br>Find more information about the <code>{{page_url}}</code> helper <a href=\"https://themes.ghost.org/docs/page_url\" target=_blank>here</a>.","code":"GS001-DEPR-PURL"},{"level":"error","rule":"Replace the <code>{{author.image}}</code> helper with <code>{{author.profile_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>profile_image</code>.<br>Instead of <code>{{author.image}}</code> you need to use <code>{{author.profile_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-AIMG"},{"level":"error","rule":"Replace the <code>{{post.image}}</code> helper with <code>{{post.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in post context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.image}}</code> you need to use <code>{{post.feature_image}}</code>.<br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PIMG"},{"level":"error","rule":"Replace the <code>{{author.cover}}</code> helper with <code>{{author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{author.cover}}</code> you need to use <code>{{author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-AC"},{"level":"error","rule":"Replace the <code>{{tags.[#].image}}</code> helper with <code>{{tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tags.[#].image}}</code> you need to use <code>{{tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-TSIMG"},{"level":"error","rule":"Replace the <code>{{post.author.image}}</code> helper with <code>{{post.author.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.author.image}}</code> you need to use <code>{{post.author.feature_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PAIMG"},{"level":"error","rule":"Replace the <code>{{post.author.cover}}</code> helper with <code>{{post.author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute in author context was replaced with <code>cover_image</code>.<br>Instead of <code>{{post.author.cover}}</code> you need to use <code>{{post.author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PAC"},{"level":"error","rule":"Replace the <code>{{post.tags.[#].image}}</code> helper with <code>{{post.tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.tags.[#].image}}</code> you need to use <code>{{post.tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PTIMG"},{"level":"error","rule":"Replace the <code>{{#if author.cover}}</code> helper with <code>{{#if author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if author.cover}}</code> you need to use <code>{{#if author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-AC"},{"level":"error","rule":"Replace the <code>{{#if author.image}}</code> helper with <code>{{#if author.profile_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>profile_image</code>.<br>Instead of <code>{{#if author.image}}</code> you need to use <code>{{#if author.profile_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-AIMG"},{"level":"error","rule":"Replace the <code>{{#if post.tags.[#].image}}</code> helper with <code>{{#if post.tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if post.tags.[#].image}}</code> you need to use <code>{{#if post.tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-PTIMG"},{"level":"error","rule":"Replace the <code>{{#if tags.[#].image}}</code> helper with <code>{{#if tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tags.[#].image}}</code> you need to use <code>{{#if tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-TSIMG"},{"level":"error","rule":"Replace <code>{{@blog.posts_per_page}}</code> with <code>{{@config.posts_per_page}}</code>","details":"The global <code>{{@blog.posts_per_page}}</code> property was replaced with <code>{{@config.posts_per_page}}</code>.<br>Read <a href=\"https://themes.ghost.org/docs/config\" target=_blank>here</a> about the attribute and check <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank>here</a> where you can customise the posts per page setting, as this is now adjustable in your theme.","code":"GS001-DEPR-PPP"},{"level":"error","rule":"Replace <code>{{content words=\"0\"}}</code> with the <code>{{img_url}}</code> helper","details":"The <code>{{content words=\"0\"}}</code> hack doesn't work anymore (and was never supported). Please use the <code>{{img_url}}</code> helper to render images.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and ","code":"GS001-DEPR-C0H"},{"level":"error","rule":"Replace <code>.archive-template</code> with the <code>.paged</code> CSS class","details":"The <code>.archive-template</code> CSS class was replaced with the <code>.paged</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-AT"},{"level":"error","rule":"Replace <code>.page</code> with the <code>.page-template</code> css class","details":"The <code>.page</code> CSS class was replaced with the <code>.page-template</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-PA"},{"level":"error","rule":"Replace <code>.page-template-slug</code> with the <code>.page-slug</code> css class","details":"The <code>.page-template-slug</code> CSS class was replaced with the <code>.page-slug</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-PATS"},{"level":"error","rule":"Replace <code>{{id}}</code> with <code>{{comment_id}}</code> in Disqus embeds.","fatal":true,"details":"The output of <code>{{id}}</code> has changed between Ghost LTS and 1.0.0. This results in Disqus comments not loading on Ghost 1.0.0 posts which were imported from Ghost LTS. To resolve this, we've added a new <code>{{comment_id}}</code> helper that will output the old ID for posts that have been imported from LTS, and the new ID for new posts. The Disqus embed must be updated from <code>this.page.identifier = 'ghost-{{id}}';</code> to <code>this.page.identifier = 'ghost-{{comment_id}}';</code> to ensure Disqus continues to work.","code":"GS002-DISQUS-ID"},{"level":"recommendation","rule":"The output of <code>{{id}}</code> changed between Ghost LTS and 1.0.0, you may need to use <code>{{comment_id}}</code> instead.","details":"The output of <code>{{id}}</code> has changed between Ghost LTS and 1.0.0. <code>{{id}}</code> used to output an incrementing integer ID, and will now output an ObjectID. We've added a new <code>{{comment_id}}</code> helper that will output the old ID for posts that have been imported from LTS, and the new ID for new posts. If you need the old ID to be output on imported posts, then you will need to use <code>{{comment_id}}</code> rather than <code>{{id}}</code>.","code":"GS002-ID-HELPER"},{"level":"error","rule":"Templates must contain valid Handlebars","fatal":true,"details":"Oops! You seemed to have used invalid Handlebars syntax. This mostly happens, when you use a helper that is not supported.<br>See the full list of available helpers <a href=\"https://themes.ghost.org/docs/helpers\" target=_blank>here</a>.","code":"GS005-TPL-ERR"},{"level":"error","rule":"<code>package.json</code> file should be present","details":"You should provide a <code>package.json</code> file for your theme.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-REQ"},{"level":"error","rule":"<code>package.json</code> file can be parsed","details":"Your <code>package.json</code> file couldn't be parsed. This is mostly caused by a missing or unnecessary <code>','</code> or the wrong usage of <code>'\"\"'</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> for further information.<br>A good reference for your <code>package.json</code> file is always the latest version of  <a href=\"https://github.com/TryGhost/Casper/blob/master/package.json\" target=_blank>Casper</a>.","code":"GS010-PJ-PARSE"},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> is required","details":"Please add the property <code>\"name\"</code> to your <code>package.json</code>. E.g. <code>{\"name\": \"my-theme\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-NAME-REQ"},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> must be hyphenated","details":"The property <code>\"name\"</code> in your <code>package.json</code> file must be hyphenated.<br>Please use <code>\"my-theme\"</code> rather than <code>\"My Theme\"</code> or <code>\"my theme\"</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--name-\" target=_blank><code>package.json</code> documentation</a> for further information.","code":"GS010-PJ-NAME-HY"},{"level":"error","rule":"<code>package.json</code> property <code>\"version\"</code> must be semver compliant","details":"The property <code>\"version\"</code> in your <code>package.json</code> file must be semver compliant. E.g. <code>{\"version\": \"1.0.0\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--version-\" target=_blank><code>package.json</code> documentation</a> for further information.","code":"GS010-PJ-VERSION-SEM"},{"level":"error","rule":"<code>package.json</code> property <code>\"version\"</code> is required","details":"Please add the property <code>\"version\"</code> to your <code>package.json</code>. E.g. <code>{\"version\": \"1.0.0\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-VERSION-REQ"},{"level":"error","rule":"A template file called <code>index.hbs</code> must be present","fatal":true,"details":"Your theme must have a template file called <code>index.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the required template structure and <code>index.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-index-hbs\" target=_blank>particular</a>.","code":"GS020-INDEX-REQ"},{"level":"error","rule":"A template file called <code>post.hbs</code> must be present","fatal":true,"details":"Your theme must have a template file called <code>index.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the required template structure and <code>post.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-post-hbs\" target=_blank>particular</a>.","code":"GS020-POST-REQ"},{"level":"recommendation","rule":"Provide a default layout template called default.hbs","details":"It is recommended that your theme has a template file called <code>default.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the recommended template structure and <code>default.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-default-hbs\" target=_blank>particular</a>.","code":"GS020-DEF-REC"},{"level":"warning","rule":"Assets such as CSS & JS must use the <code>{{asset}}</code> helper","details":"The listed files should be included using the <code>{{asset}}</code> helper.<br>For more information, please see the <a href=\"https://themes.ghost.org/docs/asset\" target=_blank><code>{{asset}}</code> helper documentation</a>.","code":"GS030-ASSET-REQ"},{"level":"error","rule":"Symlinks in themes are not allowed","fatal":true,"details":"Symbolic links in themes are not allowed. Please use the <code>{{asset}}</code> helper.<br>For more information, please see the <a href=\"https://themes.ghost.org/docs/asset\" target=_blank><code>{{asset}}</code> helper documentation</a>.","code":"GS030-ASSET-SYM"},{"level":"warning","rule":"The helper <code>{{ghost_head}}</code> should be present","details":"The <code>{{ghost_head}}</code> helper should be present in your theme. It outputs many useful things, such as <a href=\"https://help.ghost.org/hc/en-us/articles/223403488-Code-Injection\" target=_blank>\"code injection\" scripts</a>, structured data, canonical links, meta description etc.<br>The helper belongs just before the <code></head></code> tag in your <code>default.hbs</code> template.<br>For more details, please see the <a href=\"https://themes.ghost.org/docs/ghost_head\" target=_blank><code>{{ghost_head}}</code> helper documentation</a>.","code":"GS040-GH-REQ"},{"level":"warning","rule":"The helper <code>{{ghost_foot}}</code> should be present","details":"The <code>{{ghost_foot}}</code> helper should be present in your theme. It outputs scripts as saved in <a href=\"https://help.ghost.org/hc/en-us/articles/223403488-Code-Injection\" target=_blank>\"code injection\" scripts</a>.<br>The helper belongs just before the <code></body></code> tag in your <code>default.hbs</code> template.<br>For more details, please see the <a href=\"https://themes.ghost.org/docs/ghost_foot\" target=_blank><code>{{ghost_foot}}</code> helper documentation</a>.","code":"GS040-GF-REQ"}],"error":[{"fatal":true,"level":"error","rule":"Replace the <code>{{image}}</code> helper with <code>{{img_url feature_image}}</code> or <code>{{img_url profile_image}}</code>","details":"The <code>{{image}}</code> helper was replaced with <code>{{img_url}}</code>.<br>Depending on the context of the <code>{{img_url}}</code> helper you would need to use e. g. <br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{img_url feature_image}}<br>{{/post}}</code><br><br>to render the feature image of the blog post.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and read more about Ghost's usage of contexts <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{image}} from this template"}],"code":"GS001-DEPR-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{cover}}</code> helper with <code>{{cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To render the cover image in author context, you need to use<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To render the cover image of your blog, just use <code>{{@blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{cover}} from this template"}],"code":"GS001-DEPR-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{@blog.cover}}</code> helper with <code>{{@blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{@blog.cover}}</code> you need to use <code>{{@blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"index.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{@blog.cover}} from this template"}],"code":"GS001-DEPR-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{tag.image}}</code> helper with <code>{{tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tag.image}}</code> you need to use <code>{{tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{tag.image}} from this template"}],"code":"GS001-DEPR-TIMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if image}}</code> helper with <code>{{#if feature_image}}</code>, or <code>{{#if profile_image}}</code>","details":"The <code>image</code> attribute was replaced with <code>feature_image</code> and <code>profile_image</code>.<br>Depending on the <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>context</a> you will need to replace it like this:<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/post}}</code><br><br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.<br><br><code>{{#tag}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/tag}}</code><br><br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"error.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{#if image}} from this template"}],"code":"GS001-DEPR-CON-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if cover}}</code> helper with <code>{{#if cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To check for the cover image in author context, you need to use<br><br><code>{{#if cover_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/if}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To check for the cover image of your blog, just use <code>{{#if @blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if cover}} from this template"}],"code":"GS001-DEPR-CON-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if @blog.cover}}</code> helper with <code>{{#if @blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if @blog.cover}}</code> you need to use <code>{{#if @blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"index.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"}],"code":"GS001-DEPR-CON-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if tag.image}}</code> helper with <code>{{#if tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tag.image}}</code> you need to use <code>{{#if tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{#if tag.image}} from this template"}],"code":"GS001-DEPR-CON-TIMG"}],"warning":[],"recommendation":[],"missing":[{"level":"error","rule":"The usage of <code>{{meta_description}}</code> in HTML <code>head</code> is no longer required","details":"The usage of <code>{{meta_description}}</code> in the HTML <code>head</code> tag is no longer required because Ghost outputs this for you automatically in <code>{{ghost_head}}</code>.<br>Check out the documentation for <code>{{meta_description}}</code> <a href=\"https://themes.ghost.org/docs/meta_description\" target=_blank>here</a>.<br>To see, what else is rendered with the <code>{{ghost_head}}</code> helper, look <a href=\"https://themes.ghost.org/docs/ghost_head\" target=_blank>here</a>."},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> must be lowercase","details":"The property <code>\"name\"</code> in your <code>package.json</code> file must be lowercase.<br>Good examples are: <code>\"my-theme\"</code> or <code>\"theme\"</code> rather than <code>\"My Theme\"</code> or <code>\"Theme\"</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--name-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"author.email\"</code> must be valid","details":"The property <code>\"author.email\"</code> in your <code>package.json</code> file must a valid email. E.g. <code>{\"author\": {\"email\": \"hello@example.com\"}}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--author-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"recommendation","rule":"<code>package.json</code> property <code>\"config.posts_per_page\"</code> is recommended. Otherwise, it falls back to 5","details":"Please add <code>\"posts_per_page\"</code> to your <code>package.json</code>. E.g. <code>{\"config\": { \"posts_per_page\": 5}}</code>.<br>If no <code>\"posts_per_page\"</code> property is provided, Ghost will use its default setting of 5 posts per page.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"config.posts_per_page\"</code> must be a number above 0","details":"The property <code>\"config.posts_per_page\"</code> in your <code>package.json</code> file must be a number greater than zero. E.g. <code>{\"config\": { \"posts_per_page\": 5}}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"author.email\"</code> is required","details":"Please add the property <code>\"author.email\"</code> to your <code>package.json</code>. E.g. <code>{\"author\": {\"email\": \"hello@example.com\"}}</code>.<br>The email is required so that themes which are distributed (either free or paid) have a method of contacting the author so users can get support and more importantly so that Ghost can reach out about breaking changes and security updates.<br>The <code>package.json</code> file is <strong>NOT</strong> accessible when uploaded to a blog so if the theme is only uploaded to a single blog, no one will see this email address.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended."}],"score":{"value":79,"level":"error"},"hasFatalErrors":true},"partials":["loop","navigation"],"helpers":{"helperMissing":["author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","default.hbs","page.hbs","page.hbs","page.hbs","partials/loop.hbs","partials/loop.hbs","partials/navigation.hbs","partials/navigation.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs"],"name":["author.hbs","author.hbs","post.hbs","post.hbs"],"plural":["author.hbs"],"cover":["author.hbs"],"image":["author.hbs","page.hbs","post.hbs","post.hbs"],"bio":["author.hbs","post.hbs"],"location":["author.hbs","post.hbs"],"website":["author.hbs","author.hbs","post.hbs","post.hbs"],"author":["author.hbs","author.hbs","post.hbs","post.hbs"],"blockHelperMissing":["author.hbs","page.hbs","post.hbs","post.hbs"],"meta_title":["default.hbs"],"meta_description":["default.hbs"],"asset":["default.hbs","default.hbs","default.hbs"],"ghost_head":["default.hbs"],"body_class":["default.hbs"],"navigation":["default.hbs"],"body":["default.hbs"],"date":["default.hbs","partials/loop.hbs","partials/loop.hbs","post.hbs","post.hbs"],"ghost_foot":["default.hbs"],"title":["page.hbs","partials/loop.hbs","post.hbs","post.hbs","post.hbs"],"post_class":["page.hbs","partials/loop.hbs","post.hbs"],"content":["page.hbs","post.hbs"],"post":["page.hbs","page.hbs","post.hbs","post.hbs"],"url":["partials/loop.hbs","partials/loop.hbs","partials/navigation.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs"],"excerpt":["partials/loop.hbs"],"foreach":["partials/loop.hbs","partials/navigation.hbs"],"pagination":["partials/loop.hbs"],"slug":["partials/navigation.hbs"],"label":["partials/navigation.hbs"],"encode":["post.hbs"],"prev_post":["post.hbs","post.hbs"],"next_post":["post.hbs","post.hbs"]},"name":"Apparition","version":"1.0.0"},"stack":"ThemeValidationError: Theme is not compatible or contains errors.\n    at ThemeValidationError.GhostError (/home/www/ghost/core/server/errors.js:9:26)\n    at new ThemeValidationError (/home/www/ghost/core/server/errors.js:52:20)\n    at resultHandler (/home/www/ghost/core/server/themes/validate.js:32:31)\n    at tryCatcher (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:510:31)\n    at Promise._settlePromise (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:567:18)\n    at Promise._settlePromise0 (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:612:10)\n    at Promise._settlePromises (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:691:18)\n    at Async._drainQueue (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:138:16)\n    at Async._drainQueues (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:148:10)\n    at Immediate.Async.drainQueues (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:17:14)\n    at runCallback (timers.js:672:20)\n    at tryOnImmediate (timers.js:645:5)\n    at processImmediate [as _immediateCallback] (timers.js:617:5)","errorDetails":[{"fatal":true,"level":"error","rule":"Replace the <code>{{image}}</code> helper with <code>{{img_url feature_image}}</code> or <code>{{img_url profile_image}}</code>","details":"The <code>{{image}}</code> helper was replaced with <code>{{img_url}}</code>.<br>Depending on the context of the <code>{{img_url}}</code> helper you would need to use e. g. <br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{img_url feature_image}}<br>{{/post}}</code><br><br>to render the feature image of the blog post.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and read more about Ghost's usage of contexts <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{image}} from this template"}],"code":"GS001-DEPR-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{cover}}</code> helper with <code>{{cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To render the cover image in author context, you need to use<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To render the cover image of your blog, just use <code>{{@blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{cover}} from this template"}],"code":"GS001-DEPR-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{@blog.cover}}</code> helper with <code>{{@blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{@blog.cover}}</code> you need to use <code>{{@blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"index.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{@blog.cover}} from this template"}],"code":"GS001-DEPR-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{tag.image}}</code> helper with <code>{{tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tag.image}}</code> you need to use <code>{{tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{tag.image}} from this template"}],"code":"GS001-DEPR-TIMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if image}}</code> helper with <code>{{#if feature_image}}</code>, or <code>{{#if profile_image}}</code>","details":"The <code>image</code> attribute was replaced with <code>feature_image</code> and <code>profile_image</code>.<br>Depending on the <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>context</a> you will need to replace it like this:<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/post}}</code><br><br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.<br><br><code>{{#tag}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/tag}}</code><br><br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"error.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{#if image}} from this template"}],"code":"GS001-DEPR-CON-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if cover}}</code> helper with <code>{{#if cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To check for the cover image in author context, you need to use<br><br><code>{{#if cover_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/if}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To check for the cover image of your blog, just use <code>{{#if @blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if cover}} from this template"}],"code":"GS001-DEPR-CON-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if @blog.cover}}</code> helper with <code>{{#if @blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if @blog.cover}}</code> you need to use <code>{{#if @blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"index.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"}],"code":"GS001-DEPR-CON-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if tag.image}}</code> helper with <code>{{#if tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tag.image}}</code> you need to use <code>{{#if tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{#if tag.image}} from this template"}],"code":"GS001-DEPR-CON-TIMG"}]},"msg":"Theme is not compatible or contains errors.","time":"2017-09-29T03:38:13.331Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"9fddcd50-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"31ms"},"msg":"","time":"2017-09-29T03:38:14.598Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a0537280-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"32ms"},"msg":"","time":"2017-09-29T03:38:15.369Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a052d640-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"c2a-f7HgyHUM16iSdGN4Wij37D/hP/0\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"38ms"},"msg":"","time":"2017-09-29T03:38:15.371Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a31bba40-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/upload/","method":"POST","originalUrl":"/ghost/api/v0.1/themes/upload/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"714305","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"multipart/form-data; boundary=----WebKitFormBoundaryUZby1ZCBphx4QVHB","accept":"text/plain, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","content-type":"application/json; charset=utf-8","content-length":"705","etag":"W/\"2c1-TuCvxeDda80jPFqOLMxYycKiHDE\""},"statusCode":200,"responseTime":"176ms"},"msg":"","time":"2017-09-29T03:38:20.182Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a3d76920-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"31ms"},"msg":"","time":"2017-09-29T03:38:21.266Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a4517b20-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"35ms"},"msg":"","time":"2017-09-29T03:38:22.070Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a450b7d0-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"edf-f+cR13K3HAaxK7LDZeKfOisKNL4\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"41ms"},"msg":"","time":"2017-09-29T03:38:22.071Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ac7d27e0-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"28ms"},"msg":"","time":"2017-09-29T03:38:35.771Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ad9352d0-a4c7-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"37ms"},"msg":"","time":"2017-09-29T03:38:37.603Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ad943d30-a4c7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"edf-f+cR13K3HAaxK7LDZeKfOisKNL4\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"37ms"},"msg":"","time":"2017-09-29T03:38:37.609Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":50,"req":{"meta":{"requestId":"acdd7ae0-a4c8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/upload/","method":"POST","originalUrl":"/ghost/api/v0.1/themes/upload/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"7774804","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"multipart/form-data; boundary=----WebKitFormBoundarykLdAeQspxN8BwwX7","accept":"text/plain, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","content-type":"application/json; charset=utf-8","etag":"W/\"17f3e-fznsRGBx8lthVlWzb5URcgvDPLM\"","content-encoding":"gzip"},"statusCode":422,"responseTime":"198ms"},"err":{"id":"acfa78c0-a4c8-11e7-ad29-7b3837c864ae","domain":"http://47.95.197.107:2368","code":null,"name":"ThemeValidationError","statusCode":422,"level":"normal","message":"Theme is not compatible or contains errors.","context":{"path":"/tmp/58d8f6e9-dbae-4a65-baf2-a09d9232a5cd/openwriter-master","files":[{"file":".gitignore","ext":".gitignore"},{"file":"README.md","ext":".md"},{"file":"assets/css/style.css","ext":".css"},{"file":"assets/images/cover.jpg","ext":".jpg"},{"file":"assets/js/script.js","ext":".js"},{"file":"author.hbs","ext":".hbs","content":"{{!< default}}\n\n{{#author}}\n<header id=\"homepage-hero\"\n\t{{#if cover}}\n\tstyle=\"background-image: url({{cover}});\"\n\t{{else}}\n\t\t{{#if @blog.cover}}\n\t\tstyle=\"background-image: url({{@blog.cover}});\"\n\t\t{{else}}\n\t\tstyle=\"background-image: url('{{asset \"images/cover.jpg\"}}');\"\n\t\t{{/if}}\n\t{{/if}}\n>\n\t<div class=\"title-container\">\n\n\t\t<h1 class=\"blog-title\">{{name}}</h1>\n\t\t<p class=\"blog-description\">{{bio}}</p>\n\n\t\t<ul class=\"homepage-links\">\n\t\t\t<li><a href=\"#home-latest-post\" id=\"blog\">My Posts</a></li>\n\n\t\t\t{{#if location}}\n\t\t\t<li><a href=\"https://www.google.com/maps?hl=en&q={{location}}\" target=\"_blank\">{{location}}</a></li>\n\t\t\t{{/if}}\n\n\t\t\t{{#if website}}\n\t\t\t<li><a href=\"{{website}}\" target=\"_blank\">Website</a></li>\n\t\t\t{{/if}}\n\n\t\t\t<li><a href=\"{{@blog.url}}\">Home</a></li>\n\t\t</ul>\n\t</div>\n\n</header>\n{{/author}}\n\n<main id=\"home-latest-post\">\n\t{{#foreach posts}}\n\t\t{{> excerpt}}\n\t{{/foreach}}\n\n\t{{pagination}}\n</main>","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<header id=\\\"homepage-hero\\\"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.cover : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \">\\n\t<div class=\\\"title-container\\\">\\n\\n\t\t<h1 class=\\\"blog-title\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n\t\t<p class=\\\"blog-description\\\">\"\n    + alias4(((helper = (helper = helpers.bio || (depth0 != null ? depth0.bio : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"bio\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</p>\\n\\n\t\t<ul class=\\\"homepage-links\\\">\\n\t\t\t<li><a href=\\\"#home-latest-post\\\" id=\\\"blog\\\">My Posts</a></li>\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.location : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(9, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.website : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(11, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\t\t\t<li><a href=\\\"\"\n    + alias4(container.lambda(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\">Home</a></li>\\n\t\t</ul>\\n\t</div>\\n\\n</header>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\tstyle=\\\"background-image: url(\"\n    + container.escapeExpression(((helper = (helper = helpers.cover || (depth0 != null ? depth0.cover : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"cover\",\"hash\":{},\"data\":data}) : helper)))\n    + \");\\\"\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers[\"if\"].call(depth0 != null ? depth0 : {},((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.program(7, data, 0),\"data\":data})) != null ? stack1 : \"\");\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\t\tstyle=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \");\\\"\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    return \"\t\tstyle=\\\"background-image: url('\"\n    + container.escapeExpression((helpers.asset || (depth0 && depth0.asset) || helpers.helperMissing).call(depth0 != null ? depth0 : {},\"images/cover.jpg\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"');\\\"\\n\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\t\t\t<li><a href=\\\"https://www.google.com/maps?hl=en&q=\"\n    + alias4(((helper = (helper = helpers.location || (depth0 != null ? depth0.location : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"location\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" target=\\\"_blank\\\">\"\n    + alias4(((helper = (helper = helpers.location || (depth0 != null ? depth0.location : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"location\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></li>\\n\";\n},\"11\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\t\t\t<li><a href=\\\"\"\n    + container.escapeExpression(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" target=\\\"_blank\\\">Website</a></li>\\n\";\n},\"13\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(partials.excerpt,depth0,{\"name\":\"excerpt\",\"data\":data,\"indent\":\"\\t\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", buffer = \n  \"\\n\";\n  stack1 = ((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : alias2),(options={\"name\":\"author\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === alias3 ? helper.call(alias1,options) : helper));\n  if (!helpers.author) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"\\n<main id=\\\"home-latest-post\\\">\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || alias2).call(alias1,(depth0 != null ? depth0.posts : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(13, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\t\"\n    + container.escapeExpression(((helper = (helper = helpers.pagination || (depth0 != null ? depth0.pagination : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"pagination\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n</main>\";\n},\"usePartial\":true,\"useData\":true}"},{"file":"default.hbs","ext":".hbs","content":"<!doctype html>\n<html lang=\"en\">\n<head>\n\t<meta charset=\"utf-8\">\n\t<title>{{meta_title}}</title>\n\n    <meta name=\"description\" content=\"{{meta_description}}\" />\n\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\t\n\t<link rel=\"stylesheet\" href=\"//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css\">\n\t<link rel=\"stylesheet\" href=\"{{asset \"css/style.css\"}}\">\n\n\t{{ghost_head}}\n</head>\n<body class=\"{{body_class}}\">\n\n\t{{{body}}}\n\n\t<footer>\n\t\t<small>\n\t\t\t&copy; {{date format=\"YYYY\"}} {{@blog.title}} on <a href=\"https://ghost.org/\">Ghost</a> with <a href=\"https://github.com/ireade/openwriter\" target=\"_blank\">OpenWriter</a>\n\t\t</small>\n\t</footer>\n\n\t{{ghost_foot}}\n\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js\"></script>\n    <script src=\"{{asset \"js/script.js\"}}\"></script>\n</body>\n</html>\n","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<!doctype html>\\n<html lang=\\\"en\\\">\\n<head>\\n\t<meta charset=\\\"utf-8\\\">\\n\t<title>\"\n    + alias4(((helper = (helper = helpers.meta_title || (depth0 != null ? depth0.meta_title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"meta_title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</title>\\n\\n    <meta name=\\\"description\\\" content=\\\"\"\n    + alias4(((helper = (helper = helpers.meta_description || (depth0 != null ? depth0.meta_description : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"meta_description\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" />\\n\t<meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1\\\">\\n\t\\n\t<link rel=\\\"stylesheet\\\" href=\\\"//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css\\\">\\n\t<link rel=\\\"stylesheet\\\" href=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"css/style.css\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\">\\n\\n\t\"\n    + alias4(((helper = (helper = helpers.ghost_head || (depth0 != null ? depth0.ghost_head : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"ghost_head\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n</head>\\n<body class=\\\"\"\n    + alias4(((helper = (helper = helpers.body_class || (depth0 != null ? depth0.body_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"body_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\\n\t\"\n    + ((stack1 = ((helper = (helper = helpers.body || (depth0 != null ? depth0.body : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"body\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"\\n\\n\t<footer>\\n\t\t<small>\\n\t\t\t&copy; \"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"YYYY\"},\"data\":data}))\n    + \" \"\n    + alias4(container.lambda(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \" on <a href=\\\"https://ghost.org/\\\">Ghost</a> with <a href=\\\"https://github.com/ireade/openwriter\\\" target=\\\"_blank\\\">OpenWriter</a>\\n\t\t</small>\\n\t</footer>\\n\\n\t\"\n    + alias4(((helper = (helper = helpers.ghost_foot || (depth0 != null ? depth0.ghost_foot : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"ghost_foot\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\\n    <script src=\\\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js\\\"></script>\\n    <script src=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"js/script.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n</body>\\n</html>\\n\";\n},\"useData\":true}"},{"file":"error.hbs","ext":".hbs","content":"<!doctype html>\n<html lang=\"en\">\n<head>\n\t<meta charset=\"utf-8\">\n\t<title>Oops!</title>\n\t\n\t<meta name=\"description\" content=\"{{meta_description}}\" />\n\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\n\t<link rel=\"stylesheet\" href=\"//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css\">\n\t<link rel=\"stylesheet\" href=\"{{asset \"css/style.css\"}}\">\n\n\t{{ghost_head}}\n</head>\n<body class=\"{{body_class}}\">\n\n<header id=\"homepage-hero\"\n\t{{#if @blog.cover}}\n\tstyle=\"background-image: url({{@blog.cover}});\"\n\t{{else}}\n\tstyle=\"background-image: url('{{asset \"images/cover.jpg\"}}');\"\n\t{{/if}}\n>\n\t<div class=\"title-container\">\n\t\t<h1 class=\"blog-title\">Uh Oh!</h1>\n\t\t<p class=\"blog-description\">There seems to be a problem, we can't find what you are looking for.</p>\n\t\t\n\t\t<ul class=\"homepage-links\">\n\t\t\t<li><a href=\"{{@blog.url}}\">Go Back Home</a></li>\n\t\t</ul>\n\t</div>\n</header>\n\t{{ghost_foot}}\n</body>\n</html>","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\tstyle=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \");\\\"\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"\tstyle=\\\"background-image: url('\"\n    + container.escapeExpression((helpers.asset || (depth0 && depth0.asset) || helpers.helperMissing).call(depth0 != null ? depth0 : {},\"images/cover.jpg\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"');\\\"\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<!doctype html>\\n<html lang=\\\"en\\\">\\n<head>\\n\t<meta charset=\\\"utf-8\\\">\\n\t<title>Oops!</title>\\n\t\\n\t<meta name=\\\"description\\\" content=\\\"\"\n    + alias4(((helper = (helper = helpers.meta_description || (depth0 != null ? depth0.meta_description : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"meta_description\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" />\\n\t<meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1\\\">\\n\\n\t<link rel=\\\"stylesheet\\\" href=\\\"//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css\\\">\\n\t<link rel=\\\"stylesheet\\\" href=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"css/style.css\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\">\\n\\n\t\"\n    + alias4(((helper = (helper = helpers.ghost_head || (depth0 != null ? depth0.ghost_head : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"ghost_head\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n</head>\\n<body class=\\\"\"\n    + alias4(((helper = (helper = helpers.body_class || (depth0 != null ? depth0.body_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"body_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\\n<header id=\\\"homepage-hero\\\"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \">\\n\t<div class=\\\"title-container\\\">\\n\t\t<h1 class=\\\"blog-title\\\">Uh Oh!</h1>\\n\t\t<p class=\\\"blog-description\\\">There seems to be a problem, we can't find what you are looking for.</p>\\n\t\t\\n\t\t<ul class=\\\"homepage-links\\\">\\n\t\t\t<li><a href=\\\"\"\n    + alias4(container.lambda(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\">Go Back Home</a></li>\\n\t\t</ul>\\n\t</div>\\n</header>\\n\t\"\n    + alias4(((helper = (helper = helpers.ghost_foot || (depth0 != null ? depth0.ghost_foot : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"ghost_foot\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n</body>\\n</html>\";\n},\"useData\":true}"},{"file":"home.hbs","ext":".hbs","content":"{{!< default}}\n\n<header id=\"homepage-hero\" \n\t{{#if @blog.cover}}\n\tstyle=\"background-image: url({{@blog.cover}});\"\n\t{{else}}\n\tstyle=\"background-image: url('{{asset \"images/cover.jpg\"}}');\"\n\t{{/if}}\n>\n\n\t<div class=\"title-container\">\n\t\t<h1 class=\"blog-title\">{{@blog.title}}</h1>\n\t\t<p class=\"blog-description\">{{@blog.description}}</p>\n\t\t\n\t\t<ul class=\"homepage-links\">\n\t\t\t<li><a href=\"#home-latest-post\" id=\"blog\">Blog</a></li>\n\t\t\t{{navigation}}\n\t\t</ul>\n\t</div>\n\n</header>\n\n<main id=\"home-latest-post\">\n\t{{#foreach posts}}\n\t\t{{> excerpt}}\n\t{{/foreach}}\n\n\t{{pagination}}\n</main>","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\tstyle=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \");\\\"\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"\tstyle=\\\"background-image: url('\"\n    + container.escapeExpression((helpers.asset || (depth0 && depth0.asset) || helpers.helperMissing).call(depth0 != null ? depth0 : {},\"images/cover.jpg\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"');\\\"\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(partials.excerpt,depth0,{\"name\":\"excerpt\",\"data\":data,\"indent\":\"\\t\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=container.lambda, alias3=container.escapeExpression, alias4=helpers.helperMissing, alias5=\"function\";\n\n  return \"\\n<header id=\\\"homepage-hero\\\" \\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \">\\n\\n\t<div class=\\\"title-container\\\">\\n\t\t<h1 class=\\\"blog-title\\\">\"\n    + alias3(alias2(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"</h1>\\n\t\t<p class=\\\"blog-description\\\">\"\n    + alias3(alias2(((stack1 = (data && data.blog)) && stack1.description), depth0))\n    + \"</p>\\n\t\t\\n\t\t<ul class=\\\"homepage-links\\\">\\n\t\t\t<li><a href=\\\"#home-latest-post\\\" id=\\\"blog\\\">Blog</a></li>\\n\t\t\t\"\n    + alias3(((helper = (helper = helpers.navigation || (depth0 != null ? depth0.navigation : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"navigation\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\t\t</ul>\\n\t</div>\\n\\n</header>\\n\\n<main id=\\\"home-latest-post\\\">\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || alias4).call(alias1,(depth0 != null ? depth0.posts : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\t\"\n    + alias3(((helper = (helper = helpers.pagination || (depth0 != null ? depth0.pagination : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"pagination\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n</main>\";\n},\"usePartial\":true,\"useData\":true}"},{"file":"index.hbs","ext":".hbs","content":"{{!< default}}\n\n<header class=\"regular blogrollpage\" \n\t{{#if @blog.cover}}\n\tstyle=\"background-image: url({{@blog.cover}});\"\n\t{{else}}\n\tstyle=\"background-image: url('{{asset \"images/cover.jpg\"}}');\"\n\t{{/if}}\n>\n\t{{> nav-container}}\n\n\t<div class=\"title-container\">\n\t\t<h1 class=\"blogrollpage-title\">Latest Blog Posts</h1>\n\t</div>\n</header>\n\n<main>\n\t{{#foreach posts}}\n\t\t{{> excerpt}}\n\t{{/foreach}}\n\n\t{{pagination}}\n</main>","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\tstyle=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \");\\\"\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"\tstyle=\\\"background-image: url('\"\n    + container.escapeExpression((helpers.asset || (depth0 && depth0.asset) || helpers.helperMissing).call(depth0 != null ? depth0 : {},\"images/cover.jpg\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"');\\\"\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(partials.excerpt,depth0,{\"name\":\"excerpt\",\"data\":data,\"indent\":\"\\t\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing;\n\n  return \"\\n<header class=\\\"regular blogrollpage\\\" \\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \">\\n\"\n    + ((stack1 = container.invokePartial(partials[\"nav-container\"],depth0,{\"name\":\"nav-container\",\"data\":data,\"indent\":\"\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n\t<div class=\\\"title-container\\\">\\n\t\t<h1 class=\\\"blogrollpage-title\\\">Latest Blog Posts</h1>\\n\t</div>\\n</header>\\n\\n<main>\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || alias2).call(alias1,(depth0 != null ? depth0.posts : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\t\"\n    + container.escapeExpression(((helper = (helper = helpers.pagination || (depth0 != null ? depth0.pagination : depth0)) != null ? helper : alias2),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"pagination\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n</main>\";\n},\"usePartial\":true,\"useData\":true}"},{"file":"package.json","ext":".json"},{"file":"page-contact.hbs","ext":".hbs","content":"{{!< default}}\n{{#post}}\n<header class=\"regular post\" \n\t{{#if image}}\n\tstyle=\"background-image: url({{image}});\"\n\t{{else}}\n\t\t{{#if @blog.cover}}\n\t\tstyle=\"background-image: url({{@blog.cover}});\"\n\t\t{{else}}\n\t\tstyle=\"background-image: url('{{asset \"images/cover.jpg\"}}');\"\n\t\t{{/if}}\n\t{{/if}}\n>\n\t{{> nav-container}}\n\n\t<div class=\"title-container\">\n\t\t<h1 class=\"post-title\">{{title}}</h1>\n\t</div>\n</header>\n\n<main>\n\t<div class=\"post-content\">{{content}}</div>\n\t\n\t{{> contact}}\n\n</main>\n{{/post}}","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<header class=\\\"regular post\\\" \\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \">\\n\"\n    + ((stack1 = container.invokePartial(partials[\"nav-container\"],depth0,{\"name\":\"nav-container\",\"data\":data,\"indent\":\"\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n\t<div class=\\\"title-container\\\">\\n\t\t<h1 class=\\\"post-title\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n\t</div>\\n</header>\\n\\n<main>\\n\t<div class=\\\"post-content\\\">\"\n    + alias4(((helper = (helper = helpers.content || (depth0 != null ? depth0.content : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"content\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</div>\\n\t\\n\"\n    + ((stack1 = container.invokePartial(partials.contact,depth0,{\"name\":\"contact\",\"data\":data,\"indent\":\"\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n</main>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\tstyle=\\\"background-image: url(\"\n    + container.escapeExpression(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \");\\\"\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers[\"if\"].call(depth0 != null ? depth0 : {},((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.program(7, data, 0),\"data\":data})) != null ? stack1 : \"\");\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\t\tstyle=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \");\\\"\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    return \"\t\tstyle=\\\"background-image: url('\"\n    + container.escapeExpression((helpers.asset || (depth0 && depth0.asset) || helpers.helperMissing).call(depth0 != null ? depth0 : {},\"images/cover.jpg\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"');\\\"\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, buffer = \"\";\n\n  stack1 = ((helper = (helper = helpers.post || (depth0 != null ? depth0.post : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"post\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.post) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"usePartial\":true,\"useData\":true}"},{"file":"page.hbs","ext":".hbs","content":"{{!< default}}\n{{#post}}\n<header class=\"regular post\" \n\t{{#if image}}\n\tstyle=\"background-image: url({{image}});\"\n\t{{else}}\n\t\t{{#if @blog.cover}}\n\t\tstyle=\"background-image: url({{@blog.cover}});\"\n\t\t{{else}}\n\t\tstyle=\"background-image: url('{{asset \"images/cover.jpg\"}}');\"\n\t\t{{/if}}\n\t{{/if}}\n>\n\t{{> nav-container}}\n\n\t<div class=\"title-container\">\n\t\t<h1 class=\"post-title\">{{title}}</h1>\n\t</div>\n</header>\n\n<main>\n\t<div class=\"post-content\">{{content}}</div>\n</main>\n{{/post}}","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<header class=\\\"regular post\\\" \\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \">\\n\"\n    + ((stack1 = container.invokePartial(partials[\"nav-container\"],depth0,{\"name\":\"nav-container\",\"data\":data,\"indent\":\"\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n\t<div class=\\\"title-container\\\">\\n\t\t<h1 class=\\\"post-title\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n\t</div>\\n</header>\\n\\n<main>\\n\t<div class=\\\"post-content\\\">\"\n    + alias4(((helper = (helper = helpers.content || (depth0 != null ? depth0.content : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"content\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</div>\\n</main>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\tstyle=\\\"background-image: url(\"\n    + container.escapeExpression(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \");\\\"\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers[\"if\"].call(depth0 != null ? depth0 : {},((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.program(7, data, 0),\"data\":data})) != null ? stack1 : \"\");\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\t\tstyle=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \");\\\"\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    return \"\t\tstyle=\\\"background-image: url('\"\n    + container.escapeExpression((helpers.asset || (depth0 && depth0.asset) || helpers.helperMissing).call(depth0 != null ? depth0 : {},\"images/cover.jpg\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"');\\\"\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, buffer = \"\";\n\n  stack1 = ((helper = (helper = helpers.post || (depth0 != null ? depth0.post : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"post\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.post) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"usePartial\":true,\"useData\":true}"},{"file":"partials/contact.hbs","ext":".hbs","content":"<!-- Replace \"your@email.com\" with your personal email -->\n<form action=\"//formspree.io/your@email.com\" method=\"POST\" id=\"contactform\">\n\t\n\t<!-- DO NOT EDIT BELOW THIS LINE -->\n\t<input type=\"hidden\" name=\"_subject\" value=\"Contact Form Submission From {{@blog.title}}\" />\n\t\n\t<label for=\"name\">Full Name</label>\n\t<input type=\"text\" name=\"name\"></input>\n\n\t<label for=\"_replyto\">Email Address</label>\n\t<input type=\"text\" name=\"_replyto\"></input>\n\n\t<label for=\"message\">Message</label>\n\t<textarea name=\"message\" id=\"\" cols=\"30\" rows=\"3\"></textarea>\n\n\t<input type=\"submit\" value=\"Submit\" class=\"button blue\"></input>\n</form>","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<!-- Replace \\\"your@email.com\\\" with your personal email -->\\n<form action=\\\"//formspree.io/your@email.com\\\" method=\\\"POST\\\" id=\\\"contactform\\\">\\n\t\\n\t<!-- DO NOT EDIT BELOW THIS LINE -->\\n\t<input type=\\\"hidden\\\" name=\\\"_subject\\\" value=\\\"Contact Form Submission From \"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"\\\" />\\n\t\\n\t<label for=\\\"name\\\">Full Name</label>\\n\t<input type=\\\"text\\\" name=\\\"name\\\"></input>\\n\\n\t<label for=\\\"_replyto\\\">Email Address</label>\\n\t<input type=\\\"text\\\" name=\\\"_replyto\\\"></input>\\n\\n\t<label for=\\\"message\\\">Message</label>\\n\t<textarea name=\\\"message\\\" id=\\\"\\\" cols=\\\"30\\\" rows=\\\"3\\\"></textarea>\\n\\n\t<input type=\\\"submit\\\" value=\\\"Submit\\\" class=\\\"button blue\\\"></input>\\n</form>\";\n},\"useData\":true}"},{"file":"partials/excerpt.hbs","ext":".hbs","content":"<div class=\"post-excerpt\">\n\t<hgroup>\n\t\t<h2 class=\"excerpt-title\"><a href=\"{{url}}\">{{{title}}}</a></h2>\n\t\t<h3 class=\"excerpt-meta\">Posted on <time class=\"post-date\" datetime=\"{{date format='YYYY-MM-DD'}}\">{{date format=\"D MMMM YYYY\"}}</time> <span class=\"author\">by {{author}}</span></h3>\n\t</hgroup>\n\t<div class=\"excerpt-content\">\n\t\t{{excerpt words=\"80\"}}...\n\t</div>\n\t<a href=\"{{url}}\"><div class=\"btn read-more\">Continue Reading</div></a>\n</div>","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<div class=\\\"post-excerpt\\\">\\n\t<hgroup>\\n\t\t<h2 class=\\\"excerpt-title\\\"><a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + ((stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"</a></h2>\\n\t\t<h3 class=\\\"excerpt-meta\\\">Posted on <time class=\\\"post-date\\\" datetime=\\\"\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"YYYY-MM-DD\"},\"data\":data}))\n    + \"\\\">\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"D MMMM YYYY\"},\"data\":data}))\n    + \"</time> <span class=\\\"author\\\">by \"\n    + alias4(((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"author\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span></h3>\\n\t</hgroup>\\n\t<div class=\\\"excerpt-content\\\">\\n\t\t\"\n    + alias4((helpers.excerpt || (depth0 && depth0.excerpt) || alias2).call(alias1,{\"name\":\"excerpt\",\"hash\":{\"words\":\"80\"},\"data\":data}))\n    + \"...\\n\t</div>\\n\t<a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\"><div class=\\\"btn read-more\\\">Continue Reading</div></a>\\n</div>\";\n},\"useData\":true}"},{"file":"partials/nav-container.hbs","ext":".hbs","content":"<nav>\n\t<div class=\"brand\">\n\t\t<a href=\"{{@blog.url}}\">\n\t\t{{#if @blog.logo}}\n\t\t<img src=\"{{@blog.logo}}\" alt=\"{{@blog.title}} Logo\">\n\t\t{{else}}\n\t\t{{@blog.title}}\n\t\t{{/if}}\n\t\t</a>\n\t</div>\n\t\n\t{{#if @blog.navigation}}\n\t<ul class=\"navigation\">\n\t\t{{navigation}}\n\t\t<li id=\"show-nav\"> <a href=\"#\"> <i class=\"fa fa-bars\"></i> </a></li>\n\t</ul>\n\t{{/if}}\n</nav>\n\n{{#if @blog.navigation}}\n<div id=\"hidden-nav\">\n<ul>\n\t{{navigation}}\n\t<li><a href=\"#\" id=\"hide-nav\">X</a></li>\n</ul>\n</div>\n{{/if}}","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"\t\t<img src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \" Logo\\\">\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\t\t\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\t<ul class=\\\"navigation\\\">\\n\t\t\"\n    + container.escapeExpression(((helper = (helper = helpers.navigation || (depth0 != null ? depth0.navigation : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"navigation\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\t\t<li id=\\\"show-nav\\\"> <a href=\\\"#\\\"> <i class=\\\"fa fa-bars\\\"></i> </a></li>\\n\t</ul>\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div id=\\\"hidden-nav\\\">\\n<ul>\\n\t\"\n    + container.escapeExpression(((helper = (helper = helpers.navigation || (depth0 != null ? depth0.navigation : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"navigation\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\t<li><a href=\\\"#\\\" id=\\\"hide-nav\\\">X</a></li>\\n</ul>\\n</div>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : {};\n\n  return \"<nav>\\n\t<div class=\\\"brand\\\">\\n\t\t<a href=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\t\t</a>\\n\t</div>\\n\t\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.navigation),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"</nav>\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.navigation),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"useData\":true}"},{"file":"partials/navigation.hbs","ext":".hbs","content":"{{#foreach navigation}}\n    <li><a href=\"{{url absolute=\"true\"}}\">{{label}}</a></li>\n{{/foreach}}","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=container.escapeExpression;\n\n  return \"    <li><a href=\\\"\"\n    + alias3((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\">\"\n    + alias3(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : alias2),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"label\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></li>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.navigation : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"useData\":true}"},{"file":"partials/pagination.hbs","ext":".hbs","content":"<div class=\"pagination\" role=\"navigation\">\n\t<small>\n    {{#if prev}}\n        <a class=\"newer-posts\" href=\"{{page_url prev}}\">&larr; Newer Posts</a>\n    {{/if}}\n    <span class=\"page-number\">Page {{page}} of {{pages}}</span>\n    {{#if next}}\n        <a class=\"older-posts\" href=\"{{page_url next}}\">Older Posts &rarr;</a>\n    {{/if}}\n    </small>\n</div>","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    return \"        <a class=\\\"newer-posts\\\" href=\\\"\"\n    + container.escapeExpression((helpers.page_url || (depth0 && depth0.page_url) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.prev : depth0),{\"name\":\"page_url\",\"hash\":{},\"data\":data}))\n    + \"\\\">&larr; Newer Posts</a>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"        <a class=\\\"older-posts\\\" href=\\\"\"\n    + container.escapeExpression((helpers.page_url || (depth0 && depth0.page_url) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.next : depth0),{\"name\":\"page_url\",\"hash\":{},\"data\":data}))\n    + \"\\\">Older Posts &rarr;</a>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<div class=\\\"pagination\\\" role=\\\"navigation\\\">\\n\t<small>\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.prev : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"    <span class=\\\"page-number\\\">Page \"\n    + alias4(((helper = (helper = helpers.page || (depth0 != null ? depth0.page : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"page\",\"hash\":{},\"data\":data}) : helper)))\n    + \" of \"\n    + alias4(((helper = (helper = helpers.pages || (depth0 != null ? depth0.pages : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"pages\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span>\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.next : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"    </small>\\n</div>\";\n},\"useData\":true}"},{"file":"post.hbs","ext":".hbs","content":"{{!< default}}\n{{#post}}\n<header class=\"regular post\" \n\t{{#if image}}\n\tstyle=\"background-image: url({{image}});\"\n\t{{else}}\n\t\t{{#if @blog.cover}}\n\t\tstyle=\"background-image: url({{@blog.cover}});\"\n\t\t{{else}}\n\t\tstyle=\"background-image: url('{{asset \"images/cover.jpg\"}}');\"\n\t\t{{/if}}\n\t{{/if}}\n>\n\t{{> nav-container}}\n\n\t<div class=\"title-container\">\n\t\t<h1 class=\"post-title\">{{title}}</h1>\n\t\t<h3 class=\"post-meta\">Posted on <time class=\"post-date\" datetime=\"{{date format='YYYY-MM-DD'}}\">{{date format=\"D MMMM YYYY\"}}</time> by {{author}}</h3>\n\n\t\t{{#if tags}}\n\t\t<div class=\"tags\">\n\t\t\t{{tags}}\n\t\t</div>\n\t\t{{/if}}\n\t</div>\n</header>\n\n<main>\n\t<div class=\"post-content\">{{content}}</div>\n\n\t<div class=\"post-footer\">\n\n\t\t<div class=\"share\">\n\t\t\t<a class=\"icon-twitter\" href=\"https://twitter.com/share?text={{encode title}}&amp;url={{url absolute=\"true\"}}\" onclick=\"window.open(this.href, 'twitter-share', 'width=550,height=235');return false;\">\n                <i class=\"fa fa-twitter\"></i>\n            </a>\n            <a class=\"icon-facebook\" href=\"https://www.facebook.com/sharer/sharer.php?u={{url absolute=\"true\"}}\" onclick=\"window.open(this.href, 'facebook-share','width=580,height=296');return false;\">\n                <i class=\"fa fa-facebook\"></i>\n            </a>\n            <a class=\"icon-google-plus\" href=\"https://plus.google.com/share?url={{url absolute=\"true\"}}\" onclick=\"window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;\">\n                <i class=\"fa fa-google-plus\"></i>\n            </a>\n\t\t</div>\n\n\n\t\t\n\t</div>\n\n\t{{#prev_post}}\n\t<div class=\"more-post\">\n\t\t    {{> excerpt}}\n\t</div>\n\t{{else}}\n\t{{/prev_post}}\n\n\n</main>\n{{/post}}","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression, buffer = \n  \"<header class=\\\"regular post\\\" \\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \">\\n\"\n    + ((stack1 = container.invokePartial(partials[\"nav-container\"],depth0,{\"name\":\"nav-container\",\"data\":data,\"indent\":\"\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n\t<div class=\\\"title-container\\\">\\n\t\t<h1 class=\\\"post-title\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n\t\t<h3 class=\\\"post-meta\\\">Posted on <time class=\\\"post-date\\\" datetime=\\\"\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"YYYY-MM-DD\"},\"data\":data}))\n    + \"\\\">\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"D MMMM YYYY\"},\"data\":data}))\n    + \"</time> by \"\n    + alias4(((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"author\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h3>\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.tags : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(9, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\t</div>\\n</header>\\n\\n<main>\\n\t<div class=\\\"post-content\\\">\"\n    + alias4(((helper = (helper = helpers.content || (depth0 != null ? depth0.content : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"content\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</div>\\n\\n\t<div class=\\\"post-footer\\\">\\n\\n\t\t<div class=\\\"share\\\">\\n\t\t\t<a class=\\\"icon-twitter\\\" href=\\\"https://twitter.com/share?text=\"\n    + alias4((helpers.encode || (depth0 && depth0.encode) || alias2).call(alias1,(depth0 != null ? depth0.title : depth0),{\"name\":\"encode\",\"hash\":{},\"data\":data}))\n    + \"&amp;url=\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\" onclick=\\\"window.open(this.href, 'twitter-share', 'width=550,height=235');return false;\\\">\\n                <i class=\\\"fa fa-twitter\\\"></i>\\n            </a>\\n            <a class=\\\"icon-facebook\\\" href=\\\"https://www.facebook.com/sharer/sharer.php?u=\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\" onclick=\\\"window.open(this.href, 'facebook-share','width=580,height=296');return false;\\\">\\n                <i class=\\\"fa fa-facebook\\\"></i>\\n            </a>\\n            <a class=\\\"icon-google-plus\\\" href=\\\"https://plus.google.com/share?url=\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\" onclick=\\\"window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;\\\">\\n                <i class=\\\"fa fa-google-plus\\\"></i>\\n            </a>\\n\t\t</div>\\n\\n\\n\t\t\\n\t</div>\\n\\n\";\n  stack1 = ((helper = (helper = helpers.prev_post || (depth0 != null ? depth0.prev_post : depth0)) != null ? helper : alias2),(options={\"name\":\"prev_post\",\"hash\":{},\"fn\":container.program(11, data, 0),\"inverse\":container.program(13, data, 0),\"data\":data}),(typeof helper === alias3 ? helper.call(alias1,options) : helper));\n  if (!helpers.prev_post) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"\\n\\n</main>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\tstyle=\\\"background-image: url(\"\n    + container.escapeExpression(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \");\\\"\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers[\"if\"].call(depth0 != null ? depth0 : {},((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.program(7, data, 0),\"data\":data})) != null ? stack1 : \"\");\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\t\tstyle=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \");\\\"\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    return \"\t\tstyle=\\\"background-image: url('\"\n    + container.escapeExpression((helpers.asset || (depth0 && depth0.asset) || helpers.helperMissing).call(depth0 != null ? depth0 : {},\"images/cover.jpg\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"');\\\"\\n\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\t\t<div class=\\\"tags\\\">\\n\t\t\t\"\n    + container.escapeExpression(((helper = (helper = helpers.tags || (depth0 != null ? depth0.tags : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"tags\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\t\t</div>\\n\";\n},\"11\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\t<div class=\\\"more-post\\\">\\n\"\n    + ((stack1 = container.invokePartial(partials.excerpt,depth0,{\"name\":\"excerpt\",\"data\":data,\"indent\":\"\\t\\t    \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\t</div>\\n\";\n},\"13\":function(container,depth0,helpers,partials,data) {\n    return \"\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, buffer = \"\";\n\n  stack1 = ((helper = (helper = helpers.post || (depth0 != null ? depth0.post : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"post\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.post) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"usePartial\":true,\"useData\":true}"},{"file":"private.hbs","ext":".hbs","content":"{{!< default}}\n\n<header id=\"homepage-hero\" \n\t{{#if @blog.cover}}\n\tstyle=\"background-image: url({{@blog.cover}});\"\n\t{{else}}\n\tstyle=\"background-image: url('{{asset \"images/cover.jpg\"}}');\"\n\t{{/if}}\n>\n\n\t<div class=\"title-container\">\n\t\t<h1 class=\"blog-title\">{{@blog.title}}</h1>\n\t\t<p class=\"blog-description\">{{@blog.description}}</p>\n\t\t\n\t\t{{#if error}}\n\t\t   <span class=\"error-message\">{{error.message}}</span>\n\t\t{{/if}}\n\t\t<form method=\"post\">\n\t\t  <label for=\"\">Password</label>\n\t\t  {{input_password}}\n\t\t  <input type=\"submit\" />\n\t\t</form>\n\t</div>\n\n</header>","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\tstyle=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \");\\\"\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"\tstyle=\\\"background-image: url('\"\n    + container.escapeExpression((helpers.asset || (depth0 && depth0.asset) || helpers.helperMissing).call(depth0 != null ? depth0 : {},\"images/cover.jpg\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"');\\\"\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\t\t   <span class=\\\"error-message\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.error : depth0)) != null ? stack1.message : stack1), depth0))\n    + \"</span>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=container.lambda, alias3=container.escapeExpression;\n\n  return \"\\n<header id=\\\"homepage-hero\\\" \\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \">\\n\\n\t<div class=\\\"title-container\\\">\\n\t\t<h1 class=\\\"blog-title\\\">\"\n    + alias3(alias2(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"</h1>\\n\t\t<p class=\\\"blog-description\\\">\"\n    + alias3(alias2(((stack1 = (data && data.blog)) && stack1.description), depth0))\n    + \"</p>\\n\t\t\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.error : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\t\t<form method=\\\"post\\\">\\n\t\t  <label for=\\\"\\\">Password</label>\\n\t\t  \"\n    + alias3(((helper = (helper = helpers.input_password || (depth0 != null ? depth0.input_password : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"input_password\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\t\t  <input type=\\\"submit\\\" />\\n\t\t</form>\\n\t</div>\\n\\n</header>\";\n},\"useData\":true}"},{"file":"screenshot1.png","ext":".png"},{"file":"screenshot2.png","ext":".png"},{"file":"tag.hbs","ext":".hbs","content":"{{!< default}}\n\n<header class=\"regular blogrollpage\" \n\t{{#if @blog.cover}}\n\tstyle=\"background-image: url({{@blog.cover}});\"\n\t{{else}}\n\tstyle=\"background-image: url('{{asset \"images/cover.jpg\"}}');\"\n\t{{/if}}\n>\n\t{{> nav-container}}\n\n\t<div class=\"title-container\">\n\t\t<h1 class=\"blogrollpage-title\">{{tag.name}}</h1>\n\t\t<h3 class=\"post-meta\">\n\t\t\t{{#if tag.description}}\n                {{tag.description}}\n            {{else}}\n                A collection of posts\n            {{/if}}\n\t\t</h3>\n\t</div>\n</header>\n\n<main>\n\t{{#foreach posts}}\n\t\t{{> excerpt}}\n\t{{/foreach}}\n\n\t{{pagination}}\n</main>","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\tstyle=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \");\\\"\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"\tstyle=\\\"background-image: url('\"\n    + container.escapeExpression((helpers.asset || (depth0 && depth0.asset) || helpers.helperMissing).call(depth0 != null ? depth0 : {},\"images/cover.jpg\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"');\\\"\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"                \"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.description : stack1), depth0))\n    + \"\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    return \"                A collection of posts\\n\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(partials.excerpt,depth0,{\"name\":\"excerpt\",\"data\":data,\"indent\":\"\\t\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=container.escapeExpression, alias3=helpers.helperMissing;\n\n  return \"\\n<header class=\\\"regular blogrollpage\\\" \\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \">\\n\"\n    + ((stack1 = container.invokePartial(partials[\"nav-container\"],depth0,{\"name\":\"nav-container\",\"data\":data,\"indent\":\"\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n\t<div class=\\\"title-container\\\">\\n\t\t<h1 class=\\\"blogrollpage-title\\\">\"\n    + alias2(container.lambda(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.name : stack1), depth0))\n    + \"</h1>\\n\t\t<h3 class=\\\"post-meta\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.description : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.program(7, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\t\t</h3>\\n\t</div>\\n</header>\\n\\n<main>\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || alias3).call(alias1,(depth0 != null ? depth0.posts : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(9, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\t\"\n    + alias2(((helper = (helper = helpers.pagination || (depth0 != null ? depth0.pagination : depth0)) != null ? helper : alias3),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"pagination\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n</main>\";\n},\"usePartial\":true,\"useData\":true}"}],"results":{"pass":[{"level":"error","rule":"Replace <code>{{pageUrl}}</code> with <code>{{page_url}}</code>","fatal":true,"details":"The helper <code>{{pageUrl}}</code> was replaced with <code>{{page_url}}</code>.<br>Find more information about the <code>{{page_url}}</code> helper <a href=\"https://themes.ghost.org/docs/page_url\" target=_blank>here</a>.","code":"GS001-DEPR-PURL"},{"level":"error","rule":"Replace the <code>{{author.image}}</code> helper with <code>{{author.profile_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>profile_image</code>.<br>Instead of <code>{{author.image}}</code> you need to use <code>{{author.profile_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-AIMG"},{"level":"error","rule":"Replace the <code>{{post.image}}</code> helper with <code>{{post.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in post context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.image}}</code> you need to use <code>{{post.feature_image}}</code>.<br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PIMG"},{"level":"error","rule":"Replace the <code>{{author.cover}}</code> helper with <code>{{author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{author.cover}}</code> you need to use <code>{{author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-AC"},{"level":"error","rule":"Replace the <code>{{tag.image}}</code> helper with <code>{{tag.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tag.image}}</code> you need to use <code>{{tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-TIMG"},{"level":"error","rule":"Replace the <code>{{tags.[#].image}}</code> helper with <code>{{tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tags.[#].image}}</code> you need to use <code>{{tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-TSIMG"},{"level":"error","rule":"Replace the <code>{{post.author.image}}</code> helper with <code>{{post.author.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.author.image}}</code> you need to use <code>{{post.author.feature_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PAIMG"},{"level":"error","rule":"Replace the <code>{{post.author.cover}}</code> helper with <code>{{post.author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute in author context was replaced with <code>cover_image</code>.<br>Instead of <code>{{post.author.cover}}</code> you need to use <code>{{post.author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PAC"},{"level":"error","rule":"Replace the <code>{{post.tags.[#].image}}</code> helper with <code>{{post.tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.tags.[#].image}}</code> you need to use <code>{{post.tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PTIMG"},{"level":"error","rule":"Replace the <code>{{#if author.cover}}</code> helper with <code>{{#if author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if author.cover}}</code> you need to use <code>{{#if author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-AC"},{"level":"error","rule":"Replace the <code>{{#if author.image}}</code> helper with <code>{{#if author.profile_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>profile_image</code>.<br>Instead of <code>{{#if author.image}}</code> you need to use <code>{{#if author.profile_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-AIMG"},{"level":"error","rule":"Replace the <code>{{#if tag.image}}</code> helper with <code>{{#if tag.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tag.image}}</code> you need to use <code>{{#if tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-TIMG"},{"level":"error","rule":"Replace the <code>{{#if post.tags.[#].image}}</code> helper with <code>{{#if post.tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if post.tags.[#].image}}</code> you need to use <code>{{#if post.tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-PTIMG"},{"level":"error","rule":"Replace the <code>{{#if tags.[#].image}}</code> helper with <code>{{#if tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tags.[#].image}}</code> you need to use <code>{{#if tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-TSIMG"},{"level":"error","rule":"Replace <code>{{@blog.posts_per_page}}</code> with <code>{{@config.posts_per_page}}</code>","details":"The global <code>{{@blog.posts_per_page}}</code> property was replaced with <code>{{@config.posts_per_page}}</code>.<br>Read <a href=\"https://themes.ghost.org/docs/config\" target=_blank>here</a> about the attribute and check <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank>here</a> where you can customise the posts per page setting, as this is now adjustable in your theme.","code":"GS001-DEPR-PPP"},{"level":"error","rule":"Replace <code>{{content words=\"0\"}}</code> with the <code>{{img_url}}</code> helper","details":"The <code>{{content words=\"0\"}}</code> hack doesn't work anymore (and was never supported). Please use the <code>{{img_url}}</code> helper to render images.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and ","code":"GS001-DEPR-C0H"},{"level":"error","rule":"Replace <code>.archive-template</code> with the <code>.paged</code> CSS class","details":"The <code>.archive-template</code> CSS class was replaced with the <code>.paged</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-AT"},{"level":"error","rule":"Replace <code>.page</code> with the <code>.page-template</code> css class","details":"The <code>.page</code> CSS class was replaced with the <code>.page-template</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-PA"},{"level":"error","rule":"Replace <code>.page-template-slug</code> with the <code>.page-slug</code> css class","details":"The <code>.page-template-slug</code> CSS class was replaced with the <code>.page-slug</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-PATS"},{"level":"error","rule":"Replace <code>{{id}}</code> with <code>{{comment_id}}</code> in Disqus embeds.","fatal":true,"details":"The output of <code>{{id}}</code> has changed between Ghost LTS and 1.0.0. This results in Disqus comments not loading on Ghost 1.0.0 posts which were imported from Ghost LTS. To resolve this, we've added a new <code>{{comment_id}}</code> helper that will output the old ID for posts that have been imported from LTS, and the new ID for new posts. The Disqus embed must be updated from <code>this.page.identifier = 'ghost-{{id}}';</code> to <code>this.page.identifier = 'ghost-{{comment_id}}';</code> to ensure Disqus continues to work.","code":"GS002-DISQUS-ID"},{"level":"recommendation","rule":"The output of <code>{{id}}</code> changed between Ghost LTS and 1.0.0, you may need to use <code>{{comment_id}}</code> instead.","details":"The output of <code>{{id}}</code> has changed between Ghost LTS and 1.0.0. <code>{{id}}</code> used to output an incrementing integer ID, and will now output an ObjectID. We've added a new <code>{{comment_id}}</code> helper that will output the old ID for posts that have been imported from LTS, and the new ID for new posts. If you need the old ID to be output on imported posts, then you will need to use <code>{{comment_id}}</code> rather than <code>{{id}}</code>.","code":"GS002-ID-HELPER"},{"level":"error","rule":"Templates must contain valid Handlebars","fatal":true,"details":"Oops! You seemed to have used invalid Handlebars syntax. This mostly happens, when you use a helper that is not supported.<br>See the full list of available helpers <a href=\"https://themes.ghost.org/docs/helpers\" target=_blank>here</a>.","code":"GS005-TPL-ERR"},{"level":"error","rule":"<code>package.json</code> file should be present","details":"You should provide a <code>package.json</code> file for your theme.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-REQ"},{"level":"error","rule":"<code>package.json</code> file can be parsed","details":"Your <code>package.json</code> file couldn't be parsed. This is mostly caused by a missing or unnecessary <code>','</code> or the wrong usage of <code>'\"\"'</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> for further information.<br>A good reference for your <code>package.json</code> file is always the latest version of  <a href=\"https://github.com/TryGhost/Casper/blob/master/package.json\" target=_blank>Casper</a>.","code":"GS010-PJ-PARSE"},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> is required","details":"Please add the property <code>\"name\"</code> to your <code>package.json</code>. E.g. <code>{\"name\": \"my-theme\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-NAME-REQ"},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> must be hyphenated","details":"The property <code>\"name\"</code> in your <code>package.json</code> file must be hyphenated.<br>Please use <code>\"my-theme\"</code> rather than <code>\"My Theme\"</code> or <code>\"my theme\"</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--name-\" target=_blank><code>package.json</code> documentation</a> for further information.","code":"GS010-PJ-NAME-HY"},{"level":"error","rule":"<code>package.json</code> property <code>\"version\"</code> must be semver compliant","details":"The property <code>\"version\"</code> in your <code>package.json</code> file must be semver compliant. E.g. <code>{\"version\": \"1.0.0\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--version-\" target=_blank><code>package.json</code> documentation</a> for further information.","code":"GS010-PJ-VERSION-SEM"},{"level":"error","rule":"<code>package.json</code> property <code>\"version\"</code> is required","details":"Please add the property <code>\"version\"</code> to your <code>package.json</code>. E.g. <code>{\"version\": \"1.0.0\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-VERSION-REQ"},{"level":"error","rule":"A template file called <code>index.hbs</code> must be present","fatal":true,"details":"Your theme must have a template file called <code>index.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the required template structure and <code>index.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-index-hbs\" target=_blank>particular</a>.","code":"GS020-INDEX-REQ"},{"level":"error","rule":"A template file called <code>post.hbs</code> must be present","fatal":true,"details":"Your theme must have a template file called <code>index.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the required template structure and <code>post.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-post-hbs\" target=_blank>particular</a>.","code":"GS020-POST-REQ"},{"level":"recommendation","rule":"Provide a default layout template called default.hbs","details":"It is recommended that your theme has a template file called <code>default.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the recommended template structure and <code>default.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-default-hbs\" target=_blank>particular</a>.","code":"GS020-DEF-REC"},{"level":"warning","rule":"Assets such as CSS & JS must use the <code>{{asset}}</code> helper","details":"The listed files should be included using the <code>{{asset}}</code> helper.<br>For more information, please see the <a href=\"https://themes.ghost.org/docs/asset\" target=_blank><code>{{asset}}</code> helper documentation</a>.","code":"GS030-ASSET-REQ"},{"level":"error","rule":"Symlinks in themes are not allowed","fatal":true,"details":"Symbolic links in themes are not allowed. Please use the <code>{{asset}}</code> helper.<br>For more information, please see the <a href=\"https://themes.ghost.org/docs/asset\" target=_blank><code>{{asset}}</code> helper documentation</a>.","code":"GS030-ASSET-SYM"},{"level":"warning","rule":"The helper <code>{{ghost_head}}</code> should be present","details":"The <code>{{ghost_head}}</code> helper should be present in your theme. It outputs many useful things, such as <a href=\"https://help.ghost.org/hc/en-us/articles/223403488-Code-Injection\" target=_blank>\"code injection\" scripts</a>, structured data, canonical links, meta description etc.<br>The helper belongs just before the <code></head></code> tag in your <code>default.hbs</code> template.<br>For more details, please see the <a href=\"https://themes.ghost.org/docs/ghost_head\" target=_blank><code>{{ghost_head}}</code> helper documentation</a>.","code":"GS040-GH-REQ"},{"level":"warning","rule":"The helper <code>{{ghost_foot}}</code> should be present","details":"The <code>{{ghost_foot}}</code> helper should be present in your theme. It outputs scripts as saved in <a href=\"https://help.ghost.org/hc/en-us/articles/223403488-Code-Injection\" target=_blank>\"code injection\" scripts</a>.<br>The helper belongs just before the <code></body></code> tag in your <code>default.hbs</code> template.<br>For more details, please see the <a href=\"https://themes.ghost.org/docs/ghost_foot\" target=_blank><code>{{ghost_foot}}</code> helper documentation</a>.","code":"GS040-GF-REQ"}],"error":[{"fatal":true,"level":"error","rule":"Replace the <code>{{image}}</code> helper with <code>{{img_url feature_image}}</code> or <code>{{img_url profile_image}}</code>","details":"The <code>{{image}}</code> helper was replaced with <code>{{img_url}}</code>.<br>Depending on the context of the <code>{{img_url}}</code> helper you would need to use e. g. <br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{img_url feature_image}}<br>{{/post}}</code><br><br>to render the feature image of the blog post.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and read more about Ghost's usage of contexts <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>here</a>.","failures":[{"ref":"page-contact.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{image}} from this template"}],"code":"GS001-DEPR-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{cover}}</code> helper with <code>{{cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To render the cover image in author context, you need to use<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To render the cover image of your blog, just use <code>{{@blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{cover}} from this template"}],"code":"GS001-DEPR-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{@blog.cover}}</code> helper with <code>{{@blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{@blog.cover}}</code> you need to use <code>{{@blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"error.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"home.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"index.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"page-contact.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"private.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{@blog.cover}} from this template"}],"code":"GS001-DEPR-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if image}}</code> helper with <code>{{#if feature_image}}</code>, or <code>{{#if profile_image}}</code>","details":"The <code>image</code> attribute was replaced with <code>feature_image</code> and <code>profile_image</code>.<br>Depending on the <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>context</a> you will need to replace it like this:<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/post}}</code><br><br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.<br><br><code>{{#tag}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/tag}}</code><br><br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"page-contact.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{#if image}} from this template"}],"code":"GS001-DEPR-CON-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if cover}}</code> helper with <code>{{#if cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To check for the cover image in author context, you need to use<br><br><code>{{#if cover_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/if}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To check for the cover image of your blog, just use <code>{{#if @blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if cover}} from this template"}],"code":"GS001-DEPR-CON-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if @blog.cover}}</code> helper with <code>{{#if @blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if @blog.cover}}</code> you need to use <code>{{#if @blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"error.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"home.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"index.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"page-contact.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"private.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"}],"code":"GS001-DEPR-CON-BC"}],"warning":[],"recommendation":[],"missing":[{"level":"error","rule":"The usage of <code>{{meta_description}}</code> in HTML <code>head</code> is no longer required","details":"The usage of <code>{{meta_description}}</code> in the HTML <code>head</code> tag is no longer required because Ghost outputs this for you automatically in <code>{{ghost_head}}</code>.<br>Check out the documentation for <code>{{meta_description}}</code> <a href=\"https://themes.ghost.org/docs/meta_description\" target=_blank>here</a>.<br>To see, what else is rendered with the <code>{{ghost_head}}</code> helper, look <a href=\"https://themes.ghost.org/docs/ghost_head\" target=_blank>here</a>."},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> must be lowercase","details":"The property <code>\"name\"</code> in your <code>package.json</code> file must be lowercase.<br>Good examples are: <code>\"my-theme\"</code> or <code>\"theme\"</code> rather than <code>\"My Theme\"</code> or <code>\"Theme\"</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--name-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"author.email\"</code> must be valid","details":"The property <code>\"author.email\"</code> in your <code>package.json</code> file must a valid email. E.g. <code>{\"author\": {\"email\": \"hello@example.com\"}}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--author-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"recommendation","rule":"<code>package.json</code> property <code>\"config.posts_per_page\"</code> is recommended. Otherwise, it falls back to 5","details":"Please add <code>\"posts_per_page\"</code> to your <code>package.json</code>. E.g. <code>{\"config\": { \"posts_per_page\": 5}}</code>.<br>If no <code>\"posts_per_page\"</code> property is provided, Ghost will use its default setting of 5 posts per page.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"config.posts_per_page\"</code> must be a number above 0","details":"The property <code>\"config.posts_per_page\"</code> in your <code>package.json</code> file must be a number greater than zero. E.g. <code>{\"config\": { \"posts_per_page\": 5}}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"author.email\"</code> is required","details":"Please add the property <code>\"author.email\"</code> to your <code>package.json</code>. E.g. <code>{\"author\": {\"email\": \"hello@example.com\"}}</code>.<br>The email is required so that themes which are distributed (either free or paid) have a method of contacting the author so users can get support and more importantly so that Ghost can reach out about breaking changes and security updates.<br>The <code>package.json</code> file is <strong>NOT</strong> accessible when uploaded to a blog so if the theme is only uploaded to a single blog, no one will see this email address.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended."}],"score":{"value":84,"level":"error"},"hasFatalErrors":true},"partials":["contact","excerpt","nav-container","navigation","pagination"],"helpers":{"helperMissing":["author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","default.hbs","error.hbs","error.hbs","home.hbs","home.hbs","index.hbs","index.hbs","page-contact.hbs","page-contact.hbs","page-contact.hbs","page-contact.hbs","page.hbs","page.hbs","page.hbs","page.hbs","partials/excerpt.hbs","partials/nav-container.hbs","partials/nav-container.hbs","partials/navigation.hbs","partials/navigation.hbs","partials/pagination.hbs","partials/pagination.hbs","partials/pagination.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","private.hbs","private.hbs","tag.hbs","tag.hbs"],"name":["author.hbs"],"bio":["author.hbs"],"cover":["author.hbs"],"asset":["author.hbs","default.hbs","default.hbs","error.hbs","error.hbs","home.hbs","index.hbs","page-contact.hbs","page.hbs","post.hbs","private.hbs","tag.hbs"],"location":["author.hbs","author.hbs"],"website":["author.hbs"],"author":["author.hbs","author.hbs","partials/excerpt.hbs","post.hbs"],"blockHelperMissing":["author.hbs","page-contact.hbs","page.hbs","post.hbs","post.hbs"],"foreach":["author.hbs","home.hbs","index.hbs","partials/navigation.hbs","tag.hbs"],"pagination":["author.hbs","home.hbs","index.hbs","tag.hbs"],"meta_title":["default.hbs"],"meta_description":["default.hbs","error.hbs"],"ghost_head":["default.hbs","error.hbs"],"body_class":["default.hbs","error.hbs"],"body":["default.hbs"],"date":["default.hbs","partials/excerpt.hbs","partials/excerpt.hbs","post.hbs","post.hbs"],"ghost_foot":["default.hbs","error.hbs"],"navigation":["home.hbs","partials/nav-container.hbs","partials/nav-container.hbs"],"title":["page-contact.hbs","page.hbs","partials/excerpt.hbs","post.hbs"],"content":["page-contact.hbs","page.hbs","post.hbs"],"image":["page-contact.hbs","page.hbs","post.hbs"],"post":["page-contact.hbs","page-contact.hbs","page.hbs","page.hbs","post.hbs","post.hbs"],"url":["partials/excerpt.hbs","partials/excerpt.hbs","partials/navigation.hbs","post.hbs","post.hbs","post.hbs"],"excerpt":["partials/excerpt.hbs"],"label":["partials/navigation.hbs"],"page_url":["partials/pagination.hbs","partials/pagination.hbs"],"page":["partials/pagination.hbs"],"pages":["partials/pagination.hbs"],"encode":["post.hbs"],"prev_post":["post.hbs","post.hbs"],"tags":["post.hbs"],"input_password":["private.hbs"]},"name":"OpenWriter","version":"1.1.0"},"stack":"ThemeValidationError: Theme is not compatible or contains errors.\n    at ThemeValidationError.GhostError (/home/www/ghost/core/server/errors.js:9:26)\n    at new ThemeValidationError (/home/www/ghost/core/server/errors.js:52:20)\n    at resultHandler (/home/www/ghost/core/server/themes/validate.js:32:31)\n    at tryCatcher (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:510:31)\n    at Promise._settlePromise (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:567:18)\n    at Promise._settlePromise0 (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:612:10)\n    at Promise._settlePromises (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:691:18)\n    at Async._drainQueue (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:138:16)\n    at Async._drainQueues (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:148:10)\n    at Immediate.Async.drainQueues (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:17:14)\n    at runCallback (timers.js:672:20)\n    at tryOnImmediate (timers.js:645:5)\n    at processImmediate [as _immediateCallback] (timers.js:617:5)","errorDetails":[{"fatal":true,"level":"error","rule":"Replace the <code>{{image}}</code> helper with <code>{{img_url feature_image}}</code> or <code>{{img_url profile_image}}</code>","details":"The <code>{{image}}</code> helper was replaced with <code>{{img_url}}</code>.<br>Depending on the context of the <code>{{img_url}}</code> helper you would need to use e. g. <br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{img_url feature_image}}<br>{{/post}}</code><br><br>to render the feature image of the blog post.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and read more about Ghost's usage of contexts <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>here</a>.","failures":[{"ref":"page-contact.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{image}} from this template"}],"code":"GS001-DEPR-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{cover}}</code> helper with <code>{{cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To render the cover image in author context, you need to use<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To render the cover image of your blog, just use <code>{{@blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{cover}} from this template"}],"code":"GS001-DEPR-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{@blog.cover}}</code> helper with <code>{{@blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{@blog.cover}}</code> you need to use <code>{{@blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"error.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"home.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"index.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"page-contact.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"private.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{@blog.cover}} from this template"}],"code":"GS001-DEPR-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if image}}</code> helper with <code>{{#if feature_image}}</code>, or <code>{{#if profile_image}}</code>","details":"The <code>image</code> attribute was replaced with <code>feature_image</code> and <code>profile_image</code>.<br>Depending on the <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>context</a> you will need to replace it like this:<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/post}}</code><br><br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.<br><br><code>{{#tag}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/tag}}</code><br><br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"page-contact.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{#if image}} from this template"}],"code":"GS001-DEPR-CON-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if cover}}</code> helper with <code>{{#if cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To check for the cover image in author context, you need to use<br><br><code>{{#if cover_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/if}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To check for the cover image of your blog, just use <code>{{#if @blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if cover}} from this template"}],"code":"GS001-DEPR-CON-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if @blog.cover}}</code> helper with <code>{{#if @blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if @blog.cover}}</code> you need to use <code>{{#if @blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"error.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"home.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"index.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"page-contact.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"private.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"}],"code":"GS001-DEPR-CON-BC"}]},"msg":"Theme is not compatible or contains errors.","time":"2017-09-29T03:45:46.075Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"aded8b50-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"27ms"},"msg":"","time":"2017-09-29T03:45:47.681Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"aef44cf0-a4c8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"edf-f+cR13K3HAaxK7LDZeKfOisKNL4\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"30ms"},"msg":"","time":"2017-09-29T03:45:49.406Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"aef648c0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"32ms"},"msg":"","time":"2017-09-29T03:45:49.421Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":50,"req":{"meta":{"requestId":"b0bbed90-a4c8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/upload/","method":"POST","originalUrl":"/ghost/api/v0.1/themes/upload/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"31561","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"multipart/form-data; boundary=----WebKitFormBoundaryGEPdMT5IBnthzZJB","accept":"text/plain, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","content-type":"application/json; charset=utf-8","etag":"W/\"148f8-5WRlq/MTrp1S3/e71ZRIuztIxxA\"","content-encoding":"gzip"},"statusCode":422,"responseTime":"117ms"},"err":{"id":"b0cc8f60-a4c8-11e7-ad29-7b3837c864ae","domain":"http://47.95.197.107:2368","code":null,"name":"ThemeValidationError","statusCode":422,"level":"normal","message":"Theme is not compatible or contains errors.","context":{"path":"/tmp/0fe32fee-8257-4e54-a67a-c93c2ec3ad62/Glimpse-master","files":[{"file":"LICENSE"},{"file":"README.md","ext":".md"},{"file":"assets/css/icons.css","ext":".css"},{"file":"assets/css/screen.css","ext":".css"},{"file":"assets/fonts/icomoon.eot","ext":".eot"},{"file":"assets/fonts/icomoon.svg","ext":".svg"},{"file":"assets/fonts/icomoon.ttf","ext":".ttf"},{"file":"assets/fonts/icomoon.woff","ext":".woff"},{"file":"assets/img/aperture.svg","ext":".svg"},{"file":"assets/js/index.js","ext":".js"},{"file":"assets/js/jquery.fitvids.js","ext":".js"},{"file":"assets/libs/unveil/unveil.min.js","ext":".js"},{"file":"author.hbs","ext":".hbs","content":"{{!< default}}\n{{! The tag above means - insert everything in this file into the {body} of the default.hbs template }}\n\n{{! The big featured header }}\n\n{{! Everything inside the #author tags pulls data from the author }}\n{{#author}}\n    <header class=\"main-header author-head {{#if cover}}\" style=\"background-image: url({{cover}}){{else}}no-cover{{/if}}\">\n        <nav class=\"main-nav overlay clearfix\">\n            <a class=\"back-button icon-arrow-left\" href=\"{{@blog.url}}\">Home</a>\n            <a class=\"subscribe-button icon-feed\" href=\"{{url}}rss/\">{{name}}</a>\n        </nav>\n    </header>\n\n    <section class=\"author-profile inner\">\n        {{#if image}}\n        <figure class=\"author-image\">\n            <div class=\"img\" style=\"background-image: url({{image}})\"><span class=\"hidden\">{{name}}'s Picture</span></div>\n        </figure>\n        {{/if}}\n        <h1 class=\"author-title\">{{name}}</h1>\n        <h2 class=\"author-bio\">{{bio}}</h2>\n        <div class=\"author-meta\">\n            {{#if location}}<span class=\"author-location icon-location\">{{location}}</span>{{/if}}\n            {{#if website}}<span class=\"author-link icon-link\"><a href=\"{{website}}\">{{website}}</a></span>{{/if}}\n            <span class=\"author-stats\"><i class=\"icon-stats\"></i> {{plural ../pagination.total empty='No posts' singular='% post' plural='% posts'}}</span>\n        </div>\n    </section>\n{{/author}}\n\n{{! The main content area on the homepage }}\n<main class=\"content\" role=\"main\">\n\n    {{! The tag below includes the post loop - partials/loop.hbs }}\n    {{> \"loop\"}}\n\n</main>","compiled":"{\"1\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=container.escapeExpression, alias3=helpers.helperMissing, alias4=\"function\";\n\n  return \"    <header class=\\\"main-header author-head \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.cover : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0, blockParams, depths),\"inverse\":container.program(4, data, 0, blockParams, depths),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n        <nav class=\\\"main-nav overlay clearfix\\\">\\n            <a class=\\\"back-button icon-arrow-left\\\" href=\\\"\"\n    + alias2(container.lambda(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\">Home</a>\\n            <a class=\\\"subscribe-button icon-feed\\\" href=\\\"\"\n    + alias2(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"rss/\\\">\"\n    + alias2(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a>\\n        </nav>\\n    </header>\\n\\n    <section class=\\\"author-profile inner\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"        <h1 class=\\\"author-title\\\">\"\n    + alias2(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n        <h2 class=\\\"author-bio\\\">\"\n    + alias2(((helper = (helper = helpers.bio || (depth0 != null ? depth0.bio : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"bio\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h2>\\n        <div class=\\\"author-meta\\\">\\n            \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.location : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n            \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.website : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n            <span class=\\\"author-stats\\\"><i class=\\\"icon-stats\\\"></i> \"\n    + alias2((helpers.plural || (depth0 && depth0.plural) || alias3).call(alias1,((stack1 = (depths[1] != null ? depths[1].pagination : depths[1])) != null ? stack1.total : stack1),{\"name\":\"plural\",\"hash\":{\"plural\":\"% posts\",\"singular\":\"% post\",\"empty\":\"No posts\"},\"data\":data}))\n    + \"</span>\\n        </div>\\n    </section>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(((helper = (helper = helpers.cover || (depth0 != null ? depth0.cover : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"cover\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"        <figure class=\\\"author-image\\\">\\n            <div class=\\\"img\\\" style=\\\"background-image: url(\"\n    + alias4(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\\\"><span class=\\\"hidden\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"'s Picture</span></div>\\n        </figure>\\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<span class=\\\"author-location icon-location\\\">\"\n    + container.escapeExpression(((helper = (helper = helpers.location || (depth0 != null ? depth0.location : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"location\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span>\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<span class=\\\"author-link icon-link\\\"><a href=\\\"\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></span>\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, helper, options, buffer = \n  \"\\n\\n\";\n  stack1 = ((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"author\",\"hash\":{},\"fn\":container.program(1, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.author) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"\\n<main class=\\\"content\\\" role=\\\"main\\\">\\n\\n\"\n    + ((stack1 = container.invokePartial(partials.loop,depth0,{\"name\":\"loop\",\"data\":data,\"indent\":\"    \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n</main>\";\n},\"usePartial\":true,\"useData\":true,\"useDepths\":true}"},{"file":"default.hbs","ext":".hbs","content":"<!DOCTYPE html>\n<html>\n<head>\n    {{! Document Settings }}\n    <meta charset=\"utf-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n\n    {{! Page Meta }}\n    <title>{{meta_title}}</title>\n    <meta name=\"description\" content=\"{{meta_description}}\" />\n\n    <meta name=\"HandheldFriendly\" content=\"True\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n\n    <link rel=\"shortcut icon\" href=\"{{asset \"favicon.ico\"}}\">\n\n    {{! Styles'n'Scripts }}\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"{{asset \"css/screen.css\"}}\" />\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400,300\" />\n\n    {{! Ghost outputs important style and meta data with this tag }}\n    {{ghost_head}}\n</head>\n<body class=\"{{body_class}}\">\n\n    {{! Everything else gets inserted here }}\n    {{{body}}}\n\n    <footer class=\"site-footer clearfix\">\n        <section class=\"copyright\"><a href=\"{{@blog.url}}\">{{@blog.title}}</a> &copy; {{date format=\"YYYY\"}}</section>\n    </footer>\n\n    {{! Ghost outputs important scripts and data with this tag }}\n    {{ghost_foot}}\n\n    {{! The main JavaScript file for Glimpse }}\n    <script type=\"text/javascript\" src=\"{{asset \"libs/unveil/unveil.min.js\"}}\"></script>\n    <script type=\"text/javascript\" src=\"{{asset \"js/index.js\"}}\"></script>\n\n</body>\n</html>\n","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression, alias5=container.lambda;\n\n  return \"<!DOCTYPE html>\\n<html>\\n<head>\\n    <meta charset=\\\"utf-8\\\" />\\n    <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=edge\\\" />\\n\\n    <title>\"\n    + alias4(((helper = (helper = helpers.meta_title || (depth0 != null ? depth0.meta_title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"meta_title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</title>\\n    <meta name=\\\"description\\\" content=\\\"\"\n    + alias4(((helper = (helper = helpers.meta_description || (depth0 != null ? depth0.meta_description : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"meta_description\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" />\\n\\n    <meta name=\\\"HandheldFriendly\\\" content=\\\"True\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" />\\n\\n    <link rel=\\\"shortcut icon\\\" href=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"favicon.ico\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\">\\n\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"css/screen.css\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\" />\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400,300\\\" />\\n\\n    \"\n    + alias4(((helper = (helper = helpers.ghost_head || (depth0 != null ? depth0.ghost_head : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"ghost_head\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n</head>\\n<body class=\\\"\"\n    + alias4(((helper = (helper = helpers.body_class || (depth0 != null ? depth0.body_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"body_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\\n    \"\n    + ((stack1 = ((helper = (helper = helpers.body || (depth0 != null ? depth0.body : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"body\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"\\n\\n    <footer class=\\\"site-footer clearfix\\\">\\n        <section class=\\\"copyright\\\"><a href=\\\"\"\n    + alias4(alias5(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\">\"\n    + alias4(alias5(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"</a> &copy; \"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"YYYY\"},\"data\":data}))\n    + \"</section>\\n    </footer>\\n\\n    \"\n    + alias4(((helper = (helper = helpers.ghost_foot || (depth0 != null ? depth0.ghost_foot : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"ghost_foot\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\\n    <script type=\\\"text/javascript\\\" src=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"libs/unveil/unveil.min.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n    <script type=\\\"text/javascript\\\" src=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"js/index.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n\\n</body>\\n</html>\\n\";\n},\"useData\":true}"},{"file":"home.hbs","ext":".hbs","content":"{{!< default}}\n{{! The tag above means - insert everything in this file into the {body} of the default.hbs template }}\n\n{{! The big featured header }}\n<header class=\"main-header\">\n    <h1 class=\"page-title\">\n        <a class=\"blog-logo\" href=\"{{@blog.url}}\">\n            {{@blog.title}}\n        </a>\n    </h1>\n\n    <div class=\"featured-gallery\">\n        {{> \"loop-featured\"}}\n    </div>\n    <a class=\"scroll-down icon-arrow-left\" href=\"#content\" data-offset=\"-45\"><span class=\"hidden\">Scroll Down</span></a>\n    {{! The tag below includes the post loop - partials/loop.hbs }}\n</header>\n{{navigation}}\n{{! The main content area on the homepage }}\n<main id=\"content\" class=\"content\" role=\"main\">\n\n    {{! The tag below includes the post loop - partials/loop.hbs }}\n    {{> \"loop\"}}\n\n</main>","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"\\n<header class=\\\"main-header\\\">\\n    <h1 class=\\\"page-title\\\">\\n        <a class=\\\"blog-logo\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\">\\n            \"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"\\n        </a>\\n    </h1>\\n\\n    <div class=\\\"featured-gallery\\\">\\n\"\n    + ((stack1 = container.invokePartial(partials[\"loop-featured\"],depth0,{\"name\":\"loop-featured\",\"data\":data,\"indent\":\"        \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"    </div>\\n    <a class=\\\"scroll-down icon-arrow-left\\\" href=\\\"#content\\\" data-offset=\\\"-45\\\"><span class=\\\"hidden\\\">Scroll Down</span></a>\\n</header>\\n\"\n    + alias2(((helper = (helper = helpers.navigation || (depth0 != null ? depth0.navigation : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"navigation\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n<main id=\\\"content\\\" class=\\\"content\\\" role=\\\"main\\\">\\n\\n\"\n    + ((stack1 = container.invokePartial(partials.loop,depth0,{\"name\":\"loop\",\"data\":data,\"indent\":\"    \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n</main>\";\n},\"usePartial\":true,\"useData\":true}"},{"file":"index.hbs","ext":".hbs","content":"{{!< default}}\n{{! The tag above means - insert everything in this file into the {body} of the default.hbs template }}\n{{navigation}}\n\n{{! The main content area on the homepage }}\n<main class=\"content\" role=\"main\">\n\n  {{! The tag below includes the post loop - partials/loop.hbs }}\n  {{> \"loop\"}}\n\n</main>\n","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return container.escapeExpression(((helper = (helper = helpers.navigation || (depth0 != null ? depth0.navigation : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"navigation\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\\n<main class=\\\"content\\\" role=\\\"main\\\">\\n\\n\"\n    + ((stack1 = container.invokePartial(partials.loop,depth0,{\"name\":\"loop\",\"data\":data,\"indent\":\"  \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n</main>\\n\";\n},\"usePartial\":true,\"useData\":true}"},{"file":"package.json","ext":".json"},{"file":"page.hbs","ext":".hbs","content":"{{!< default}}\n\n{{! This is a page template. A page outputs content just like any other post, and has all the same\n    attributes by default, but you can also customise it to behave differently if you prefer. }}\n\n{{! Everything inside the #post tags pulls data from the page }}\n{{#post}}\n\n<header class=\"main-header post-head {{#if image}}\" style=\"background-image: url({{image}}){{else}}no-cover{{/if}}\">\n    <nav class=\"main-nav {{#if image}}overlay{{/if}} clearfix\">\n        <a class=\"back-button icon-arrow-left\" href=\"{{@blog.url}}\">Home</a>\n        <a class=\"subscribe-button icon-feed\" href=\"{{@blog.url}}/rss/\">Subscribe</a>\n    </nav>\n</header>\n\n<main class=\"content\" role=\"main\">\n\n    <article class=\"{{post_class}}\">\n    {{! Everything inside the #post tags pulls data from the post }}\n\n        <header class=\"post-header\">\n            <h1 class=\"post-title\">{{title}}</h1>\n        </header>\n\n        <section class=\"post-content\">\n            {{content}}\n        </section>\n\n    </article>\n\n</main>\n{{/post}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=container.lambda, alias3=container.escapeExpression, alias4=helpers.helperMissing, alias5=\"function\";\n\n  return \"\\n<header class=\\\"main-header post-head \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n    <nav class=\\\"main-nav \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \" clearfix\\\">\\n        <a class=\\\"back-button icon-arrow-left\\\" href=\\\"\"\n    + alias3(alias2(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\">Home</a>\\n        <a class=\\\"subscribe-button icon-feed\\\" href=\\\"\"\n    + alias3(alias2(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"/rss/\\\">Subscribe</a>\\n    </nav>\\n</header>\\n\\n<main class=\\\"content\\\" role=\\\"main\\\">\\n\\n    <article class=\\\"\"\n    + alias3(((helper = (helper = helpers.post_class || (depth0 != null ? depth0.post_class : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"post_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\\n        <header class=\\\"post-header\\\">\\n            <h1 class=\\\"post-title\\\">\"\n    + alias3(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n        </header>\\n\\n        <section class=\\\"post-content\\\">\\n            \"\n    + alias3(((helper = (helper = helpers.content || (depth0 != null ? depth0.content : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"content\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n        </section>\\n\\n    </article>\\n\\n</main>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    return \"overlay\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, buffer = \n  \"\\n\\n\";\n  stack1 = ((helper = (helper = helpers.post || (depth0 != null ? depth0.post : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"post\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.post) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"useData\":true}"},{"file":"partials/loop-featured.hbs","ext":".hbs","content":"\n{{! This is the featured post loop - each post will be output using this markup }}\n{{#foreach posts}}\n{{#if featured}}{{#if image}}\n<figure>\n    <img src=\"{{image}}\" alt=\"{{{title}}}\" />\n    <figcaption class=\"main-header-content inner\">{{title}}</figcaption>\n</figure>\n{{/if}}{{/if}}\n{{/foreach}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers[\"if\"].call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.featured : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers[\"if\"].call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\\n<figure>\\n    <img src=\\\"\"\n    + alias4(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + ((stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"\\\" />\\n    <figcaption class=\\\"main-header-content inner\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</figcaption>\\n</figure>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.posts : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"useData\":true}"},{"file":"partials/loop.hbs","ext":".hbs","content":"{{! Previous/next page links - only displayed on page 2+ }}\n<div class=\"extra-pagination inner\">\n    {{pagination}}\n</div>\n<div class=\"post-grid\">\n{{! This is the post loop - each post will be output using this markup }}\n{{#foreach posts}}\n<article class=\"{{post_class}}\">\n    <header class=\"post-header\">\n        {{#if image}}\n        <figure>\n            <a href=\"{{url}}\"><img src=\"{{image}}\" alt=\"{{{title}}}\" /></a>\n        </figure>\n        {{/if}}\n        <h2 class=\"post-title\"><a href=\"{{url}}\">{{{title}}}</a></h2>\n    </header>\n</article>\n{{/foreach}}\n</div>\n{{! Previous/next page links - displayed on every page }}\n{{pagination}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<article class=\\\"\"\n    + alias4(((helper = (helper = helpers.post_class || (depth0 != null ? depth0.post_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"post_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n    <header class=\\\"post-header\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"        <h2 class=\\\"post-title\\\"><a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + ((stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"</a></h2>\\n    </header>\\n</article>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"        <figure>\\n            <a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\"><img src=\\\"\"\n    + alias4(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + ((stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"\\\" /></a>\\n        </figure>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<div class=\\\"extra-pagination inner\\\">\\n    \"\n    + alias4(((helper = (helper = helpers.pagination || (depth0 != null ? depth0.pagination : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"pagination\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n</div>\\n<div class=\\\"post-grid\\\">\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || alias2).call(alias1,(depth0 != null ? depth0.posts : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"</div>\\n\"\n    + alias4(((helper = (helper = helpers.pagination || (depth0 != null ? depth0.pagination : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"pagination\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\";\n},\"useData\":true}"},{"file":"partials/navigation.hbs","ext":".hbs","content":"<nav class=\"tag-nav\">\n<ul>\n\t{{#foreach navigation}}\n\t<li class=\"nav-{{slug}}{{#if current}} nav-current{{/if}}\" role=\"presentation\">\n\t\t<a href=\"{{url absolute=\"true\"}}\"><i></i><span>{{label}}</span></a>\n\t</li>\n\t{{/foreach}}\n</ul>\n<a href=\"javascript: void(0)\" class=\"open-nav-btn\"><i class=\"icon-menu\"></i></a>\n</nav>","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\t<li class=\\\"nav-\"\n    + alias4(((helper = (helper = helpers.slug || (depth0 != null ? depth0.slug : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"slug\",\"hash\":{},\"data\":data}) : helper)))\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.current : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\" role=\\\"presentation\\\">\\n\t\t<a href=\\\"\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\"><i></i><span>\"\n    + alias4(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"label\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span></a>\\n\t</li>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \" nav-current\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<nav class=\\\"tag-nav\\\">\\n<ul>\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.navigation : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"</ul>\\n<a href=\\\"javascript: void(0)\\\" class=\\\"open-nav-btn\\\"><i class=\\\"icon-menu\\\"></i></a>\\n</nav>\";\n},\"useData\":true}"},{"file":"partials/pagination.hbs","ext":".hbs","content":"<nav class=\"pagination\" role=\"navigation\">\n  {{#if prev}}\n      <a class=\"newer-posts\" href=\"{{page_url prev}}\">&larr; Newer entries</a>\n  {{/if}}\n    <span class=\"page-number\">Page {{page}} of {{pages}}</span>\n  {{#if next}}\n      <a class=\"older-posts\" href=\"{{page_url next}}\">Older entries &rarr;</a>\n  {{/if}}\n</nav>\n\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    return \"      <a class=\\\"newer-posts\\\" href=\\\"\"\n    + container.escapeExpression((helpers.page_url || (depth0 && depth0.page_url) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.prev : depth0),{\"name\":\"page_url\",\"hash\":{},\"data\":data}))\n    + \"\\\">&larr; Newer entries</a>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"      <a class=\\\"older-posts\\\" href=\\\"\"\n    + container.escapeExpression((helpers.page_url || (depth0 && depth0.page_url) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.next : depth0),{\"name\":\"page_url\",\"hash\":{},\"data\":data}))\n    + \"\\\">Older entries &rarr;</a>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<nav class=\\\"pagination\\\" role=\\\"navigation\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.prev : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"    <span class=\\\"page-number\\\">Page \"\n    + alias4(((helper = (helper = helpers.page || (depth0 != null ? depth0.page : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"page\",\"hash\":{},\"data\":data}) : helper)))\n    + \" of \"\n    + alias4(((helper = (helper = helpers.pages || (depth0 != null ? depth0.pages : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"pages\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span>\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.next : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"</nav>\\n\\n\";\n},\"useData\":true}"},{"file":"post.hbs","ext":".hbs","content":"{{!< default}}\n\n{{! The comment above \"< default\" means - insert everything in this file into\n    the {body} of the default.hbs template, which contains our header/footer. }}\n\n{{navigation}}\n\n{{! Everything inside the #post tags pulls data from the post }}\n{{#post}}\n<main class=\"content clearfix\" role=\"main\">\n\n    <article class=\"{{post_class}} clearfix\">\n\n        {{#if image}}\n        <figure class=\"post-photo\">\n            <img src=\"{{image}}\" alt=\"{{{title}}}\" />\n        </figure>\n        {{/if}}\n\n        <aside>\n            <header class=\"post-header\">\n                <section class=\"post-meta\">\n                    <h1 class=\"post-title\">{{title}}</h1>\n                    <time class=\"post-date\" datetime=\"{{date format='YYYY-MM-DD'}}\">{{date format=\"DD MMMM YYYY\"}}</time> {{tags prefix=\" on \"}}\n                </section>\n            </header>\n\n            <section class=\"post-content\">\n                {{content}}\n            </section>\n\n            <footer class=\"post-footer\">\n\n                <section class=\"share\">\n                    <h4>Share this post</h4>\n                    <a class=\"icon-twitter\" href=\"https://twitter.com/share?text={{encode title}}&amp;url={{url absolute=\"true\"}}\"\n                        onclick=\"window.open(this.href, 'twitter-share', 'width=550,height=235');return false;\">\n                        <span class=\"hidden\">Twitter</span>\n                    </a>\n                    <a class=\"icon-facebook\" href=\"https://www.facebook.com/sharer/sharer.php?u={{url absolute=\"true\"}}\"\n                        onclick=\"window.open(this.href, 'facebook-share','width=580,height=296');return false;\">\n                        <span class=\"hidden\">Facebook</span>\n                    </a>\n                </section>\n\n            </footer>\n        </aside>\n    </article>\n\n</main>\n\n{{/post}}","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<main class=\\\"content clearfix\\\" role=\\\"main\\\">\\n\\n    <article class=\\\"\"\n    + alias4(((helper = (helper = helpers.post_class || (depth0 != null ? depth0.post_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"post_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \" clearfix\\\">\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n        <aside>\\n            <header class=\\\"post-header\\\">\\n                <section class=\\\"post-meta\\\">\\n                    <h1 class=\\\"post-title\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n                    <time class=\\\"post-date\\\" datetime=\\\"\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"YYYY-MM-DD\"},\"data\":data}))\n    + \"\\\">\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"DD MMMM YYYY\"},\"data\":data}))\n    + \"</time> \"\n    + alias4((helpers.tags || (depth0 && depth0.tags) || alias2).call(alias1,{\"name\":\"tags\",\"hash\":{\"prefix\":\" on \"},\"data\":data}))\n    + \"\\n                </section>\\n            </header>\\n\\n            <section class=\\\"post-content\\\">\\n                \"\n    + alias4(((helper = (helper = helpers.content || (depth0 != null ? depth0.content : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"content\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n            </section>\\n\\n            <footer class=\\\"post-footer\\\">\\n\\n                <section class=\\\"share\\\">\\n                    <h4>Share this post</h4>\\n                    <a class=\\\"icon-twitter\\\" href=\\\"https://twitter.com/share?text=\"\n    + alias4((helpers.encode || (depth0 && depth0.encode) || alias2).call(alias1,(depth0 != null ? depth0.title : depth0),{\"name\":\"encode\",\"hash\":{},\"data\":data}))\n    + \"&amp;url=\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\"\\n                        onclick=\\\"window.open(this.href, 'twitter-share', 'width=550,height=235');return false;\\\">\\n                        <span class=\\\"hidden\\\">Twitter</span>\\n                    </a>\\n                    <a class=\\\"icon-facebook\\\" href=\\\"https://www.facebook.com/sharer/sharer.php?u=\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\"\\n                        onclick=\\\"window.open(this.href, 'facebook-share','width=580,height=296');return false;\\\">\\n                        <span class=\\\"hidden\\\">Facebook</span>\\n                    </a>\\n                </section>\\n\\n            </footer>\\n        </aside>\\n    </article>\\n\\n</main>\\n\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\";\n\n  return \"        <figure class=\\\"post-photo\\\">\\n            <img src=\\\"\"\n    + container.escapeExpression(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + ((stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"\\\" />\\n        </figure>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", buffer = \n  \"\\n\\n\"\n    + container.escapeExpression(((helper = (helper = helpers.navigation || (depth0 != null ? depth0.navigation : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"navigation\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\\n\";\n  stack1 = ((helper = (helper = helpers.post || (depth0 != null ? depth0.post : depth0)) != null ? helper : alias2),(options={\"name\":\"post\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === alias3 ? helper.call(alias1,options) : helper));\n  if (!helpers.post) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"useData\":true}"},{"file":"tag.hbs","ext":".hbs","content":"{{!< default}}\n{{! The tag above means - insert everything in this file into the {body} of the default.hbs template }}\n{{navigation}}\n{{! If we have a tag cover, display that - else blog cover - else nothing }}\n<header class=\"main-header tag-head {{#if tag.image}}\" style=\"background-image: url({{tag.image}}){{else}}{{#if @blog.cover}}\" style=\"background-image: url({{@blog.cover}}){{else}}no-cover{{/if}}{{/if}}\">\n    <div class=\"vertical\">\n        <div class=\"main-header-content inner\">\n            <h1 class=\"page-title\">{{tag.name}}</h1>\n            <h2 class=\"page-description\">\n                {{#if tag.description}}\n                    {{tag.description}}\n                {{else}}\n                    A {{pagination.total}}-post collection\n                {{/if}}\n            </h2>\n        </div>\n    </div>\n</header>\n\n{{! The main content area on the homepage }}\n<main class=\"content\" role=\"main\">\n\n    {{! The tag below includes the post loop - partials/loop.hbs }}\n    {{> \"loop\"}}\n\n</main>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.image : stack1), depth0))\n    + \")\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers[\"if\"].call(depth0 != null ? depth0 : {},((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.program(6, data, 0),\"data\":data})) != null ? stack1 : \"\");\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \")\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"                    \"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.description : stack1), depth0))\n    + \"\\n\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"                    A \"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.pagination : depth0)) != null ? stack1.total : stack1), depth0))\n    + \"-post collection\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=container.escapeExpression;\n\n  return alias2(((helper = (helper = helpers.navigation || (depth0 != null ? depth0.navigation : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"navigation\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n<header class=\\\"main-header tag-head \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.image : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n    <div class=\\\"vertical\\\">\\n        <div class=\\\"main-header-content inner\\\">\\n            <h1 class=\\\"page-title\\\">\"\n    + alias2(container.lambda(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.name : stack1), depth0))\n    + \"</h1>\\n            <h2 class=\\\"page-description\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.description : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.program(10, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"            </h2>\\n        </div>\\n    </div>\\n</header>\\n\\n<main class=\\\"content\\\" role=\\\"main\\\">\\n\\n\"\n    + ((stack1 = container.invokePartial(partials.loop,depth0,{\"name\":\"loop\",\"data\":data,\"indent\":\"    \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n</main>\\n\";\n},\"usePartial\":true,\"useData\":true}"}],"results":{"pass":[{"level":"error","rule":"Replace <code>{{pageUrl}}</code> with <code>{{page_url}}</code>","fatal":true,"details":"The helper <code>{{pageUrl}}</code> was replaced with <code>{{page_url}}</code>.<br>Find more information about the <code>{{page_url}}</code> helper <a href=\"https://themes.ghost.org/docs/page_url\" target=_blank>here</a>.","code":"GS001-DEPR-PURL"},{"level":"error","rule":"Replace the <code>{{author.image}}</code> helper with <code>{{author.profile_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>profile_image</code>.<br>Instead of <code>{{author.image}}</code> you need to use <code>{{author.profile_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-AIMG"},{"level":"error","rule":"Replace the <code>{{post.image}}</code> helper with <code>{{post.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in post context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.image}}</code> you need to use <code>{{post.feature_image}}</code>.<br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PIMG"},{"level":"error","rule":"Replace the <code>{{author.cover}}</code> helper with <code>{{author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{author.cover}}</code> you need to use <code>{{author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-AC"},{"level":"error","rule":"Replace the <code>{{tags.[#].image}}</code> helper with <code>{{tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tags.[#].image}}</code> you need to use <code>{{tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-TSIMG"},{"level":"error","rule":"Replace the <code>{{post.author.image}}</code> helper with <code>{{post.author.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.author.image}}</code> you need to use <code>{{post.author.feature_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PAIMG"},{"level":"error","rule":"Replace the <code>{{post.author.cover}}</code> helper with <code>{{post.author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute in author context was replaced with <code>cover_image</code>.<br>Instead of <code>{{post.author.cover}}</code> you need to use <code>{{post.author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PAC"},{"level":"error","rule":"Replace the <code>{{post.tags.[#].image}}</code> helper with <code>{{post.tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.tags.[#].image}}</code> you need to use <code>{{post.tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PTIMG"},{"level":"error","rule":"Replace the <code>{{#if author.cover}}</code> helper with <code>{{#if author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if author.cover}}</code> you need to use <code>{{#if author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-AC"},{"level":"error","rule":"Replace the <code>{{#if author.image}}</code> helper with <code>{{#if author.profile_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>profile_image</code>.<br>Instead of <code>{{#if author.image}}</code> you need to use <code>{{#if author.profile_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-AIMG"},{"level":"error","rule":"Replace the <code>{{#if post.tags.[#].image}}</code> helper with <code>{{#if post.tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if post.tags.[#].image}}</code> you need to use <code>{{#if post.tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-PTIMG"},{"level":"error","rule":"Replace the <code>{{#if tags.[#].image}}</code> helper with <code>{{#if tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tags.[#].image}}</code> you need to use <code>{{#if tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-TSIMG"},{"level":"error","rule":"Replace <code>{{@blog.posts_per_page}}</code> with <code>{{@config.posts_per_page}}</code>","details":"The global <code>{{@blog.posts_per_page}}</code> property was replaced with <code>{{@config.posts_per_page}}</code>.<br>Read <a href=\"https://themes.ghost.org/docs/config\" target=_blank>here</a> about the attribute and check <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank>here</a> where you can customise the posts per page setting, as this is now adjustable in your theme.","code":"GS001-DEPR-PPP"},{"level":"error","rule":"Replace <code>{{content words=\"0\"}}</code> with the <code>{{img_url}}</code> helper","details":"The <code>{{content words=\"0\"}}</code> hack doesn't work anymore (and was never supported). Please use the <code>{{img_url}}</code> helper to render images.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and ","code":"GS001-DEPR-C0H"},{"level":"error","rule":"Replace <code>.archive-template</code> with the <code>.paged</code> CSS class","details":"The <code>.archive-template</code> CSS class was replaced with the <code>.paged</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-AT"},{"level":"error","rule":"Replace <code>.page</code> with the <code>.page-template</code> css class","details":"The <code>.page</code> CSS class was replaced with the <code>.page-template</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-PA"},{"level":"error","rule":"Replace <code>.page-template-slug</code> with the <code>.page-slug</code> css class","details":"The <code>.page-template-slug</code> CSS class was replaced with the <code>.page-slug</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-PATS"},{"level":"error","rule":"Replace <code>{{id}}</code> with <code>{{comment_id}}</code> in Disqus embeds.","fatal":true,"details":"The output of <code>{{id}}</code> has changed between Ghost LTS and 1.0.0. This results in Disqus comments not loading on Ghost 1.0.0 posts which were imported from Ghost LTS. To resolve this, we've added a new <code>{{comment_id}}</code> helper that will output the old ID for posts that have been imported from LTS, and the new ID for new posts. The Disqus embed must be updated from <code>this.page.identifier = 'ghost-{{id}}';</code> to <code>this.page.identifier = 'ghost-{{comment_id}}';</code> to ensure Disqus continues to work.","code":"GS002-DISQUS-ID"},{"level":"recommendation","rule":"The output of <code>{{id}}</code> changed between Ghost LTS and 1.0.0, you may need to use <code>{{comment_id}}</code> instead.","details":"The output of <code>{{id}}</code> has changed between Ghost LTS and 1.0.0. <code>{{id}}</code> used to output an incrementing integer ID, and will now output an ObjectID. We've added a new <code>{{comment_id}}</code> helper that will output the old ID for posts that have been imported from LTS, and the new ID for new posts. If you need the old ID to be output on imported posts, then you will need to use <code>{{comment_id}}</code> rather than <code>{{id}}</code>.","code":"GS002-ID-HELPER"},{"level":"error","rule":"Templates must contain valid Handlebars","fatal":true,"details":"Oops! You seemed to have used invalid Handlebars syntax. This mostly happens, when you use a helper that is not supported.<br>See the full list of available helpers <a href=\"https://themes.ghost.org/docs/helpers\" target=_blank>here</a>.","code":"GS005-TPL-ERR"},{"level":"error","rule":"<code>package.json</code> file should be present","details":"You should provide a <code>package.json</code> file for your theme.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-REQ"},{"level":"error","rule":"<code>package.json</code> file can be parsed","details":"Your <code>package.json</code> file couldn't be parsed. This is mostly caused by a missing or unnecessary <code>','</code> or the wrong usage of <code>'\"\"'</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> for further information.<br>A good reference for your <code>package.json</code> file is always the latest version of  <a href=\"https://github.com/TryGhost/Casper/blob/master/package.json\" target=_blank>Casper</a>.","code":"GS010-PJ-PARSE"},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> is required","details":"Please add the property <code>\"name\"</code> to your <code>package.json</code>. E.g. <code>{\"name\": \"my-theme\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-NAME-REQ"},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> must be hyphenated","details":"The property <code>\"name\"</code> in your <code>package.json</code> file must be hyphenated.<br>Please use <code>\"my-theme\"</code> rather than <code>\"My Theme\"</code> or <code>\"my theme\"</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--name-\" target=_blank><code>package.json</code> documentation</a> for further information.","code":"GS010-PJ-NAME-HY"},{"level":"error","rule":"<code>package.json</code> property <code>\"version\"</code> must be semver compliant","details":"The property <code>\"version\"</code> in your <code>package.json</code> file must be semver compliant. E.g. <code>{\"version\": \"1.0.0\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--version-\" target=_blank><code>package.json</code> documentation</a> for further information.","code":"GS010-PJ-VERSION-SEM"},{"level":"error","rule":"<code>package.json</code> property <code>\"version\"</code> is required","details":"Please add the property <code>\"version\"</code> to your <code>package.json</code>. E.g. <code>{\"version\": \"1.0.0\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-VERSION-REQ"},{"level":"error","rule":"A template file called <code>index.hbs</code> must be present","fatal":true,"details":"Your theme must have a template file called <code>index.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the required template structure and <code>index.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-index-hbs\" target=_blank>particular</a>.","code":"GS020-INDEX-REQ"},{"level":"error","rule":"A template file called <code>post.hbs</code> must be present","fatal":true,"details":"Your theme must have a template file called <code>index.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the required template structure and <code>post.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-post-hbs\" target=_blank>particular</a>.","code":"GS020-POST-REQ"},{"level":"recommendation","rule":"Provide a default layout template called default.hbs","details":"It is recommended that your theme has a template file called <code>default.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the recommended template structure and <code>default.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-default-hbs\" target=_blank>particular</a>.","code":"GS020-DEF-REC"},{"level":"warning","rule":"Assets such as CSS & JS must use the <code>{{asset}}</code> helper","details":"The listed files should be included using the <code>{{asset}}</code> helper.<br>For more information, please see the <a href=\"https://themes.ghost.org/docs/asset\" target=_blank><code>{{asset}}</code> helper documentation</a>.","code":"GS030-ASSET-REQ"},{"level":"error","rule":"Symlinks in themes are not allowed","fatal":true,"details":"Symbolic links in themes are not allowed. Please use the <code>{{asset}}</code> helper.<br>For more information, please see the <a href=\"https://themes.ghost.org/docs/asset\" target=_blank><code>{{asset}}</code> helper documentation</a>.","code":"GS030-ASSET-SYM"},{"level":"warning","rule":"The helper <code>{{ghost_head}}</code> should be present","details":"The <code>{{ghost_head}}</code> helper should be present in your theme. It outputs many useful things, such as <a href=\"https://help.ghost.org/hc/en-us/articles/223403488-Code-Injection\" target=_blank>\"code injection\" scripts</a>, structured data, canonical links, meta description etc.<br>The helper belongs just before the <code></head></code> tag in your <code>default.hbs</code> template.<br>For more details, please see the <a href=\"https://themes.ghost.org/docs/ghost_head\" target=_blank><code>{{ghost_head}}</code> helper documentation</a>.","code":"GS040-GH-REQ"},{"level":"warning","rule":"The helper <code>{{ghost_foot}}</code> should be present","details":"The <code>{{ghost_foot}}</code> helper should be present in your theme. It outputs scripts as saved in <a href=\"https://help.ghost.org/hc/en-us/articles/223403488-Code-Injection\" target=_blank>\"code injection\" scripts</a>.<br>The helper belongs just before the <code></body></code> tag in your <code>default.hbs</code> template.<br>For more details, please see the <a href=\"https://themes.ghost.org/docs/ghost_foot\" target=_blank><code>{{ghost_foot}}</code> helper documentation</a>.","code":"GS040-GF-REQ"}],"error":[{"fatal":true,"level":"error","rule":"Replace the <code>{{image}}</code> helper with <code>{{img_url feature_image}}</code> or <code>{{img_url profile_image}}</code>","details":"The <code>{{image}}</code> helper was replaced with <code>{{img_url}}</code>.<br>Depending on the context of the <code>{{img_url}}</code> helper you would need to use e. g. <br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{img_url feature_image}}<br>{{/post}}</code><br><br>to render the feature image of the blog post.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and read more about Ghost's usage of contexts <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"partials/loop-featured.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"partials/loop.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{image}} from this template"}],"code":"GS001-DEPR-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{cover}}</code> helper with <code>{{cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To render the cover image in author context, you need to use<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To render the cover image of your blog, just use <code>{{@blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{cover}} from this template"}],"code":"GS001-DEPR-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{@blog.cover}}</code> helper with <code>{{@blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{@blog.cover}}</code> you need to use <code>{{@blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{@blog.cover}} from this template"}],"code":"GS001-DEPR-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{tag.image}}</code> helper with <code>{{tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tag.image}}</code> you need to use <code>{{tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{tag.image}} from this template"}],"code":"GS001-DEPR-TIMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if image}}</code> helper with <code>{{#if feature_image}}</code>, or <code>{{#if profile_image}}</code>","details":"The <code>image</code> attribute was replaced with <code>feature_image</code> and <code>profile_image</code>.<br>Depending on the <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>context</a> you will need to replace it like this:<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/post}}</code><br><br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.<br><br><code>{{#tag}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/tag}}</code><br><br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"partials/loop-featured.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"partials/loop.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{#if image}} from this template"}],"code":"GS001-DEPR-CON-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if cover}}</code> helper with <code>{{#if cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To check for the cover image in author context, you need to use<br><br><code>{{#if cover_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/if}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To check for the cover image of your blog, just use <code>{{#if @blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if cover}} from this template"}],"code":"GS001-DEPR-CON-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if @blog.cover}}</code> helper with <code>{{#if @blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if @blog.cover}}</code> you need to use <code>{{#if @blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"}],"code":"GS001-DEPR-CON-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if tag.image}}</code> helper with <code>{{#if tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tag.image}}</code> you need to use <code>{{#if tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{#if tag.image}} from this template"}],"code":"GS001-DEPR-CON-TIMG"}],"warning":[],"recommendation":[],"missing":[{"level":"error","rule":"The usage of <code>{{meta_description}}</code> in HTML <code>head</code> is no longer required","details":"The usage of <code>{{meta_description}}</code> in the HTML <code>head</code> tag is no longer required because Ghost outputs this for you automatically in <code>{{ghost_head}}</code>.<br>Check out the documentation for <code>{{meta_description}}</code> <a href=\"https://themes.ghost.org/docs/meta_description\" target=_blank>here</a>.<br>To see, what else is rendered with the <code>{{ghost_head}}</code> helper, look <a href=\"https://themes.ghost.org/docs/ghost_head\" target=_blank>here</a>."},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> must be lowercase","details":"The property <code>\"name\"</code> in your <code>package.json</code> file must be lowercase.<br>Good examples are: <code>\"my-theme\"</code> or <code>\"theme\"</code> rather than <code>\"My Theme\"</code> or <code>\"Theme\"</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--name-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"author.email\"</code> must be valid","details":"The property <code>\"author.email\"</code> in your <code>package.json</code> file must a valid email. E.g. <code>{\"author\": {\"email\": \"hello@example.com\"}}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--author-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"recommendation","rule":"<code>package.json</code> property <code>\"config.posts_per_page\"</code> is recommended. Otherwise, it falls back to 5","details":"Please add <code>\"posts_per_page\"</code> to your <code>package.json</code>. E.g. <code>{\"config\": { \"posts_per_page\": 5}}</code>.<br>If no <code>\"posts_per_page\"</code> property is provided, Ghost will use its default setting of 5 posts per page.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"config.posts_per_page\"</code> must be a number above 0","details":"The property <code>\"config.posts_per_page\"</code> in your <code>package.json</code> file must be a number greater than zero. E.g. <code>{\"config\": { \"posts_per_page\": 5}}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"author.email\"</code> is required","details":"Please add the property <code>\"author.email\"</code> to your <code>package.json</code>. E.g. <code>{\"author\": {\"email\": \"hello@example.com\"}}</code>.<br>The email is required so that themes which are distributed (either free or paid) have a method of contacting the author so users can get support and more importantly so that Ghost can reach out about breaking changes and security updates.<br>The <code>package.json</code> file is <strong>NOT</strong> accessible when uploaded to a blog so if the theme is only uploaded to a single blog, no one will see this email address.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended."}],"score":{"value":79,"level":"error"},"hasFatalErrors":true},"partials":["loop-featured","loop","navigation","pagination"],"helpers":{"helperMissing":["author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","default.hbs","home.hbs","index.hbs","page.hbs","page.hbs","page.hbs","partials/loop-featured.hbs","partials/loop-featured.hbs","partials/loop.hbs","partials/loop.hbs","partials/loop.hbs","partials/navigation.hbs","partials/navigation.hbs","partials/pagination.hbs","partials/pagination.hbs","partials/pagination.hbs","post.hbs","post.hbs","post.hbs","tag.hbs"],"url":["author.hbs","partials/loop.hbs","partials/loop.hbs","partials/navigation.hbs","post.hbs","post.hbs"],"name":["author.hbs","author.hbs","author.hbs"],"bio":["author.hbs"],"plural":["author.hbs"],"cover":["author.hbs"],"image":["author.hbs","page.hbs","partials/loop-featured.hbs","partials/loop.hbs","post.hbs"],"location":["author.hbs"],"website":["author.hbs","author.hbs"],"author":["author.hbs","author.hbs"],"blockHelperMissing":["author.hbs","page.hbs","post.hbs"],"meta_title":["default.hbs"],"meta_description":["default.hbs"],"asset":["default.hbs","default.hbs","default.hbs","default.hbs"],"ghost_head":["default.hbs"],"body_class":["default.hbs"],"body":["default.hbs"],"date":["default.hbs","post.hbs","post.hbs"],"ghost_foot":["default.hbs"],"navigation":["home.hbs","index.hbs","post.hbs","tag.hbs"],"post_class":["page.hbs","partials/loop.hbs","post.hbs"],"title":["page.hbs","partials/loop-featured.hbs","partials/loop-featured.hbs","partials/loop.hbs","partials/loop.hbs","post.hbs","post.hbs"],"content":["page.hbs","post.hbs"],"post":["page.hbs","page.hbs","post.hbs","post.hbs"],"foreach":["partials/loop-featured.hbs","partials/loop.hbs","partials/navigation.hbs"],"pagination":["partials/loop.hbs","partials/loop.hbs"],"slug":["partials/navigation.hbs"],"label":["partials/navigation.hbs"],"page_url":["partials/pagination.hbs","partials/pagination.hbs"],"page":["partials/pagination.hbs"],"pages":["partials/pagination.hbs"],"tags":["post.hbs"],"encode":["post.hbs"]},"name":"Glimpse","version":"1.0.0"},"stack":"ThemeValidationError: Theme is not compatible or contains errors.\n    at ThemeValidationError.GhostError (/home/www/ghost/core/server/errors.js:9:26)\n    at new ThemeValidationError (/home/www/ghost/core/server/errors.js:52:20)\n    at resultHandler (/home/www/ghost/core/server/themes/validate.js:32:31)\n    at tryCatcher (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:510:31)\n    at Promise._settlePromise (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:567:18)\n    at Promise._settlePromise0 (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:612:10)\n    at Promise._settlePromises (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:691:18)\n    at Async._drainQueue (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:138:16)\n    at Async._drainQueues (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:148:10)\n    at Immediate.Async.drainQueues (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:17:14)\n    at runCallback (timers.js:672:20)\n    at tryOnImmediate (timers.js:645:5)\n    at processImmediate [as _immediateCallback] (timers.js:617:5)","errorDetails":[{"fatal":true,"level":"error","rule":"Replace the <code>{{image}}</code> helper with <code>{{img_url feature_image}}</code> or <code>{{img_url profile_image}}</code>","details":"The <code>{{image}}</code> helper was replaced with <code>{{img_url}}</code>.<br>Depending on the context of the <code>{{img_url}}</code> helper you would need to use e. g. <br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{img_url feature_image}}<br>{{/post}}</code><br><br>to render the feature image of the blog post.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and read more about Ghost's usage of contexts <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"partials/loop-featured.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"partials/loop.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{image}} from this template"}],"code":"GS001-DEPR-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{cover}}</code> helper with <code>{{cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To render the cover image in author context, you need to use<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To render the cover image of your blog, just use <code>{{@blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{cover}} from this template"}],"code":"GS001-DEPR-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{@blog.cover}}</code> helper with <code>{{@blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{@blog.cover}}</code> you need to use <code>{{@blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{@blog.cover}} from this template"}],"code":"GS001-DEPR-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{tag.image}}</code> helper with <code>{{tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tag.image}}</code> you need to use <code>{{tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{tag.image}} from this template"}],"code":"GS001-DEPR-TIMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if image}}</code> helper with <code>{{#if feature_image}}</code>, or <code>{{#if profile_image}}</code>","details":"The <code>image</code> attribute was replaced with <code>feature_image</code> and <code>profile_image</code>.<br>Depending on the <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>context</a> you will need to replace it like this:<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/post}}</code><br><br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.<br><br><code>{{#tag}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/tag}}</code><br><br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"partials/loop-featured.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"partials/loop.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{#if image}} from this template"}],"code":"GS001-DEPR-CON-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if cover}}</code> helper with <code>{{#if cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To check for the cover image in author context, you need to use<br><br><code>{{#if cover_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/if}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To check for the cover image of your blog, just use <code>{{#if @blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if cover}} from this template"}],"code":"GS001-DEPR-CON-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if @blog.cover}}</code> helper with <code>{{#if @blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if @blog.cover}}</code> you need to use <code>{{#if @blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"}],"code":"GS001-DEPR-CON-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if tag.image}}</code> helper with <code>{{#if tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tag.image}}</code> you need to use <code>{{#if tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{#if tag.image}} from this template"}],"code":"GS001-DEPR-CON-TIMG"}]},"msg":"Theme is not compatible or contains errors.","time":"2017-09-29T03:45:52.491Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b1970b50-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"29ms"},"msg":"","time":"2017-09-29T03:45:53.827Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b21e63c0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"32ms"},"msg":"","time":"2017-09-29T03:45:54.717Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b21d2b40-a4c8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"edf-f+cR13K3HAaxK7LDZeKfOisKNL4\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"42ms"},"msg":"","time":"2017-09-29T03:45:54.719Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b3d05980-a4c8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/upload/","method":"POST","originalUrl":"/ghost/api/v0.1/themes/upload/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"2718092","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"multipart/form-data; boundary=----WebKitFormBoundary1dx6xo5QHhTa0U08","accept":"text/plain, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","content-type":"application/json; charset=utf-8","content-length":"682","etag":"W/\"2aa-AsQSQObi3AAduYG1MjnQup5NDmA\""},"statusCode":200,"responseTime":"561ms"},"msg":"","time":"2017-09-29T03:45:58.091Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b4cba970-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"29ms"},"msg":"","time":"2017-09-29T03:45:59.205Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b5bebc00-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"28ms"},"msg":"","time":"2017-09-29T03:46:00.797Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b5be1fc0-a4c8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"117d-qYEwe51bKFAmtG7OOM2wKf7kSlA\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"34ms"},"msg":"","time":"2017-09-29T03:46:00.799Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":50,"req":{"meta":{"requestId":"b76762f0-a4c8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/upload/","method":"POST","originalUrl":"/ghost/api/v0.1/themes/upload/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"760109","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"multipart/form-data; boundary=----WebKitFormBoundarynVay1qBaNuhZcOxB","accept":"text/plain, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","content-type":"application/json; charset=utf-8","etag":"W/\"165fd-M6/1bOuAGjSkYzVbVkeZXp17RG0\"","content-encoding":"gzip"},"statusCode":422,"responseTime":"177ms"},"err":{"id":"b7817aa0-a4c8-11e7-ad29-7b3837c864ae","domain":"http://47.95.197.107:2368","code":null,"name":"ThemeValidationError","statusCode":422,"level":"normal","message":"Theme is not compatible or contains errors.","context":{"path":"/tmp/1a2f008a-db66-495c-83ad-595293add18f/mneme-master","files":[{"file":"LICENSE"},{"file":"README.md","ext":".md"},{"file":"assets/css/style.less","ext":".less"},{"file":"assets/images/empty.png","ext":".png"},{"file":"assets/js/index.js","ext":".js"},{"file":"assets/libraries/bootstrap/config.json","ext":".json"},{"file":"assets/libraries/bootstrap/css/bootstrap.min.css","ext":".css"},{"file":"assets/libraries/bootstrap/fonts/glyphicons-halflings-regular.eot","ext":".eot"},{"file":"assets/libraries/bootstrap/fonts/glyphicons-halflings-regular.svg","ext":".svg"},{"file":"assets/libraries/bootstrap/fonts/glyphicons-halflings-regular.ttf","ext":".ttf"},{"file":"assets/libraries/bootstrap/fonts/glyphicons-halflings-regular.woff","ext":".woff"},{"file":"assets/libraries/bootstrap/fonts/glyphicons-halflings-regular.woff2","ext":".woff2"},{"file":"assets/libraries/bootstrap/js/bootstrap.min.js","ext":".js"},{"file":"assets/libraries/bootstrap-social/css/bootstrap-social.css","ext":".css"},{"file":"assets/libraries/bootstrap-social/css/font-awesome.css","ext":".css"},{"file":"assets/libraries/bootstrap-social/fonts/FontAwesome.otf","ext":".otf"},{"file":"assets/libraries/bootstrap-social/fonts/fontawesome-webfont.eot","ext":".eot"},{"file":"assets/libraries/bootstrap-social/fonts/fontawesome-webfont.svg","ext":".svg"},{"file":"assets/libraries/bootstrap-social/fonts/fontawesome-webfont.ttf","ext":".ttf"},{"file":"assets/libraries/bootstrap-social/fonts/fontawesome-webfont.woff","ext":".woff"},{"file":"assets/libraries/bootstrap-social/fonts/fontawesome-webfont.woff2","ext":".woff2"},{"file":"assets/libraries/imagesloaded/imagesloaded.pkgd.min.js","ext":".js"},{"file":"assets/libraries/jquery/jquery-1.11.3.min.js","ext":".js"},{"file":"assets/libraries/less/less.min.js","ext":".js"},{"file":"assets/libraries/masonry/masonry.pkgd.min.js","ext":".js"},{"file":"assets/libraries/prism/prism.css","ext":".css"},{"file":"assets/libraries/prism/prism.js","ext":".js"},{"file":"author.hbs","ext":".hbs","content":"{{!< default}}\n{{#author}}\n<article class=\"{{post_class}}\">\n    <div class=\"container limit-width\">\n\n        {{#if cover}}\n        <div class=\"author-profile author-profile-cover\" style=\"background-image: url('{{cover}}');\">\n        {{^}}\n        <div class=\"author-profile\">\n        {{/if}}\n\n            {{#if image}}\n            <div class=\"img-crop img-circle\">\n                <div class=\"img\" style=\"background-image: url('{{image}}');\"></div>\n            </div>\n            {{/if}}\n\n            <h1>{{name}}</h1>\n\n            {{#if location}}\n            <span class=\"glyphicon glyphicon-globe\" aria-hidden=\"true\"></span>\n            <span>{{location}}</span>\n            {{/if}}\n\n            {{#if bio}}\n            <pre>{{bio}}</pre>\n            {{/if}}\n\n            <p>{{plural ../pagination.total empty='No posts' singular='% post' plural='% posts'}}</p>\n\n            {{#if website}}\n            <span class=\"glyphicon glyphicon-globe\" aria-hidden=\"true\"></span>\n            <a href=\"{{website}}\" target=\"_blank\">{{website}}</a>\n            {{/if}}\n\n        </div>\n\n    </div>\n</article>\n\n\n{{/author}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<article class=\\\"\"\n    + alias4(((helper = (helper = helpers.post_class || (depth0 != null ? depth0.post_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"post_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n    <div class=\\\"container limit-width\\\">\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.cover : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0, blockParams, depths),\"inverse\":container.program(4, data, 0, blockParams, depths),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n            <h1>\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.location : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.bio : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n            <p>\"\n    + alias4((helpers.plural || (depth0 && depth0.plural) || alias2).call(alias1,((stack1 = (depths[1] != null ? depths[1].pagination : depths[1])) != null ? stack1.total : stack1),{\"name\":\"plural\",\"hash\":{\"plural\":\"% posts\",\"singular\":\"% post\",\"empty\":\"No posts\"},\"data\":data}))\n    + \"</p>\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.website : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(12, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n        </div>\\n\\n    </div>\\n</article>\\n\\n\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"        <div class=\\\"author-profile author-profile-cover\\\" style=\\\"background-image: url('\"\n    + container.escapeExpression(((helper = (helper = helpers.cover || (depth0 != null ? depth0.cover : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"cover\",\"hash\":{},\"data\":data}) : helper)))\n    + \"');\\\">\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"        <div class=\\\"author-profile\\\">\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"            <div class=\\\"img-crop img-circle\\\">\\n                <div class=\\\"img\\\" style=\\\"background-image: url('\"\n    + container.escapeExpression(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \"');\\\"></div>\\n            </div>\\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"            <span class=\\\"glyphicon glyphicon-globe\\\" aria-hidden=\\\"true\\\"></span>\\n            <span>\"\n    + container.escapeExpression(((helper = (helper = helpers.location || (depth0 != null ? depth0.location : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"location\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span>\\n\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"            <pre>\"\n    + container.escapeExpression(((helper = (helper = helpers.bio || (depth0 != null ? depth0.bio : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"bio\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</pre>\\n\";\n},\"12\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"            <span class=\\\"glyphicon glyphicon-globe\\\" aria-hidden=\\\"true\\\"></span>\\n            <a href=\\\"\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" target=\\\"_blank\\\">\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, helper, options, buffer = \"\";\n\n  stack1 = ((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"author\",\"hash\":{},\"fn\":container.program(1, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.author) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"useData\":true,\"useDepths\":true}"},{"file":"default.hbs","ext":".hbs","content":"<!DOCTYPE html lang=\"ko\">\n<html>\n<head>\n\t{{! Document Settings }}\n\t<meta charset=\"utf-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, user-scalable=no\">\n    <meta name=\"description\" content=\"{{@blog.description}}\" />\n\n\t{{! Page Meta }}\n\t<title>{{@blog.title}} {{#is \"post\"}} - {{meta_title}}{{/is}}</title>\n\n\t<meta name=\"HandheldFriendly\" content=\"True\" />\n\t<meta name=\"viewport\" content=\"width=device-width, user-scalable=no\">\n\n    {{! Styles'n'Scripts }}\n\t<link rel=\"stylesheet\" href=\"{{asset \"libraries/bootstrap/css/bootstrap.min.css\"}}\" charset=\"utf8\" />\n\t<link rel=\"stylesheet\" href=\"{{asset \"libraries/prism/prism.css\"}}\" charset=\"utf8\" />\n\t<link rel=\"stylesheet\" href=\"{{asset \"libraries/bootstrap-social/css/bootstrap-social.css\"}}\" charset=\"utf8\" />\n\t<link rel=\"stylesheet\" href=\"{{asset \"libraries/bootstrap-social/css/font-awesome.css\"}}\" charset=\"utf8\" />\n    <link rel=\"stylesheet/less\" href=\"{{asset \"css/style.less\"}}\" charset=\"utf8\" />\n\n\t<script src=\"{{asset \"libraries/less/less.min.js\"}}\"></script>\n\n\t{{! Ghost outputs important style and meta data with this tag }}\n    {{ghost_head}}\n</head>\n\n{{#if @blog.cover}}\n<body class=\"{{body_class}} with-cover\" style=\"background-image: url('{{@blog.cover}}');\">\n{{else}}\n<body class=\"{{body_class}}\">\n{{/if}}\n\n\t{{#if @blog.cover}}\n\t<nav class=\"navbar navbar-default\" style=\"background-image: url('{{@blog.cover}}');\">\n\t{{else}}\n\t<nav class=\"navbar navbar-default\">\n\t{{/if}}\n\n        <div class=\"container limit-width\">\n\n\t\t\t<div class=\"navbar-header\">\n\n                <button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#navbar\" aria-expanded=\"false\">\n                    <span class=\"sr-only\">Toggle navigation</span>\n                    <span class=\"glyphicon glyphicon-menu-hamburger\" aria-hidden=\"true\"></span>\n                </button>\n\n                {{#if @blog.logo}}\n                    <a class=\"navbar-brand img\" href=\"{{@blog.url}}\">\n                        <img alt=\"{{@blog.title}}\" src=\"{{@blog.logo}}\">\n                    </a>\n                {{^}}\n                    <a class=\"navbar-brand\" href=\"{{@blog.url}}\">{{@blog.title}}</a>\n                {{/if}}\n\n            </div>\n\n            {{{navigation}}}\n\n        </div>\n    </nav>\n\n\t{{! Everything else gets inserted here }}\n    {{{body}}}\n\n\t{{! SNS widgets here. If you don't want to use, you can remove it }}\n\t{{> addons/widgets}}\n\n    {{> footer}}\n\n    {{! Ghost outputs important scripts and data with this tag }}\n    {{ghost_foot}}\n\t<script type=\"text/javascript\">\n\t\tif (typeof jQuery == 'undefined') {\n\t\t\tdocument.write('<script type=\"text/javascript\" src=\"{{asset \"libraries/jquery/jquery-1.11.3.min.js\"}}\"></'+'script>');\n\t  \t}\n\t</script>\n    <script src=\"{{asset \"libraries/bootstrap/js/bootstrap.min.js\"}}\"></script>\n    <script src=\"{{asset \"libraries/imagesloaded/imagesloaded.pkgd.min.js\"}}\"></script>\n    <script src=\"{{asset \"libraries/masonry/masonry.pkgd.min.js\"}}\"></script>\n\t<script src=\"{{asset \"libraries/prism/prism.js\"}}\"></script>\n    <script src=\"{{asset \"js/index.js\"}}\"></script>\n</body>\n\n</html>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \" - \"\n    + container.escapeExpression(((helper = (helper = helpers.meta_title || (depth0 != null ? depth0.meta_title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"meta_title\",\"hash\":{},\"data\":data}) : helper)));\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.escapeExpression;\n\n  return \"<body class=\\\"\"\n    + alias1(((helper = (helper = helpers.body_class || (depth0 != null ? depth0.body_class : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"body_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \" with-cover\\\" style=\\\"background-image: url('\"\n    + alias1(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \"');\\\">\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<body class=\\\"\"\n    + container.escapeExpression(((helper = (helper = helpers.body_class || (depth0 != null ? depth0.body_class : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"body_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\t<nav class=\\\"navbar navbar-default\\\" style=\\\"background-image: url('\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \"');\\\">\\n\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    return \"\t<nav class=\\\"navbar navbar-default\\\">\\n\";\n},\"11\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"                    <a class=\\\"navbar-brand img\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\">\\n                        <img alt=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"\\\" src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\">\\n                    </a>\\n\";\n},\"13\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"                    <a class=\\\"navbar-brand\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\">\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"</a>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : {}, alias4=helpers.helperMissing, alias5=\"function\";\n\n  return \"<!DOCTYPE html lang=\\\"ko\\\">\\n<html>\\n<head>\\n\t<meta charset=\\\"utf-8\\\" />\\n    <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=edge\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, user-scalable=no\\\">\\n    <meta name=\\\"description\\\" content=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.description), depth0))\n    + \"\\\" />\\n\\n\t<title>\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \" \"\n    + ((stack1 = (helpers.is || (depth0 && depth0.is) || alias4).call(alias3,\"post\",{\"name\":\"is\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"</title>\\n\\n\t<meta name=\\\"HandheldFriendly\\\" content=\\\"True\\\" />\\n\t<meta name=\\\"viewport\\\" content=\\\"width=device-width, user-scalable=no\\\">\\n\\n\t<link rel=\\\"stylesheet\\\" href=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/bootstrap/css/bootstrap.min.css\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\" charset=\\\"utf8\\\" />\\n\t<link rel=\\\"stylesheet\\\" href=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/prism/prism.css\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\" charset=\\\"utf8\\\" />\\n\t<link rel=\\\"stylesheet\\\" href=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/bootstrap-social/css/bootstrap-social.css\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\" charset=\\\"utf8\\\" />\\n\t<link rel=\\\"stylesheet\\\" href=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/bootstrap-social/css/font-awesome.css\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\" charset=\\\"utf8\\\" />\\n    <link rel=\\\"stylesheet/less\\\" href=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"css/style.less\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\" charset=\\\"utf8\\\" />\\n\\n\t<script src=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/less/less.min.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n\\n    \"\n    + alias2(((helper = (helper = helpers.ghost_head || (depth0 != null ? depth0.ghost_head : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"ghost_head\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n</head>\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias3,((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.program(5, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias3,((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.program(9, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n        <div class=\\\"container limit-width\\\">\\n\\n\t\t\t<div class=\\\"navbar-header\\\">\\n\\n                <button type=\\\"button\\\" class=\\\"navbar-toggle collapsed\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#navbar\\\" aria-expanded=\\\"false\\\">\\n                    <span class=\\\"sr-only\\\">Toggle navigation</span>\\n                    <span class=\\\"glyphicon glyphicon-menu-hamburger\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias3,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(11, data, 0),\"inverse\":container.program(13, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n            </div>\\n\\n            \"\n    + ((stack1 = ((helper = (helper = helpers.navigation || (depth0 != null ? depth0.navigation : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"navigation\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"\\n\\n        </div>\\n    </nav>\\n\\n    \"\n    + ((stack1 = ((helper = (helper = helpers.body || (depth0 != null ? depth0.body : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"body\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"\\n\\n\"\n    + ((stack1 = container.invokePartial(partials[\"addons/widgets\"],depth0,{\"name\":\"addons/widgets\",\"data\":data,\"indent\":\"\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = container.invokePartial(partials.footer,depth0,{\"name\":\"footer\",\"data\":data,\"indent\":\"    \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n    \"\n    + alias2(((helper = (helper = helpers.ghost_foot || (depth0 != null ? depth0.ghost_foot : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"ghost_foot\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\t<script type=\\\"text/javascript\\\">\\n\t\tif (typeof jQuery == 'undefined') {\\n\t\t\tdocument.write('<script type=\\\"text/javascript\\\" src=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/jquery/jquery-1.11.3.min.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></'+'script>');\\n\t  \t}\\n\t</script>\\n    <script src=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/bootstrap/js/bootstrap.min.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n    <script src=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/imagesloaded/imagesloaded.pkgd.min.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n    <script src=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/masonry/masonry.pkgd.min.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n\t<script src=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"libraries/prism/prism.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n    <script src=\\\"\"\n    + alias2((helpers.asset || (depth0 && depth0.asset) || alias4).call(alias3,\"js/index.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n</body>\\n\\n</html>\\n\";\n},\"usePartial\":true,\"useData\":true}"},{"file":"index.hbs","ext":".hbs","content":"{{!< default}}\n\n<div class=\"spinner\"></div>\n\n<section class=\"{{body_class}}\">\n    <div class=\"container\">\n        <div class=\"row grid\">\n\t\t\t{{#if posts}}\n\t\t\t\t{{#foreach posts}}\n\t\t\t\t\t{{> loop_post}}\n            \t{{/foreach}}\n\t\t\t{{else}}\n\t\t\t\t{{> empty_posts}}\n\t\t\t{{/if}}\n        </div>\n\n    </div>\n</section>\n\n{{pagination}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.posts : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(partials.loop_post,depth0,{\"name\":\"loop_post\",\"data\":data,\"indent\":\"\\t\\t\\t\\t\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(partials.empty_posts,depth0,{\"name\":\"empty_posts\",\"data\":data,\"indent\":\"\\t\\t\\t\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\\n<div class=\\\"spinner\\\"></div>\\n\\n<section class=\\\"\"\n    + alias4(((helper = (helper = helpers.body_class || (depth0 != null ? depth0.body_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"body_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row grid\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.posts : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"        </div>\\n\\n    </div>\\n</section>\\n\\n\"\n    + alias4(((helper = (helper = helpers.pagination || (depth0 != null ? depth0.pagination : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"pagination\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\";\n},\"usePartial\":true,\"useData\":true}"},{"file":"package.json","ext":".json"},{"file":"partials/addons/comment.hbs","ext":".hbs","content":"<section class=\"comment\">\n    <div class=\"container limit-width\">\n\t\t<div id=\"disqus_thread\"></div>\n\t\t<script type=\"text/javascript\">\n\t\t/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */\n\t\tvar disqus_shortname = 'yourname'; // required: replace example with your forum shortname\n\n\t\t/* * * DON'T EDIT BELOW THIS LINE * * */\n\t\t(function() {\n\t\tvar dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;\n\t\tdsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';\n\t\t(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);\n\t\t})();\n\t\t</script>\n\t\t<noscript>Please enable JavaScript to view the <a href=\"http://disqus.com/?ref_noscript\">comments powered by Disqus.</a></noscript>\n\t\t<a href=\"http://disqus.com\" class=\"dsq-brlink\">comments powered by <span class=\"logo-disqus\">Disqus</span></a>\n    </div>\n</section>\n","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<section class=\\\"comment\\\">\\n    <div class=\\\"container limit-width\\\">\\n\t\t<div id=\\\"disqus_thread\\\"></div>\\n\t\t<script type=\\\"text/javascript\\\">\\n\t\t/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */\\n\t\tvar disqus_shortname = 'yourname'; // required: replace example with your forum shortname\\n\\n\t\t/* * * DON'T EDIT BELOW THIS LINE * * */\\n\t\t(function() {\\n\t\tvar dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;\\n\t\tdsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';\\n\t\t(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);\\n\t\t})();\\n\t\t</script>\\n\t\t<noscript>Please enable JavaScript to view the <a href=\\\"http://disqus.com/?ref_noscript\\\">comments powered by Disqus.</a></noscript>\\n\t\t<a href=\\\"http://disqus.com\\\" class=\\\"dsq-brlink\\\">comments powered by <span class=\\\"logo-disqus\\\">Disqus</span></a>\\n    </div>\\n</section>\\n\";\n},\"useData\":true}"},{"file":"partials/addons/share.hbs","ext":".hbs","content":"<div class=\"share\">\n\t<!-- Google plus -->\n\t<a class=\"btn btn-social btn-sm btn-google\" href=\"https://plus.google.com/share?url={{url absolute=\"true\"}}\" onclick=\"window.open(this.href, 'google-share','width=580,height=350');return false;\"><i class=\"fa fa-google-plus\"></i>Share</a>\n\t<!-- Facebook -->\n\t<a class=\"btn btn-social btn-sm btn-facebook\" href=\"https://www.facebook.com/sharer/sharer.php?u={{url absolute=\"true\"}}\" onclick=\"window.open(this.href, 'facebook-share','width=580,height=350');return false;\"><i class=\"fa fa-facebook\"></i>Share</a>\n\t<!-- Twitter -->\n\t<a class=\"btn btn-social btn-sm btn-twitter\" href=\"https://twitter.com/intent/tweet?text={{title}}&url={{url absolute=\"true\"}}\" target=\"_blank\" onclick=\"window.open(this.href, 'twitter-share', 'width=550,height=350');return false;\"><i class=\"fa fa-twitter\"></i>Tweet</a>\n\t<!-- Tumblr -->\n\t<a class=\"btn btn-social btn-sm btn-tumblr\" href=\"http://www.tumblr.com/share/link?url={{url absolute=\"true\"}}\" target=\"_blank\" onclick=\"window.open(this.href, 'tumblr-share', 'width=550,height=350');return false;\"><i class=\"fa fa-tumblr\"></i>Share</a>\n</div>\n","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=container.escapeExpression;\n\n  return \"<div class=\\\"share\\\">\\n\t<!-- Google plus -->\\n\t<a class=\\\"btn btn-social btn-sm btn-google\\\" href=\\\"https://plus.google.com/share?url=\"\n    + alias3((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\" onclick=\\\"window.open(this.href, 'google-share','width=580,height=350');return false;\\\"><i class=\\\"fa fa-google-plus\\\"></i>Share</a>\\n\t<!-- Facebook -->\\n\t<a class=\\\"btn btn-social btn-sm btn-facebook\\\" href=\\\"https://www.facebook.com/sharer/sharer.php?u=\"\n    + alias3((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\" onclick=\\\"window.open(this.href, 'facebook-share','width=580,height=350');return false;\\\"><i class=\\\"fa fa-facebook\\\"></i>Share</a>\\n\t<!-- Twitter -->\\n\t<a class=\\\"btn btn-social btn-sm btn-twitter\\\" href=\\\"https://twitter.com/intent/tweet?text=\"\n    + alias3(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"&url=\"\n    + alias3((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\" target=\\\"_blank\\\" onclick=\\\"window.open(this.href, 'twitter-share', 'width=550,height=350');return false;\\\"><i class=\\\"fa fa-twitter\\\"></i>Tweet</a>\\n\t<!-- Tumblr -->\\n\t<a class=\\\"btn btn-social btn-sm btn-tumblr\\\" href=\\\"http://www.tumblr.com/share/link?url=\"\n    + alias3((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\" target=\\\"_blank\\\" onclick=\\\"window.open(this.href, 'tumblr-share', 'width=550,height=350');return false;\\\"><i class=\\\"fa fa-tumblr\\\"></i>Share</a>\\n</div>\\n\";\n},\"useData\":true}"},{"file":"partials/addons/widgets.hbs","ext":".hbs","content":"<!--\n\tAdd your sns buttons and modify href attribute.\n\tAnd change your account > 'yourname'\n\tReference: https://github.com/lipis/bootstrap-social\n-->\n<div class=\"widgets\">\n\t<!--<a class=\"btn btn-social-icon btn-sm\" href=\"http://www.tumblr.com/yourname\" target=\"_blank\"><i class=\"fa fa-tumblr\"></i></a>\n\t<a class=\"btn btn-social-icon btn-sm\" href=\"http://plus.google.com/yourname\" target=\"_blank\"><i class=\"fa fa-google-plus\"></i></a>\n\t<a class=\"btn btn-social-icon btn-sm\" href=\"http://www.facebook.com/yourname\" target=\"_blank\"><i class=\"fa fa-facebook\"></i></a>\n\t<a class=\"btn btn-social-icon btn-sm\" href=\"http://www.twitter.com/yourname\" target=\"_blank\"><i class=\"fa fa-twitter\"></i></a>-->\n\t<a class=\"btn btn-social-icon btn-sm\" href=\"{{@blog.url}}/rss\" target=\"_blank\"><i class=\"fa fa-rss\"></i></a>\n</div>\n\n","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<!--\\n\tAdd your sns buttons and modify href attribute.\\n\tAnd change your account > 'yourname'\\n\tReference: https://github.com/lipis/bootstrap-social\\n-->\\n<div class=\\\"widgets\\\">\\n\t<!--<a class=\\\"btn btn-social-icon btn-sm\\\" href=\\\"http://www.tumblr.com/yourname\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-tumblr\\\"></i></a>\\n\t<a class=\\\"btn btn-social-icon btn-sm\\\" href=\\\"http://plus.google.com/yourname\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-google-plus\\\"></i></a>\\n\t<a class=\\\"btn btn-social-icon btn-sm\\\" href=\\\"http://www.facebook.com/yourname\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-facebook\\\"></i></a>\\n\t<a class=\\\"btn btn-social-icon btn-sm\\\" href=\\\"http://www.twitter.com/yourname\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-twitter\\\"></i></a>-->\\n\t<a class=\\\"btn btn-social-icon btn-sm\\\" href=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"/rss\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-rss\\\"></i></a>\\n</div>\\n\\n\";\n},\"useData\":true}"},{"file":"partials/empty_posts.hbs","ext":".hbs","content":"<div class=\"col-xs-12 col-sm-12 col-md-12 grid-empty\">\n\t<span>Empty posts.</span>\n</div>\n","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"col-xs-12 col-sm-12 col-md-12 grid-empty\\\">\\n\t<span>Empty posts.</span>\\n</div>\\n\";\n},\"useData\":true}"},{"file":"partials/footer.hbs","ext":".hbs","content":"<footer>\n    <div class=\"container\">\n        <p>\n            <p>All content copyright {{@blog.title}}. All rights reserved.</p>\n\t\t\t<p>Theme created by <a href=\"http://www.messier219.com\" target=\"_blank\">Messier219</a>.</p>\n        </p>\n    </div>\n</footer>\n","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<footer>\\n    <div class=\\\"container\\\">\\n        <p>\\n            <p>All content copyright \"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \". All rights reserved.</p>\\n\t\t\t<p>Theme created by <a href=\\\"http://www.messier219.com\\\" target=\\\"_blank\\\">Messier219</a>.</p>\\n        </p>\\n    </div>\\n</footer>\\n\";\n},\"useData\":true}"},{"file":"partials/loop_post.hbs","ext":".hbs","content":"<div class=\"col-xs-12 col-sm-6 col-md-4 grid-item loading\">\n\t<div class=\"thumbnail\">\n\t\t<div class=\"image-wrapper\">\n\t\t\t{{#if image}}\n\t\t\t<img src=\"{{image}}\" alt=\"thumbnail\" />\n\t\t\t{{else}}\n\t\t\t<img src=\"{{asset \"images/empty.png\"}}\" alt=\"thumbnail\" style=\"height: 0px;\" />\n\t\t\t{{/if}}\n\t\t</div>\n\t\t<div class=\"caption\">\n\t\t\t<h3>{{{title}}}</h3>\n\t\t\t<p>{{excerpt characters=\"70\"}}…</p>\n\t\t\t<a href=\"{{url}}\" class=\"btn btn-default btn-xs\" role=\"button\">Read more</a>\n\t\t\t<time>On {{date}}</time>\n\t\t</div>\n\t</div>\n</div>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\t\t\t<img src=\\\"\"\n    + container.escapeExpression(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" alt=\\\"thumbnail\\\" />\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"\t\t\t<img src=\\\"\"\n    + container.escapeExpression((helpers.asset || (depth0 && depth0.asset) || helpers.helperMissing).call(depth0 != null ? depth0 : {},\"images/empty.png\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\" alt=\\\"thumbnail\\\" style=\\\"height: 0px;\\\" />\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<div class=\\\"col-xs-12 col-sm-6 col-md-4 grid-item loading\\\">\\n\t<div class=\\\"thumbnail\\\">\\n\t\t<div class=\\\"image-wrapper\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\t\t</div>\\n\t\t<div class=\\\"caption\\\">\\n\t\t\t<h3>\"\n    + ((stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"</h3>\\n\t\t\t<p>\"\n    + alias4((helpers.excerpt || (depth0 && depth0.excerpt) || alias2).call(alias1,{\"name\":\"excerpt\",\"hash\":{\"characters\":\"70\"},\"data\":data}))\n    + \"…</p>\\n\t\t\t<a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" class=\\\"btn btn-default btn-xs\\\" role=\\\"button\\\">Read more</a>\\n\t\t\t<time>On \"\n    + alias4(((helper = (helper = helpers.date || (depth0 != null ? depth0.date : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"date\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</time>\\n\t\t</div>\\n\t</div>\\n</div>\\n\";\n},\"useData\":true}"},{"file":"partials/navigation.hbs","ext":".hbs","content":"<div class=\"collapse navbar-collapse\" id=\"navbar\">\n    <ul class=\"nav navbar-nav\">\n        {{#foreach navigation}}\n            <li><a href=\"{{url absolute=\"true\"}}\" class=\"hvr-fade\">{{label}}</a></li>\n        {{/foreach}}\n    </ul>\n</div>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=container.escapeExpression;\n\n  return \"            <li><a href=\\\"\"\n    + alias3((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\" class=\\\"hvr-fade\\\">\"\n    + alias3(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : alias2),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"label\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></li>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"collapse navbar-collapse\\\" id=\\\"navbar\\\">\\n    <ul class=\\\"nav navbar-nav\\\">\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.navigation : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"    </ul>\\n</div>\\n\";\n},\"useData\":true}"},{"file":"partials/pagination.hbs","ext":".hbs","content":"<nav class=\"pagination\">\n\t<ul class=\"pager\">\n\t\t{{#if prev}}\n            <li><a href=\"{{page_url prev}}\"><span aria-hidden=\"true\">&larr;</span> Newer</a></li>\n\t\t{{else}}\n\t\t\t<li class=\"disabled\"><span aria-hidden=\"true\">&larr; Newer</span></li>\n\t\t{{/if}}\n\t\t\t<li>Page {{page}} of {{pages}}</li>\n\t\t{{#if next}}\n\t\t\t<li><a href=\"{{page_url next}}\">Older <span aria-hidden=\"true\">&rarr;</span></a></li>\n\t\t{{else}}\n            <li class=\"disabled\"><span aria-hidden=\"true\">Older &rarr;</span></li>\n\t\t{{/if}}\n    </ul>\n</nav>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    return \"            <li><a href=\\\"\"\n    + container.escapeExpression((helpers.page_url || (depth0 && depth0.page_url) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.prev : depth0),{\"name\":\"page_url\",\"hash\":{},\"data\":data}))\n    + \"\\\"><span aria-hidden=\\\"true\\\">&larr;</span> Newer</a></li>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"\t\t\t<li class=\\\"disabled\\\"><span aria-hidden=\\\"true\\\">&larr; Newer</span></li>\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    return \"\t\t\t<li><a href=\\\"\"\n    + container.escapeExpression((helpers.page_url || (depth0 && depth0.page_url) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.next : depth0),{\"name\":\"page_url\",\"hash\":{},\"data\":data}))\n    + \"\\\">Older <span aria-hidden=\\\"true\\\">&rarr;</span></a></li>\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    return \"            <li class=\\\"disabled\\\"><span aria-hidden=\\\"true\\\">Older &rarr;</span></li>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<nav class=\\\"pagination\\\">\\n\t<ul class=\\\"pager\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.prev : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\t\t\t<li>Page \"\n    + alias4(((helper = (helper = helpers.page || (depth0 != null ? depth0.page : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"page\",\"hash\":{},\"data\":data}) : helper)))\n    + \" of \"\n    + alias4(((helper = (helper = helpers.pages || (depth0 != null ? depth0.pages : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"pages\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</li>\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.next : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.program(7, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"    </ul>\\n</nav>\\n\";\n},\"useData\":true}"},{"file":"partials/prev_next_post.hbs","ext":".hbs","content":"{{#next_post}}\n<!-- Next pots -->\n<section class=\"prev-next-post\">\n    <div class=\"container limit-width\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-sm-12 col-md-12 next-post\">\n\t\t\t<a href=\"{{url}}\" style=\"background-image: url('{{image}}');\">\n\t\t\t\t<div class=\"post-meta-info\">\n\t\t\t\t\t<h4>NEXT POST</h4>\n\t\t\t\t\t<h3>{{title}}</h3>\n\t\t\t\t</div>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n</section>\n{{/next_post}}\n\n{{#prev_post}}\n<!-- Prev pots -->\n<section class=\"prev-next-post\">\n    <div class=\"container limit-width\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-sm-12 col-md-12 prev-post\">\n\t\t\t\t<a href=\"{{url}}\" style=\"background-image: url('{{image}}');\">\n\t\t\t\t\t<div class=\"post-meta-info\">\n\t\t\t\t\t\t<h4>PREV POST</h4>\n\t\t\t\t\t\t<h3>{{title}}</h3>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</section>\n{{/prev_post}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<!-- Next pots -->\\n<section class=\\\"prev-next-post\\\">\\n    <div class=\\\"container limit-width\\\">\\n\t\t<div class=\\\"row\\\">\\n\t\t\t<div class=\\\"col-sm-12 col-md-12 next-post\\\">\\n\t\t\t<a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" style=\\\"background-image: url('\"\n    + alias4(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \"');\\\">\\n\t\t\t\t<div class=\\\"post-meta-info\\\">\\n\t\t\t\t\t<h4>NEXT POST</h4>\\n\t\t\t\t\t<h3>\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h3>\\n\t\t\t\t</div>\\n\t\t\t</a>\\n\t\t</div>\\n\t</div>\\n</section>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<!-- Prev pots -->\\n<section class=\\\"prev-next-post\\\">\\n    <div class=\\\"container limit-width\\\">\\n\t\t<div class=\\\"row\\\">\\n\t\t\t<div class=\\\"col-sm-12 col-md-12 prev-post\\\">\\n\t\t\t\t<a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" style=\\\"background-image: url('\"\n    + alias4(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \"');\\\">\\n\t\t\t\t\t<div class=\\\"post-meta-info\\\">\\n\t\t\t\t\t\t<h4>PREV POST</h4>\\n\t\t\t\t\t\t<h3>\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h3>\\n\t\t\t\t\t</div>\\n\t\t\t\t</a>\\n\t\t\t</div>\\n\t\t</div>\\n\t</div>\\n</section>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=helpers.blockHelperMissing, buffer = \"\";\n\n  stack1 = ((helper = (helper = helpers.next_post || (depth0 != null ? depth0.next_post : depth0)) != null ? helper : alias2),(options={\"name\":\"next_post\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === alias3 ? helper.call(alias1,options) : helper));\n  if (!helpers.next_post) { stack1 = alias4.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  buffer += \"\\n\";\n  stack1 = ((helper = (helper = helpers.prev_post || (depth0 != null ? depth0.prev_post : depth0)) != null ? helper : alias2),(options={\"name\":\"prev_post\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === alias3 ? helper.call(alias1,options) : helper));\n  if (!helpers.prev_post) { stack1 = alias4.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"useData\":true}"},{"file":"post.hbs","ext":".hbs","content":"{{!< default}}\n{{#post}}\n<article class=\"{{post_class}}\">\n\n    <div class=\"container limit-width\">\n        <div class=\"page-header\">\n            <h1>{{title}}</h1>\n            By {{author}} On <time>{{date}}</time>\n        </div>\n\n\t\t<div class=\"content\">\n\t\t\t{{content}}\n\t\t</div>\n\n\t\t<div class=\"post-bottom-info\">\n\t\t\t<div class=\"tags\">\n\t\t\t\t{{#foreach tags}}\n\t\t\t\t<a href=\"{{url}}\" class=\"label label-info\">{{name}}</a>\n\t\t\t\t{{/foreach}}\n\t\t\t</div>\n\n\t\t\t<!-- Share post -->\n\t\t\t{{> addons/share}}\n\t\t</div>\n    </div>\n</article>\n\n{{> prev_next_post}}\n\n<!-- Comments -->\n{{!> addons/comment}}\n\n{{/post}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<article class=\\\"\"\n    + alias4(((helper = (helper = helpers.post_class || (depth0 != null ? depth0.post_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"post_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\\n    <div class=\\\"container limit-width\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n            By \"\n    + alias4(((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"author\",\"hash\":{},\"data\":data}) : helper)))\n    + \" On <time>\"\n    + alias4(((helper = (helper = helpers.date || (depth0 != null ? depth0.date : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"date\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</time>\\n        </div>\\n\\n\t\t<div class=\\\"content\\\">\\n\t\t\t\"\n    + alias4(((helper = (helper = helpers.content || (depth0 != null ? depth0.content : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"content\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\t\t</div>\\n\\n\t\t<div class=\\\"post-bottom-info\\\">\\n\t\t\t<div class=\\\"tags\\\">\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || alias2).call(alias1,(depth0 != null ? depth0.tags : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\t\t\t</div>\\n\\n\t\t\t<!-- Share post -->\\n\"\n    + ((stack1 = container.invokePartial(partials[\"addons/share\"],depth0,{\"name\":\"addons/share\",\"data\":data,\"indent\":\"\\t\\t\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\t\t</div>\\n    </div>\\n</article>\\n\\n\"\n    + ((stack1 = container.invokePartial(partials.prev_next_post,depth0,{\"name\":\"prev_next_post\",\"data\":data,\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n<!-- Comments -->\\n\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\t\t\t\t<a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" class=\\\"label label-info\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, buffer = \"\";\n\n  stack1 = ((helper = (helper = helpers.post || (depth0 != null ? depth0.post : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"post\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.post) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"usePartial\":true,\"useData\":true}"},{"file":"tag.hbs","ext":".hbs","content":"{{!< default}}\n\n<div class=\"spinner\"></div>\n\n<section class=\"{{body_class}}\">\n    <div class=\"container\">\n\n        <div class=\"page-header\">\n            <h1>{{tag.name}} <small>{{tag.description}}</small></h1>\n            <p>{{pagination.total}} post collection</p>\n        </div>\n\n        <div class=\"row grid\">\n            {{#if posts}}\n\t\t\t\t{{#foreach posts}}\n\t\t\t\t\t{{> loop_post}}\n            \t{{/foreach}}\n\t\t\t{{else}}\n\t\t\t\t{{> empty_posts}}\n\t\t\t{{/if}}\n        </div>\n\n    </div>\n</section>\n\n{{pagination}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.posts : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(partials.loop_post,depth0,{\"name\":\"loop_post\",\"data\":data,\"indent\":\"\\t\\t\\t\\t\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(partials.empty_posts,depth0,{\"name\":\"empty_posts\",\"data\":data,\"indent\":\"\\t\\t\\t\\t\",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression, alias5=container.lambda;\n\n  return \"\\n<div class=\\\"spinner\\\"></div>\\n\\n<section class=\\\"\"\n    + alias4(((helper = (helper = helpers.body_class || (depth0 != null ? depth0.body_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"body_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n    <div class=\\\"container\\\">\\n\\n        <div class=\\\"page-header\\\">\\n            <h1>\"\n    + alias4(alias5(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.name : stack1), depth0))\n    + \" <small>\"\n    + alias4(alias5(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.description : stack1), depth0))\n    + \"</small></h1>\\n            <p>\"\n    + alias4(alias5(((stack1 = (depth0 != null ? depth0.pagination : depth0)) != null ? stack1.total : stack1), depth0))\n    + \" post collection</p>\\n        </div>\\n\\n        <div class=\\\"row grid\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.posts : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"        </div>\\n\\n    </div>\\n</section>\\n\\n\"\n    + alias4(((helper = (helper = helpers.pagination || (depth0 != null ? depth0.pagination : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"pagination\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\";\n},\"usePartial\":true,\"useData\":true}"}],"results":{"pass":[{"level":"error","rule":"Replace <code>{{pageUrl}}</code> with <code>{{page_url}}</code>","fatal":true,"details":"The helper <code>{{pageUrl}}</code> was replaced with <code>{{page_url}}</code>.<br>Find more information about the <code>{{page_url}}</code> helper <a href=\"https://themes.ghost.org/docs/page_url\" target=_blank>here</a>.","code":"GS001-DEPR-PURL"},{"level":"error","rule":"The usage of <code>{{meta_description}}</code> in HTML <code>head</code> is no longer required","details":"The usage of <code>{{meta_description}}</code> in the HTML <code>head</code> tag is no longer required because Ghost outputs this for you automatically in <code>{{ghost_head}}</code>.<br>Check out the documentation for <code>{{meta_description}}</code> <a href=\"https://themes.ghost.org/docs/meta_description\" target=_blank>here</a>.<br>To see, what else is rendered with the <code>{{ghost_head}}</code> helper, look <a href=\"https://themes.ghost.org/docs/ghost_head\" target=_blank>here</a>.","code":"GS001-DEPR-MD"},{"level":"error","rule":"Replace the <code>{{author.image}}</code> helper with <code>{{author.profile_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>profile_image</code>.<br>Instead of <code>{{author.image}}</code> you need to use <code>{{author.profile_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-AIMG"},{"level":"error","rule":"Replace the <code>{{post.image}}</code> helper with <code>{{post.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in post context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.image}}</code> you need to use <code>{{post.feature_image}}</code>.<br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PIMG"},{"level":"error","rule":"Replace the <code>{{author.cover}}</code> helper with <code>{{author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{author.cover}}</code> you need to use <code>{{author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-AC"},{"level":"error","rule":"Replace the <code>{{tag.image}}</code> helper with <code>{{tag.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tag.image}}</code> you need to use <code>{{tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-TIMG"},{"level":"error","rule":"Replace the <code>{{tags.[#].image}}</code> helper with <code>{{tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tags.[#].image}}</code> you need to use <code>{{tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-TSIMG"},{"level":"error","rule":"Replace the <code>{{post.author.image}}</code> helper with <code>{{post.author.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.author.image}}</code> you need to use <code>{{post.author.feature_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PAIMG"},{"level":"error","rule":"Replace the <code>{{post.author.cover}}</code> helper with <code>{{post.author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute in author context was replaced with <code>cover_image</code>.<br>Instead of <code>{{post.author.cover}}</code> you need to use <code>{{post.author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PAC"},{"level":"error","rule":"Replace the <code>{{post.tags.[#].image}}</code> helper with <code>{{post.tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.tags.[#].image}}</code> you need to use <code>{{post.tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PTIMG"},{"level":"error","rule":"Replace the <code>{{#if author.cover}}</code> helper with <code>{{#if author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if author.cover}}</code> you need to use <code>{{#if author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-AC"},{"level":"error","rule":"Replace the <code>{{#if author.image}}</code> helper with <code>{{#if author.profile_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>profile_image</code>.<br>Instead of <code>{{#if author.image}}</code> you need to use <code>{{#if author.profile_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-AIMG"},{"level":"error","rule":"Replace the <code>{{#if tag.image}}</code> helper with <code>{{#if tag.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tag.image}}</code> you need to use <code>{{#if tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-TIMG"},{"level":"error","rule":"Replace the <code>{{#if post.tags.[#].image}}</code> helper with <code>{{#if post.tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if post.tags.[#].image}}</code> you need to use <code>{{#if post.tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-PTIMG"},{"level":"error","rule":"Replace the <code>{{#if tags.[#].image}}</code> helper with <code>{{#if tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tags.[#].image}}</code> you need to use <code>{{#if tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-TSIMG"},{"level":"error","rule":"Replace <code>{{@blog.posts_per_page}}</code> with <code>{{@config.posts_per_page}}</code>","details":"The global <code>{{@blog.posts_per_page}}</code> property was replaced with <code>{{@config.posts_per_page}}</code>.<br>Read <a href=\"https://themes.ghost.org/docs/config\" target=_blank>here</a> about the attribute and check <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank>here</a> where you can customise the posts per page setting, as this is now adjustable in your theme.","code":"GS001-DEPR-PPP"},{"level":"error","rule":"Replace <code>{{content words=\"0\"}}</code> with the <code>{{img_url}}</code> helper","details":"The <code>{{content words=\"0\"}}</code> hack doesn't work anymore (and was never supported). Please use the <code>{{img_url}}</code> helper to render images.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and ","code":"GS001-DEPR-C0H"},{"level":"error","rule":"Replace <code>.archive-template</code> with the <code>.paged</code> CSS class","details":"The <code>.archive-template</code> CSS class was replaced with the <code>.paged</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-AT"},{"level":"error","rule":"Replace <code>.page</code> with the <code>.page-template</code> css class","details":"The <code>.page</code> CSS class was replaced with the <code>.page-template</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-PA"},{"level":"error","rule":"Replace <code>.page-template-slug</code> with the <code>.page-slug</code> css class","details":"The <code>.page-template-slug</code> CSS class was replaced with the <code>.page-slug</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-PATS"},{"level":"error","rule":"Replace <code>{{id}}</code> with <code>{{comment_id}}</code> in Disqus embeds.","fatal":true,"details":"The output of <code>{{id}}</code> has changed between Ghost LTS and 1.0.0. This results in Disqus comments not loading on Ghost 1.0.0 posts which were imported from Ghost LTS. To resolve this, we've added a new <code>{{comment_id}}</code> helper that will output the old ID for posts that have been imported from LTS, and the new ID for new posts. The Disqus embed must be updated from <code>this.page.identifier = 'ghost-{{id}}';</code> to <code>this.page.identifier = 'ghost-{{comment_id}}';</code> to ensure Disqus continues to work.","code":"GS002-DISQUS-ID"},{"level":"recommendation","rule":"The output of <code>{{id}}</code> changed between Ghost LTS and 1.0.0, you may need to use <code>{{comment_id}}</code> instead.","details":"The output of <code>{{id}}</code> has changed between Ghost LTS and 1.0.0. <code>{{id}}</code> used to output an incrementing integer ID, and will now output an ObjectID. We've added a new <code>{{comment_id}}</code> helper that will output the old ID for posts that have been imported from LTS, and the new ID for new posts. If you need the old ID to be output on imported posts, then you will need to use <code>{{comment_id}}</code> rather than <code>{{id}}</code>.","code":"GS002-ID-HELPER"},{"level":"error","rule":"Templates must contain valid Handlebars","fatal":true,"details":"Oops! You seemed to have used invalid Handlebars syntax. This mostly happens, when you use a helper that is not supported.<br>See the full list of available helpers <a href=\"https://themes.ghost.org/docs/helpers\" target=_blank>here</a>.","code":"GS005-TPL-ERR"},{"level":"error","rule":"<code>package.json</code> file should be present","details":"You should provide a <code>package.json</code> file for your theme.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-REQ"},{"level":"error","rule":"<code>package.json</code> file can be parsed","details":"Your <code>package.json</code> file couldn't be parsed. This is mostly caused by a missing or unnecessary <code>','</code> or the wrong usage of <code>'\"\"'</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> for further information.<br>A good reference for your <code>package.json</code> file is always the latest version of  <a href=\"https://github.com/TryGhost/Casper/blob/master/package.json\" target=_blank>Casper</a>.","code":"GS010-PJ-PARSE"},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> is required","details":"Please add the property <code>\"name\"</code> to your <code>package.json</code>. E.g. <code>{\"name\": \"my-theme\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-NAME-REQ"},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> must be hyphenated","details":"The property <code>\"name\"</code> in your <code>package.json</code> file must be hyphenated.<br>Please use <code>\"my-theme\"</code> rather than <code>\"My Theme\"</code> or <code>\"my theme\"</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--name-\" target=_blank><code>package.json</code> documentation</a> for further information.","code":"GS010-PJ-NAME-HY"},{"level":"error","rule":"<code>package.json</code> property <code>\"version\"</code> must be semver compliant","details":"The property <code>\"version\"</code> in your <code>package.json</code> file must be semver compliant. E.g. <code>{\"version\": \"1.0.0\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--version-\" target=_blank><code>package.json</code> documentation</a> for further information.","code":"GS010-PJ-VERSION-SEM"},{"level":"error","rule":"<code>package.json</code> property <code>\"version\"</code> is required","details":"Please add the property <code>\"version\"</code> to your <code>package.json</code>. E.g. <code>{\"version\": \"1.0.0\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-VERSION-REQ"},{"level":"error","rule":"A template file called <code>index.hbs</code> must be present","fatal":true,"details":"Your theme must have a template file called <code>index.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the required template structure and <code>index.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-index-hbs\" target=_blank>particular</a>.","code":"GS020-INDEX-REQ"},{"level":"error","rule":"A template file called <code>post.hbs</code> must be present","fatal":true,"details":"Your theme must have a template file called <code>index.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the required template structure and <code>post.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-post-hbs\" target=_blank>particular</a>.","code":"GS020-POST-REQ"},{"level":"recommendation","rule":"Provide a default layout template called default.hbs","details":"It is recommended that your theme has a template file called <code>default.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the recommended template structure and <code>default.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-default-hbs\" target=_blank>particular</a>.","code":"GS020-DEF-REC"},{"level":"warning","rule":"Assets such as CSS & JS must use the <code>{{asset}}</code> helper","details":"The listed files should be included using the <code>{{asset}}</code> helper.<br>For more information, please see the <a href=\"https://themes.ghost.org/docs/asset\" target=_blank><code>{{asset}}</code> helper documentation</a>.","code":"GS030-ASSET-REQ"},{"level":"error","rule":"Symlinks in themes are not allowed","fatal":true,"details":"Symbolic links in themes are not allowed. Please use the <code>{{asset}}</code> helper.<br>For more information, please see the <a href=\"https://themes.ghost.org/docs/asset\" target=_blank><code>{{asset}}</code> helper documentation</a>.","code":"GS030-ASSET-SYM"},{"level":"warning","rule":"The helper <code>{{ghost_head}}</code> should be present","details":"The <code>{{ghost_head}}</code> helper should be present in your theme. It outputs many useful things, such as <a href=\"https://help.ghost.org/hc/en-us/articles/223403488-Code-Injection\" target=_blank>\"code injection\" scripts</a>, structured data, canonical links, meta description etc.<br>The helper belongs just before the <code></head></code> tag in your <code>default.hbs</code> template.<br>For more details, please see the <a href=\"https://themes.ghost.org/docs/ghost_head\" target=_blank><code>{{ghost_head}}</code> helper documentation</a>.","code":"GS040-GH-REQ"},{"level":"warning","rule":"The helper <code>{{ghost_foot}}</code> should be present","details":"The <code>{{ghost_foot}}</code> helper should be present in your theme. It outputs scripts as saved in <a href=\"https://help.ghost.org/hc/en-us/articles/223403488-Code-Injection\" target=_blank>\"code injection\" scripts</a>.<br>The helper belongs just before the <code></body></code> tag in your <code>default.hbs</code> template.<br>For more details, please see the <a href=\"https://themes.ghost.org/docs/ghost_foot\" target=_blank><code>{{ghost_foot}}</code> helper documentation</a>.","code":"GS040-GF-REQ"}],"error":[{"fatal":true,"level":"error","rule":"Replace the <code>{{image}}</code> helper with <code>{{img_url feature_image}}</code> or <code>{{img_url profile_image}}</code>","details":"The <code>{{image}}</code> helper was replaced with <code>{{img_url}}</code>.<br>Depending on the context of the <code>{{img_url}}</code> helper you would need to use e. g. <br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{img_url feature_image}}<br>{{/post}}</code><br><br>to render the feature image of the blog post.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and read more about Ghost's usage of contexts <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"partials/loop_post.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"partials/prev_next_post.hbs","message":"Please remove or replace {{image}} from this template"}],"code":"GS001-DEPR-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{cover}}</code> helper with <code>{{cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To render the cover image in author context, you need to use<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To render the cover image of your blog, just use <code>{{@blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{cover}} from this template"}],"code":"GS001-DEPR-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{@blog.cover}}</code> helper with <code>{{@blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{@blog.cover}}</code> you need to use <code>{{@blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"default.hbs","message":"Please remove or replace {{@blog.cover}} from this template"}],"code":"GS001-DEPR-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if image}}</code> helper with <code>{{#if feature_image}}</code>, or <code>{{#if profile_image}}</code>","details":"The <code>image</code> attribute was replaced with <code>feature_image</code> and <code>profile_image</code>.<br>Depending on the <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>context</a> you will need to replace it like this:<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/post}}</code><br><br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.<br><br><code>{{#tag}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/tag}}</code><br><br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"partials/loop_post.hbs","message":"Please remove or replace {{#if image}} from this template"}],"code":"GS001-DEPR-CON-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if cover}}</code> helper with <code>{{#if cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To check for the cover image in author context, you need to use<br><br><code>{{#if cover_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/if}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To check for the cover image of your blog, just use <code>{{#if @blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if cover}} from this template"}],"code":"GS001-DEPR-CON-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if @blog.cover}}</code> helper with <code>{{#if @blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if @blog.cover}}</code> you need to use <code>{{#if @blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"default.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"}],"code":"GS001-DEPR-CON-BC"}],"warning":[],"recommendation":[],"missing":[{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> must be lowercase","details":"The property <code>\"name\"</code> in your <code>package.json</code> file must be lowercase.<br>Good examples are: <code>\"my-theme\"</code> or <code>\"theme\"</code> rather than <code>\"My Theme\"</code> or <code>\"Theme\"</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--name-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"author.email\"</code> must be valid","details":"The property <code>\"author.email\"</code> in your <code>package.json</code> file must a valid email. E.g. <code>{\"author\": {\"email\": \"hello@example.com\"}}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--author-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"recommendation","rule":"<code>package.json</code> property <code>\"config.posts_per_page\"</code> is recommended. Otherwise, it falls back to 5","details":"Please add <code>\"posts_per_page\"</code> to your <code>package.json</code>. E.g. <code>{\"config\": { \"posts_per_page\": 5}}</code>.<br>If no <code>\"posts_per_page\"</code> property is provided, Ghost will use its default setting of 5 posts per page.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"config.posts_per_page\"</code> must be a number above 0","details":"The property <code>\"config.posts_per_page\"</code> in your <code>package.json</code> file must be a number greater than zero. E.g. <code>{\"config\": { \"posts_per_page\": 5}}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"author.email\"</code> is required","details":"Please add the property <code>\"author.email\"</code> to your <code>package.json</code>. E.g. <code>{\"author\": {\"email\": \"hello@example.com\"}}</code>.<br>The email is required so that themes which are distributed (either free or paid) have a method of contacting the author so users can get support and more importantly so that Ghost can reach out about breaking changes and security updates.<br>The <code>package.json</code> file is <strong>NOT</strong> accessible when uploaded to a blog so if the theme is only uploaded to a single blog, no one will see this email address.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended."}],"score":{"value":85,"level":"error"},"hasFatalErrors":true},"partials":["addons/comment","addons/share","addons/widgets","empty_posts","footer","loop_post","navigation","pagination","prev_next_post"],"helpers":{"helperMissing":["author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","default.hbs","default.hbs","default.hbs","default.hbs","index.hbs","index.hbs","partials/addons/share.hbs","partials/loop_post.hbs","partials/loop_post.hbs","partials/loop_post.hbs","partials/navigation.hbs","partials/navigation.hbs","partials/pagination.hbs","partials/pagination.hbs","partials/pagination.hbs","partials/prev_next_post.hbs","partials/prev_next_post.hbs","partials/prev_next_post.hbs","post.hbs","post.hbs","post.hbs","tag.hbs","tag.hbs"],"post_class":["author.hbs","post.hbs"],"name":["author.hbs","post.hbs"],"plural":["author.hbs"],"cover":["author.hbs"],"image":["author.hbs","partials/loop_post.hbs","partials/prev_next_post.hbs","partials/prev_next_post.hbs"],"location":["author.hbs"],"bio":["author.hbs"],"website":["author.hbs","author.hbs"],"author":["author.hbs","author.hbs","post.hbs"],"blockHelperMissing":["author.hbs","partials/prev_next_post.hbs","post.hbs"],"meta_title":["default.hbs"],"body_class":["default.hbs","default.hbs","index.hbs","tag.hbs"],"is":["default.hbs"],"asset":["default.hbs","default.hbs","default.hbs","default.hbs","default.hbs","default.hbs","default.hbs","default.hbs","default.hbs","default.hbs","default.hbs","default.hbs","partials/loop_post.hbs"],"ghost_head":["default.hbs"],"navigation":["default.hbs"],"body":["default.hbs"],"ghost_foot":["default.hbs"],"foreach":["index.hbs","partials/navigation.hbs","post.hbs","tag.hbs"],"pagination":["index.hbs","tag.hbs"],"url":["partials/addons/share.hbs","partials/addons/share.hbs","partials/addons/share.hbs","partials/addons/share.hbs","partials/loop_post.hbs","partials/navigation.hbs","partials/prev_next_post.hbs","partials/prev_next_post.hbs","post.hbs"],"title":["partials/addons/share.hbs","partials/loop_post.hbs","partials/prev_next_post.hbs","partials/prev_next_post.hbs","post.hbs"],"excerpt":["partials/loop_post.hbs"],"date":["partials/loop_post.hbs","post.hbs"],"label":["partials/navigation.hbs"],"page_url":["partials/pagination.hbs","partials/pagination.hbs"],"page":["partials/pagination.hbs"],"pages":["partials/pagination.hbs"],"next_post":["partials/prev_next_post.hbs","partials/prev_next_post.hbs"],"prev_post":["partials/prev_next_post.hbs","partials/prev_next_post.hbs"],"content":["post.hbs"],"post":["post.hbs","post.hbs"]},"name":"Mneme","version":"0.3.5"},"stack":"ThemeValidationError: Theme is not compatible or contains errors.\n    at ThemeValidationError.GhostError (/home/www/ghost/core/server/errors.js:9:26)\n    at new ThemeValidationError (/home/www/ghost/core/server/errors.js:52:20)\n    at resultHandler (/home/www/ghost/core/server/themes/validate.js:32:31)\n    at tryCatcher (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:510:31)\n    at Promise._settlePromise (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:567:18)\n    at Promise._settlePromise0 (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:612:10)\n    at Promise._settlePromises (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:691:18)\n    at Async._drainQueue (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:138:16)\n    at Async._drainQueues (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:148:10)\n    at Immediate.Async.drainQueues (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:17:14)\n    at runCallback (timers.js:672:20)\n    at tryOnImmediate (timers.js:645:5)\n    at processImmediate [as _immediateCallback] (timers.js:617:5)","errorDetails":[{"fatal":true,"level":"error","rule":"Replace the <code>{{image}}</code> helper with <code>{{img_url feature_image}}</code> or <code>{{img_url profile_image}}</code>","details":"The <code>{{image}}</code> helper was replaced with <code>{{img_url}}</code>.<br>Depending on the context of the <code>{{img_url}}</code> helper you would need to use e. g. <br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{img_url feature_image}}<br>{{/post}}</code><br><br>to render the feature image of the blog post.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and read more about Ghost's usage of contexts <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"partials/loop_post.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"partials/prev_next_post.hbs","message":"Please remove or replace {{image}} from this template"}],"code":"GS001-DEPR-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{cover}}</code> helper with <code>{{cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To render the cover image in author context, you need to use<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To render the cover image of your blog, just use <code>{{@blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{cover}} from this template"}],"code":"GS001-DEPR-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{@blog.cover}}</code> helper with <code>{{@blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{@blog.cover}}</code> you need to use <code>{{@blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"default.hbs","message":"Please remove or replace {{@blog.cover}} from this template"}],"code":"GS001-DEPR-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if image}}</code> helper with <code>{{#if feature_image}}</code>, or <code>{{#if profile_image}}</code>","details":"The <code>image</code> attribute was replaced with <code>feature_image</code> and <code>profile_image</code>.<br>Depending on the <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>context</a> you will need to replace it like this:<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/post}}</code><br><br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.<br><br><code>{{#tag}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/tag}}</code><br><br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"partials/loop_post.hbs","message":"Please remove or replace {{#if image}} from this template"}],"code":"GS001-DEPR-CON-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if cover}}</code> helper with <code>{{#if cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To check for the cover image in author context, you need to use<br><br><code>{{#if cover_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/if}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To check for the cover image of your blog, just use <code>{{#if @blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if cover}} from this template"}],"code":"GS001-DEPR-CON-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if @blog.cover}}</code> helper with <code>{{#if @blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if @blog.cover}}</code> you need to use <code>{{#if @blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"default.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"}],"code":"GS001-DEPR-CON-BC"}]},"msg":"Theme is not compatible or contains errors.","time":"2017-09-29T03:46:03.749Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b83decd0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"28ms"},"msg":"","time":"2017-09-29T03:46:04.986Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b8ac3f00-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"35ms"},"msg":"","time":"2017-09-29T03:46:05.716Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b8aba2c0-a4c8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"117d-qYEwe51bKFAmtG7OOM2wKf7kSlA\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"40ms"},"msg":"","time":"2017-09-29T03:46:05.717Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"bd3c4e70-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"44ms"},"msg":"","time":"2017-09-29T03:46:13.380Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"be36db10-a4c8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"117d-qYEwe51bKFAmtG7OOM2wKf7kSlA\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"35ms"},"msg":"","time":"2017-09-29T03:46:15.013Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"be37ec80-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"30ms"},"msg":"","time":"2017-09-29T03:46:15.015Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":50,"req":{"meta":{"requestId":"c013ff80-a4c8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/upload/","method":"POST","originalUrl":"/ghost/api/v0.1/themes/upload/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"418391","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"multipart/form-data; boundary=----WebKitFormBoundaryK6DyUOZrBO2tl5l7","accept":"text/plain, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","content-type":"application/json; charset=utf-8","etag":"W/\"1a207-fBD1NWBH0A8kc4BiW5QyPxq/C1Q\"","content-encoding":"gzip"},"statusCode":422,"responseTime":"126ms"},"err":{"id":"c0267610-a4c8-11e7-ad29-7b3837c864ae","domain":"http://47.95.197.107:2368","code":null,"name":"ThemeValidationError","statusCode":422,"level":"normal","message":"Theme is not compatible or contains errors.","context":{"path":"/tmp/589a96f3-5785-4474-b1ef-cc43c9fdb269/apparition-master","files":[{"file":".bowerrc","ext":".bowerrc"},{"file":".gitignore","ext":".gitignore"},{"file":"README.md","ext":".md"},{"file":"assets/css/app.css","ext":".css"},{"file":"assets/css/theme.css","ext":".css"},{"file":"assets/fonts/bootstrap/glyphicons-halflings-regular.eot","ext":".eot"},{"file":"assets/fonts/bootstrap/glyphicons-halflings-regular.svg","ext":".svg"},{"file":"assets/fonts/bootstrap/glyphicons-halflings-regular.ttf","ext":".ttf"},{"file":"assets/fonts/bootstrap/glyphicons-halflings-regular.woff","ext":".woff"},{"file":"assets/fonts/bootstrap/glyphicons-halflings-regular.woff2","ext":".woff2"},{"file":"assets/fonts/casper-icons.eot","ext":".eot"},{"file":"assets/fonts/casper-icons.svg","ext":".svg"},{"file":"assets/fonts/casper-icons.ttf","ext":".ttf"},{"file":"assets/fonts/casper-icons.woff","ext":".woff"},{"file":"assets/js/app.js","ext":".js"},{"file":"assets/js/app.js.map","ext":".map"},{"file":"author.hbs","ext":".hbs","content":"{{!< default}}\n{{! The tag above means - insert everything in this file into the {body} of the default.hbs template }}\n\n{{! The big featured header }}\n\n{{! Everything inside the #author tags pulls data from the author }}\n    {{#author}}\n    <header class=\"main-header author-head {{#if cover}}\" style=\"background-image: url({{cover}}){{else}}no-cover{{/if}}\">\n        <div class=\"container\">\n            <div class=\"row\">       \n                <nav class=\"main-nav overlay clearfix\">\n                    {{#if @blog.logo}}<a class=\"blog-logo\" href=\"{{@blog.url}}\"><img src=\"{{@blog.logo}}\" alt=\"{{@blog.title}}\" /></a>{{/if}}\n                    {{#if @blog.navigation}}\n                        <a type=\"button\" class=\"menu-button\" href=\"#\">\n                            <span class=\"sr-only\">Toggle navigation</span>\n                            <span class=\"icon-bar\"></span>\n                            <span class=\"icon-bar\"></span>\n                            <span class=\"icon-bar\"></span>\n                        </a>\n                    {{/if}}\n                </nav>\n            </div>\n        </div>\n    </header>\n\n    <section class=\"author-profile inner\">\n        <div class=\"container\">\n            <div class=\"row\">\n                <div class=\"author-wrap\">\n                    {{#if image}}\n                    <figure class=\"author-image\">\n                        <div class=\"img\" style=\"background-image: url({{image}})\"><span class=\"hidden\">{{name}}'s Picture</span></div>\n                    </figure>\n                    {{/if}}\n                    <h1 class=\"author-title\">{{name}}</h1>\n                    {{#if bio}}\n                        <h2 class=\"author-bio\">{{bio}}</h2>\n                    {{/if}}\n                    <div class=\"author-meta\">\n                        {{#if location}}<span class=\"author-location icon-location\">{{location}}</span>{{/if}}\n                        {{#if website}}<span class=\"author-link icon-link\"><a href=\"{{website}}\">{{website}}</a></span>{{/if}}\n                        <span class=\"author-stats\"><i class=\"icon-stats\"></i> {{plural ../pagination.total empty='No posts' singular='% post' plural='% posts'}}</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n    {{/author}}\n\n    {{! The main content area on the homepage }}\n    <main class=\"content\" role=\"main\">\n        <div class=\"container\">\n            <div class=\"row\">\n                {{! The tag below includes the post loop - partials/loop.hbs }}\n                {{> \"loop\"}}\n            </div>\n        </div>\n    </main>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=container.escapeExpression;\n\n  return \"    <header class=\\\"main-header author-head \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.cover : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0, blockParams, depths),\"inverse\":container.program(4, data, 0, blockParams, depths),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n        <div class=\\\"container\\\">\\n            <div class=\\\"row\\\">       \\n                <nav class=\\\"main-nav overlay clearfix\\\">\\n                    \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.navigation),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"                </nav>\\n            </div>\\n        </div>\\n    </header>\\n\\n    <section class=\\\"author-profile inner\\\">\\n        <div class=\\\"container\\\">\\n            <div class=\\\"row\\\">\\n                <div class=\\\"author-wrap\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"                    <h1 class=\\\"author-title\\\">\"\n    + alias3(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.bio : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(12, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"                    <div class=\\\"author-meta\\\">\\n                        \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.location : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(14, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n                        \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.website : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(16, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n                        <span class=\\\"author-stats\\\"><i class=\\\"icon-stats\\\"></i> \"\n    + alias3((helpers.plural || (depth0 && depth0.plural) || alias2).call(alias1,((stack1 = (depths[1] != null ? depths[1].pagination : depths[1])) != null ? stack1.total : stack1),{\"name\":\"plural\",\"hash\":{\"plural\":\"% posts\",\"singular\":\"% post\",\"empty\":\"No posts\"},\"data\":data}))\n    + \"</span>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </section>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(((helper = (helper = helpers.cover || (depth0 != null ? depth0.cover : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"cover\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<a class=\\\"blog-logo\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\"><img src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"\\\" /></a>\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    return \"                        <a type=\\\"button\\\" class=\\\"menu-button\\\" href=\\\"#\\\">\\n                            <span class=\\\"sr-only\\\">Toggle navigation</span>\\n                            <span class=\\\"icon-bar\\\"></span>\\n                            <span class=\\\"icon-bar\\\"></span>\\n                            <span class=\\\"icon-bar\\\"></span>\\n                        </a>\\n\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"                    <figure class=\\\"author-image\\\">\\n                        <div class=\\\"img\\\" style=\\\"background-image: url(\"\n    + alias4(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\\\"><span class=\\\"hidden\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"'s Picture</span></div>\\n                    </figure>\\n\";\n},\"12\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"                        <h2 class=\\\"author-bio\\\">\"\n    + container.escapeExpression(((helper = (helper = helpers.bio || (depth0 != null ? depth0.bio : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"bio\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h2>\\n\";\n},\"14\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<span class=\\\"author-location icon-location\\\">\"\n    + container.escapeExpression(((helper = (helper = helpers.location || (depth0 != null ? depth0.location : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"location\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span>\";\n},\"16\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<span class=\\\"author-link icon-link\\\"><a href=\\\"\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></span>\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, helper, options, buffer = \n  \"\\n\\n\";\n  stack1 = ((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"author\",\"hash\":{},\"fn\":container.program(1, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.author) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"\\n    <main class=\\\"content\\\" role=\\\"main\\\">\\n        <div class=\\\"container\\\">\\n            <div class=\\\"row\\\">\\n\"\n    + ((stack1 = container.invokePartial(partials.loop,depth0,{\"name\":\"loop\",\"data\":data,\"indent\":\"                \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"            </div>\\n        </div>\\n    </main>\\n\";\n},\"usePartial\":true,\"useData\":true,\"useDepths\":true}"},{"file":"bower.json","ext":".json"},{"file":"default.hbs","ext":".hbs","content":"<!DOCTYPE html>\n<html>\n<head>\n    {{! Document Settings }}\n    <meta charset=\"utf-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n\n    {{! Page Meta }}\n    <title>{{meta_title}}</title>\n    <meta name=\"description\" content=\"{{meta_description}}\" />\n\n    <meta name=\"HandheldFriendly\" content=\"True\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n\n    <link rel=\"shortcut icon\" href=\"{{asset \"favicon.ico\"}}\">\n\n    {{! Styles'n'Scripts }}\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"{{asset \"css/app.css\"}}\" />\n\n    {{! Ghost outputs important style and meta data with this tag }}\n    {{ghost_head}}\n</head>\n<body class=\"{{body_class}} nav-closed\">\n\n    {{navigation}}\n\n    <div class=\"site-wrapper\">\n\n        {{! Everything else gets inserted here }}\n        {{{body}}}\n\n        <footer class=\"site-footer clearfix\">\n            <div class=\"container\">\n                <div class=\"row\">\n                    <section class=\"copyright\"><a href=\"{{@blog.url}}\">{{@blog.title}}</a> &copy; {{date format=\"YYYY\"}}</section>\n                </div>\n            </div>\n        </footer>\n    </div>\n\n    {{! Ghost outputs important scripts and data with this tag }}\n    {{ghost_foot}}\n\n\n    <script type=\"text/javascript\" src=\"{{asset \"js/app.js\"}}\"></script>\n\n</body>\n</html>\n","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression, alias5=container.lambda;\n\n  return \"<!DOCTYPE html>\\n<html>\\n<head>\\n    <meta charset=\\\"utf-8\\\" />\\n    <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=edge\\\" />\\n\\n    <title>\"\n    + alias4(((helper = (helper = helpers.meta_title || (depth0 != null ? depth0.meta_title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"meta_title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</title>\\n    <meta name=\\\"description\\\" content=\\\"\"\n    + alias4(((helper = (helper = helpers.meta_description || (depth0 != null ? depth0.meta_description : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"meta_description\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" />\\n\\n    <meta name=\\\"HandheldFriendly\\\" content=\\\"True\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" />\\n\\n    <link rel=\\\"shortcut icon\\\" href=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"favicon.ico\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\">\\n\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"css/app.css\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\" />\\n\\n    \"\n    + alias4(((helper = (helper = helpers.ghost_head || (depth0 != null ? depth0.ghost_head : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"ghost_head\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n</head>\\n<body class=\\\"\"\n    + alias4(((helper = (helper = helpers.body_class || (depth0 != null ? depth0.body_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"body_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \" nav-closed\\\">\\n\\n    \"\n    + alias4(((helper = (helper = helpers.navigation || (depth0 != null ? depth0.navigation : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"navigation\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\\n    <div class=\\\"site-wrapper\\\">\\n\\n        \"\n    + ((stack1 = ((helper = (helper = helpers.body || (depth0 != null ? depth0.body : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"body\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"\\n\\n        <footer class=\\\"site-footer clearfix\\\">\\n            <div class=\\\"container\\\">\\n                <div class=\\\"row\\\">\\n                    <section class=\\\"copyright\\\"><a href=\\\"\"\n    + alias4(alias5(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\">\"\n    + alias4(alias5(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"</a> &copy; \"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"YYYY\"},\"data\":data}))\n    + \"</section>\\n                </div>\\n            </div>\\n        </footer>\\n    </div>\\n\\n    \"\n    + alias4(((helper = (helper = helpers.ghost_foot || (depth0 != null ? depth0.ghost_foot : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"ghost_foot\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\\n\\n    <script type=\\\"text/javascript\\\" src=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"js/app.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n\\n</body>\\n</html>\\n\";\n},\"useData\":true}"},{"file":"error.hbs","ext":".hbs","content":"{{!< default}}\n\n{{! This is a page template. A page outputs content just like any other post, and has all the same\n    attributes by default, but you can also customise it to behave differently if you prefer. }}\n\n{{! Everything inside the #post tags pulls data from the page }}\n\n\n<header class=\"main-header post-head\">\n    <div class=\"container\">\n        <div class=\"row\">\n            <nav class=\"main-nav {{#if image}}overlay{{/if}} clearfix\">\n                {{#if @blog.logo}}<a class=\"blog-logo\" href=\"{{@blog.url}}\"><img src=\"{{@blog.logo}}\" alt=\"{{@blog.title}}\" /></a>{{/if}}\n                {{#if @blog.navigation}}\n                    <a type=\"button\" class=\"menu-button\" href=\"#\">\n                        <span class=\"sr-only\">Toggle navigation</span>\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                    </a>\n                {{/if}}\n            </nav>\n        </div>\n    </div>\n</header>\n\n<main class=\"content error-page\" role=\"main\">\n        <header class=\"post-header no-cover\">\n            <h1 class=\"post-title\">404. Sorry Page can not be found</h1>\n        </header>\n        <div class=\"container\">\n            <div class=\"row\">\n                <article class=\"post page\">\n                    <section class=\"post-content\">\n                        <p>Sorry the page you are looking for can not be found</p>\n                    </section>\n                </article>\n            </div>\n        </div>\n</main>\n\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    return \"overlay\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<a class=\\\"blog-logo\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\"><img src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"\\\" /></a>\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    return \"                    <a type=\\\"button\\\" class=\\\"menu-button\\\" href=\\\"#\\\">\\n                        <span class=\\\"sr-only\\\">Toggle navigation</span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                    </a>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : {};\n\n  return \"\\n\\n\\n\\n<header class=\\\"main-header post-head\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n            <nav class=\\\"main-nav \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \" clearfix\\\">\\n                \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.navigation),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"            </nav>\\n        </div>\\n    </div>\\n</header>\\n\\n<main class=\\\"content error-page\\\" role=\\\"main\\\">\\n        <header class=\\\"post-header no-cover\\\">\\n            <h1 class=\\\"post-title\\\">404. Sorry Page can not be found</h1>\\n        </header>\\n        <div class=\\\"container\\\">\\n            <div class=\\\"row\\\">\\n                <article class=\\\"post page\\\">\\n                    <section class=\\\"post-content\\\">\\n                        <p>Sorry the page you are looking for can not be found</p>\\n                    </section>\\n                </article>\\n            </div>\\n        </div>\\n</main>\\n\\n\";\n},\"useData\":true}"},{"file":"gulpfile.js","ext":".js"},{"file":"index.hbs","ext":".hbs","content":"{{!< default}}\n{{! The tag above means - insert everything in this file into the {body} of the default.hbs template }}\n\n{{! The big featured header }}\n<header class=\"main-header\">\n    <div class=\"container\">\n        <div class=\"row\">\n            <nav class=\"main-nav overlay clearfix clearfix2\">\n                {{#if @blog.logo}}<a class=\"blog-logo\" href=\"{{@blog.url}}\"><img src=\"{{@blog.logo}}\" alt=\"{{@blog.title}}\" /></a>{{/if}}\n                {{#if @blog.navigation}}\n\n                <a type=\"button\" class=\"menu-button\" href=\"#\">\n                    <span class=\"sr-only\">Toggle navigation</span>\n                    <span class=\"icon-bar\"></span>\n                    <span class=\"icon-bar\"></span>\n                    <span class=\"icon-bar\"></span>\n                </a>\n                {{/if}}\n            </nav>\n            <div class=\"vertical {{#if @blog.cover}}\" style=\"background-image: url({{@blog.cover}}){{else}}no-cover{{/if}}\">\n                <div class=\"main-header-content inner\">\n                    <h2 class=\"page-description\">{{@blog.description}}</h2>\n                </div>\n            </div>\n            <a class=\"scroll-down icon-arrow-left\" href=\"#content\" data-offset=\"-45\"><span class=\"hidden\">Scroll Down</span></a>\n        </div>\n    </div>\n</header>\n\n{{! The main content area on the homepage }}\n<main id=\"content\" class=\"content\" role=\"main\">\n    <div class=\"container\">\n        <div class=\"row\">\n            {{! The tag below includes the post loop - partials/loop.hbs }}\n            {{> \"loop\"}}\n        </div>\n    </div>\n</main>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<a class=\\\"blog-logo\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\"><img src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"\\\" /></a>\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"\\n                <a type=\\\"button\\\" class=\\\"menu-button\\\" href=\\\"#\\\">\\n                    <span class=\\\"sr-only\\\">Toggle navigation</span>\\n                    <span class=\\\"icon-bar\\\"></span>\\n                    <span class=\\\"icon-bar\\\"></span>\\n                    <span class=\\\"icon-bar\\\"></span>\\n                </a>\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \")\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : {};\n\n  return \"\\n<header class=\\\"main-header\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n            <nav class=\\\"main-nav overlay clearfix clearfix2\\\">\\n                \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.navigation),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"            </nav>\\n            <div class=\\\"vertical \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.program(7, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n                <div class=\\\"main-header-content inner\\\">\\n                    <h2 class=\\\"page-description\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.description), depth0))\n    + \"</h2>\\n                </div>\\n            </div>\\n            <a class=\\\"scroll-down icon-arrow-left\\\" href=\\\"#content\\\" data-offset=\\\"-45\\\"><span class=\\\"hidden\\\">Scroll Down</span></a>\\n        </div>\\n    </div>\\n</header>\\n\\n<main id=\\\"content\\\" class=\\\"content\\\" role=\\\"main\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n\"\n    + ((stack1 = container.invokePartial(partials.loop,depth0,{\"name\":\"loop\",\"data\":data,\"indent\":\"            \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"        </div>\\n    </div>\\n</main>\\n\";\n},\"usePartial\":true,\"useData\":true}"},{"file":"package.json","ext":".json"},{"file":"page.hbs","ext":".hbs","content":"{{!< default}}\n\n{{! This is a page template. A page outputs content just like any other post, and has all the same\n    attributes by default, but you can also customise it to behave differently if you prefer. }}\n\n{{! Everything inside the #post tags pulls data from the page }}\n{{#post}}\n\n<header class=\"main-header post-head\">\n    <div class=\"container\">\n        <div class=\"row\">\n            <nav class=\"main-nav {{#if image}}overlay{{/if}} clearfix\">\n                {{#if @blog.logo}}<a class=\"blog-logo\" href=\"{{@blog.url}}\"><img src=\"{{@blog.logo}}\" alt=\"{{@blog.title}}\" /></a>{{/if}}\n                {{#if @blog.navigation}}\n                    <a type=\"button\" class=\"menu-button\" href=\"#\">\n                        <span class=\"sr-only\">Toggle navigation</span>\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                    </a>\n                {{/if}}\n            </nav>\n        </div>\n    </div>\n</header>\n\n<main class=\"content\" role=\"main\">\n        <header class=\"post-header  {{#if image}}\" style=\"background-image: url({{image}}){{else}}no-cover{{/if}}\">\n            <h1 class=\"post-title\">{{title}}</h1>\n        </header>\n        <div class=\"container\">\n            <div class=\"row\">\n                <article class=\"{{post_class}}\">\n\n                    <section class=\"post-content\">\n                        {{content}}\n                    </section>\n\n                </article>\n            </div>\n        </div>\n</main>\n{{/post}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\\n<header class=\\\"main-header post-head\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n            <nav class=\\\"main-nav \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \" clearfix\\\">\\n                \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.navigation),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"            </nav>\\n        </div>\\n    </div>\\n</header>\\n\\n<main class=\\\"content\\\" role=\\\"main\\\">\\n        <header class=\\\"post-header  \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.program(10, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n            <h1 class=\\\"post-title\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n        </header>\\n        <div class=\\\"container\\\">\\n            <div class=\\\"row\\\">\\n                <article class=\\\"\"\n    + alias4(((helper = (helper = helpers.post_class || (depth0 != null ? depth0.post_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"post_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\\n                    <section class=\\\"post-content\\\">\\n                        \"\n    + alias4(((helper = (helper = helpers.content || (depth0 != null ? depth0.content : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"content\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n                    </section>\\n\\n                </article>\\n            </div>\\n        </div>\\n</main>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \"overlay\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<a class=\\\"blog-logo\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\"><img src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"\\\" /></a>\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    return \"                    <a type=\\\"button\\\" class=\\\"menu-button\\\" href=\\\"#\\\">\\n                        <span class=\\\"sr-only\\\">Toggle navigation</span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                    </a>\\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, buffer = \n  \"\\n\\n\";\n  stack1 = ((helper = (helper = helpers.post || (depth0 != null ? depth0.post : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"post\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.post) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"useData\":true}"},{"file":"partials/loop.hbs","ext":".hbs","content":"{{! Previous/next page links - only displayed on page 2+ }}\n\n\n{{! This is the post loop - each post will be output using this markup }}\n{{#foreach posts}}\n<article class=\"{{post_class}}\">\n    <div class=\"post-inner-wrap\">\n        <header class=\"post-header\">\n            <h2 class=\"post-title\"><a href=\"{{url}}\">{{{title}}}</a></h2>\n        </header>\n        <section class=\"post-excerpt\">\n            <p>{{excerpt words=\"26\"}} <a class=\"read-more\" href=\"{{url}}\">&raquo;</a></p>\n        </section>\n        <footer class=\"post-meta\">\n            <time class=\"post-date\" datetime=\"{{date format='YYYY-MM-DD'}}\">{{date format=\"DD MMMM YYYY\"}}</time>\n        </footer>\n    </div>\n</article>\n{{/foreach}}\n\n{{! Previous/next page links - displayed on every page }}\n{{pagination}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<article class=\\\"\"\n    + alias4(((helper = (helper = helpers.post_class || (depth0 != null ? depth0.post_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"post_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n    <div class=\\\"post-inner-wrap\\\">\\n        <header class=\\\"post-header\\\">\\n            <h2 class=\\\"post-title\\\"><a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + ((stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"</a></h2>\\n        </header>\\n        <section class=\\\"post-excerpt\\\">\\n            <p>\"\n    + alias4((helpers.excerpt || (depth0 && depth0.excerpt) || alias2).call(alias1,{\"name\":\"excerpt\",\"hash\":{\"words\":\"26\"},\"data\":data}))\n    + \" <a class=\\\"read-more\\\" href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">&raquo;</a></p>\\n        </section>\\n        <footer class=\\\"post-meta\\\">\\n            <time class=\\\"post-date\\\" datetime=\\\"\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"YYYY-MM-DD\"},\"data\":data}))\n    + \"\\\">\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"DD MMMM YYYY\"},\"data\":data}))\n    + \"</time>\\n        </footer>\\n    </div>\\n</article>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing;\n\n  return \"\\n\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || alias2).call(alias1,(depth0 != null ? depth0.posts : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + container.escapeExpression(((helper = (helper = helpers.pagination || (depth0 != null ? depth0.pagination : depth0)) != null ? helper : alias2),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"pagination\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\";\n},\"useData\":true}"},{"file":"partials/navigation.hbs","ext":".hbs","content":"<div class=\"nav\">\n    <a href=\"#\" class=\"nav-close\">\n        <span class=\"hidden\">Close</span>\n    </a>\n    <ul>\n        {{#foreach navigation}}\n            <li class=\"nav-{{slug}}{{#if current}} nav-current{{/if}}\" role=\"presentation\"><a href=\"{{url absolute=\"true\"}}\">{{label}}</a></li>\n        {{/foreach}}\n    </ul>\n    <a class=\"subscribe-button icon-feed\" href=\"{{@blog.url}}/rss/\">Subscribe</a>\n</div>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"            <li class=\\\"nav-\"\n    + alias4(((helper = (helper = helpers.slug || (depth0 != null ? depth0.slug : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"slug\",\"hash\":{},\"data\":data}) : helper)))\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.current : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\" role=\\\"presentation\\\"><a href=\\\"\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\">\"\n    + alias4(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"label\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></li>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \" nav-current\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"nav\\\">\\n    <a href=\\\"#\\\" class=\\\"nav-close\\\">\\n        <span class=\\\"hidden\\\">Close</span>\\n    </a>\\n    <ul>\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.navigation : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"    </ul>\\n    <a class=\\\"subscribe-button icon-feed\\\" href=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"/rss/\\\">Subscribe</a>\\n</div>\\n\";\n},\"useData\":true}"},{"file":"post.hbs","ext":".hbs","content":"{{!< default}}\n\n{{! The comment above \"< default\" means - insert everything in this file into\n    the {body} of the default.hbs template, which contains our header/footer. }}\n\n{{! Everything inside the #post tags pulls data from the post }}\n{{#post}}\n\n<header class=\"main-header post-head\">\n    <div class=\"container\">\n        <div class=\"row\">\n            <nav class=\"main-nav {{#if image}}overlay{{/if}} clearfix\">\n                {{#if @blog.logo}}<a class=\"blog-logo\" href=\"{{@blog.url}}\"><img src=\"{{@blog.logo}}\" alt=\"{{@blog.title}}\" /></a>{{/if}}\n                {{#if @blog.navigation}}\n                    <a type=\"button\" class=\"menu-button\" href=\"#\">\n                        <span class=\"sr-only\">Toggle navigation</span>\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                    </a>\n                {{/if}}\n            </nav>\n        </div>\n    </div>\n</header>\n\n<main class=\"content\" role=\"main\">\n    \n     <header class=\"post-header {{#if image}}\" style=\"background-image: url({{image}}){{else}}no-cover{{/if}}\">\n        <h1 class=\"post-title\">{{title}}</h1>\n        <section class=\"post-meta\">\n            <time class=\"post-date\" datetime=\"{{date format='YYYY-MM-DD'}}\">{{date format=\"DD MMMM YYYY\"}}</time>\n        </section>\n    </header>   \n\n    <div class=\"container\">\n\n        <div class=\"row\">\n\n            <article class=\"{{post_class}}\">\n\n                <section class=\"post-content\">\n                    {{content}}\n                </section>\n\n                <footer class=\"post-footer\">\n\n                    <section class=\"share\">\n                        <h4>Share this post</h4>\n                        <a class=\"fa fa-twitter\" href=\"https://twitter.com/share?text={{encode title}}&amp;url={{url absolute=\"true\"}}\"\n                            onclick=\"window.open(this.href, 'twitter-share', 'width=550,height=235');return false;\">\n                            <span class=\"hidden\">Twitter</span>\n                        </a>\n                        <a class=\"fa fa-facebook\" href=\"https://www.facebook.com/sharer/sharer.php?u={{url absolute=\"true\"}}\"\n                            onclick=\"window.open(this.href, 'facebook-share','width=580,height=296');return false;\">\n                            <span class=\"hidden\">Facebook</span>\n                        </a>\n                        <a class=\"fa fa-google-plus\" href=\"https://plus.google.com/share?url={{url absolute=\"true\"}}\"\n                           onclick=\"window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;\">\n                            <span class=\"hidden\">Google+</span>\n                        </a>\n                    </section>\n\n                    {{! Everything inside the #author tags pulls data from the author }}\n                    {{#author}}\n\n\n                        {{#if image}}\n                        <figure class=\"author-image\">\n                            <a class=\"img\" href=\"{{url}}\" style=\"background-image: url({{image}})\"><span class=\"hidden\">{{name}}'s Picture</span></a>\n                        </figure>\n                        {{/if}}\n\n                        <section class=\"author\">\n                            <h4><a href=\"{{url}}\">{{name}}</a></h4>\n\n                            {{#if bio}}\n                                <p>{{bio}}</p>\n                            {{else}}\n                                <p>Read <a href=\"{{url}}\">more posts</a> by this author.</p>\n                            {{/if}}\n                            <div class=\"author-meta\">\n                                {{#if location}}<span class=\"author-location icon-location\">{{location}}</span>{{/if}}\n                                {{#if website}}<span class=\"author-link icon-link\"><a href=\"{{website}}\">{{website}}</a></span>{{/if}}\n                            </div>\n                        </section>\n\n                    {{/author}}\n\n                </footer>\n\n            </article>\n\n        </div>\n    </div>\n</main>\n\n<aside class=\"read-next\">\n\n            {{#prev_post}}\n            <a class=\"read-next-story prev {{#if image}}\" style=\"background-image: url({{image}}){{else}}no-cover{{/if}}\" href=\"{{url}}\">\n                <section class=\"post-next\">\n                    <h3>Prev</h3>\n                    <h2>{{title}}</h2>\n                </section>\n            </a>\n            {{/prev_post}}\n            {{#next_post}}\n            <a class=\"read-next-story {{#if image}}\" style=\"background-image: url({{image}}){{else}}no-cover{{/if}}\" href=\"{{url}}\">\n                <section class=\"post-next\">\n                    <h3>Next</h3>\n                    <h2>{{title}}</h2>\n                </section>\n            </a>\n            {{/next_post}}\n</aside>\n\n{{/post}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression, alias5=helpers.blockHelperMissing, buffer = \n  \"\\n<header class=\\\"main-header post-head\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n            <nav class=\\\"main-nav \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \" clearfix\\\">\\n                \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.navigation),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"            </nav>\\n        </div>\\n    </div>\\n</header>\\n\\n<main class=\\\"content\\\" role=\\\"main\\\">\\n    \\n     <header class=\\\"post-header \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.program(10, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n        <h1 class=\\\"post-title\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n        <section class=\\\"post-meta\\\">\\n            <time class=\\\"post-date\\\" datetime=\\\"\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"YYYY-MM-DD\"},\"data\":data}))\n    + \"\\\">\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"DD MMMM YYYY\"},\"data\":data}))\n    + \"</time>\\n        </section>\\n    </header>   \\n\\n    <div class=\\\"container\\\">\\n\\n        <div class=\\\"row\\\">\\n\\n            <article class=\\\"\"\n    + alias4(((helper = (helper = helpers.post_class || (depth0 != null ? depth0.post_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"post_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\\n                <section class=\\\"post-content\\\">\\n                    \"\n    + alias4(((helper = (helper = helpers.content || (depth0 != null ? depth0.content : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"content\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n                </section>\\n\\n                <footer class=\\\"post-footer\\\">\\n\\n                    <section class=\\\"share\\\">\\n                        <h4>Share this post</h4>\\n                        <a class=\\\"fa fa-twitter\\\" href=\\\"https://twitter.com/share?text=\"\n    + alias4((helpers.encode || (depth0 && depth0.encode) || alias2).call(alias1,(depth0 != null ? depth0.title : depth0),{\"name\":\"encode\",\"hash\":{},\"data\":data}))\n    + \"&amp;url=\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\"\\n                            onclick=\\\"window.open(this.href, 'twitter-share', 'width=550,height=235');return false;\\\">\\n                            <span class=\\\"hidden\\\">Twitter</span>\\n                        </a>\\n                        <a class=\\\"fa fa-facebook\\\" href=\\\"https://www.facebook.com/sharer/sharer.php?u=\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\"\\n                            onclick=\\\"window.open(this.href, 'facebook-share','width=580,height=296');return false;\\\">\\n                            <span class=\\\"hidden\\\">Facebook</span>\\n                        </a>\\n                        <a class=\\\"fa fa-google-plus\\\" href=\\\"https://plus.google.com/share?url=\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\"\\n                           onclick=\\\"window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;\\\">\\n                            <span class=\\\"hidden\\\">Google+</span>\\n                        </a>\\n                    </section>\\n\\n\";\n  stack1 = ((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : alias2),(options={\"name\":\"author\",\"hash\":{},\"fn\":container.program(12, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === alias3 ? helper.call(alias1,options) : helper));\n  if (!helpers.author) { stack1 = alias5.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  buffer += \"\\n                </footer>\\n\\n            </article>\\n\\n        </div>\\n    </div>\\n</main>\\n\\n<aside class=\\\"read-next\\\">\\n\\n\";\n  stack1 = ((helper = (helper = helpers.prev_post || (depth0 != null ? depth0.prev_post : depth0)) != null ? helper : alias2),(options={\"name\":\"prev_post\",\"hash\":{},\"fn\":container.program(23, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === alias3 ? helper.call(alias1,options) : helper));\n  if (!helpers.prev_post) { stack1 = alias5.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  stack1 = ((helper = (helper = helpers.next_post || (depth0 != null ? depth0.next_post : depth0)) != null ? helper : alias2),(options={\"name\":\"next_post\",\"hash\":{},\"fn\":container.program(25, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === alias3 ? helper.call(alias1,options) : helper));\n  if (!helpers.next_post) { stack1 = alias5.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"</aside>\\n\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \"overlay\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<a class=\\\"blog-logo\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\"><img src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"\\\" /></a>\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    return \"                    <a type=\\\"button\\\" class=\\\"menu-button\\\" href=\\\"#\\\">\\n                        <span class=\\\"sr-only\\\">Toggle navigation</span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                    </a>\\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"12\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(13, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n                        <section class=\\\"author\\\">\\n                            <h4><a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></h4>\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.bio : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(15, data, 0),\"inverse\":container.program(17, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"                            <div class=\\\"author-meta\\\">\\n                                \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.location : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(19, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n                                \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.website : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(21, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n                            </div>\\n                        </section>\\n\\n\";\n},\"13\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"                        <figure class=\\\"author-image\\\">\\n                            <a class=\\\"img\\\" href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" style=\\\"background-image: url(\"\n    + alias4(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\\\"><span class=\\\"hidden\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"'s Picture</span></a>\\n                        </figure>\\n\";\n},\"15\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"                                <p>\"\n    + container.escapeExpression(((helper = (helper = helpers.bio || (depth0 != null ? depth0.bio : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"bio\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</p>\\n\";\n},\"17\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"                                <p>Read <a href=\\\"\"\n    + container.escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">more posts</a> by this author.</p>\\n\";\n},\"19\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<span class=\\\"author-location icon-location\\\">\"\n    + container.escapeExpression(((helper = (helper = helpers.location || (depth0 != null ? depth0.location : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"location\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span>\";\n},\"21\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<span class=\\\"author-link icon-link\\\"><a href=\\\"\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></span>\";\n},\"23\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"            <a class=\\\"read-next-story prev \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.program(10, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\" href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n                <section class=\\\"post-next\\\">\\n                    <h3>Prev</h3>\\n                    <h2>\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h2>\\n                </section>\\n            </a>\\n\";\n},\"25\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"            <a class=\\\"read-next-story \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.program(10, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\" href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n                <section class=\\\"post-next\\\">\\n                    <h3>Next</h3>\\n                    <h2>\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h2>\\n                </section>\\n            </a>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, buffer = \n  \"\\n\\n\";\n  stack1 = ((helper = (helper = helpers.post || (depth0 != null ? depth0.post : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"post\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.post) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"useData\":true}"},{"file":"source/css/app.scss","ext":".scss"},{"file":"source/css/custom/_variables.scss","ext":".scss"},{"file":"source/css/custom/theme.scss","ext":".scss"},{"file":"source/js/index.js","ext":".js"},{"file":"source/js/jquery.fitvids.js","ext":".js"},{"file":"styles.html","ext":".html"},{"file":"tag.hbs","ext":".hbs","content":"{{!< default}}\n{{! The tag above means - insert everything in this file into the {body} of the default.hbs template }}\n\n{{! If we have a tag cover, display that - else blog cover - else nothing }}\n<header class=\"main-header tag-head {{#if tag.image}}\" style=\"background-image: url({{tag.image}}){{else}}{{#if @blog.cover}}\" style=\"background-image: url({{@blog.cover}}){{else}}no-cover{{/if}}{{/if}}\">\n    <div class=\"container\">\n        <div class=\"row\">\n            <nav class=\"main-nav {{#if image}}overlay{{/if}} clearfix\">\n                {{#if @blog.logo}}<a class=\"blog-logo\" href=\"{{@blog.url}}\"><img src=\"{{@blog.logo}}\" alt=\"{{@blog.title}}\" /></a>{{/if}}\n                {{#if @blog.navigation}}\n                    <a type=\"button\" class=\"menu-button\" href=\"#\">\n                        <span class=\"sr-only\">Toggle navigation</span>\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                        <span class=\"icon-bar\"></span>\n                    </a>\n                {{/if}}\n            </nav>\n            <div class=\"vertical\">\n                <div class=\"main-header-content inner\">\n                    <h1 class=\"page-title\">{{tag.name}}</h1>\n                    <h2 class=\"page-description\">\n                        {{#if tag.description}}\n                            {{tag.description}}\n                        {{else}}\n                            A {{pagination.total}}-post collection\n                        {{/if}}\n                    </h2>\n                </div>\n            </div>\n        </div>\n    </div>\n</header>\n\n{{! The main content area on the homepage }}\n<main class=\"content\" role=\"main\">\n    <div class=\"container\">\n        <div class=\"row\">\n            {{! The tag below includes the post loop - partials/loop.hbs }}\n            {{> \"loop\"}}\n        </div>\n    </div>\n</main>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.image : stack1), depth0))\n    + \")\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers[\"if\"].call(depth0 != null ? depth0 : {},((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.program(6, data, 0),\"data\":data})) != null ? stack1 : \"\");\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \")\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    return \"overlay\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<a class=\\\"blog-logo\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\"><img src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"\\\" /></a>\";\n},\"12\":function(container,depth0,helpers,partials,data) {\n    return \"                    <a type=\\\"button\\\" class=\\\"menu-button\\\" href=\\\"#\\\">\\n                        <span class=\\\"sr-only\\\">Toggle navigation</span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                    </a>\\n\";\n},\"14\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"                            \"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.description : stack1), depth0))\n    + \"\\n\";\n},\"16\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"                            A \"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.pagination : depth0)) != null ? stack1.total : stack1), depth0))\n    + \"-post collection\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : {};\n\n  return \"\\n<header class=\\\"main-header tag-head \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.image : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n            <nav class=\\\"main-nav \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \" clearfix\\\">\\n                \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.navigation),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(12, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"            </nav>\\n            <div class=\\\"vertical\\\">\\n                <div class=\\\"main-header-content inner\\\">\\n                    <h1 class=\\\"page-title\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.name : stack1), depth0))\n    + \"</h1>\\n                    <h2 class=\\\"page-description\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.description : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(14, data, 0),\"inverse\":container.program(16, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"                    </h2>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</header>\\n\\n<main class=\\\"content\\\" role=\\\"main\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n\"\n    + ((stack1 = container.invokePartial(partials.loop,depth0,{\"name\":\"loop\",\"data\":data,\"indent\":\"            \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"        </div>\\n    </div>\\n</main>\\n\";\n},\"usePartial\":true,\"useData\":true}"}],"results":{"pass":[{"level":"error","rule":"Replace <code>{{pageUrl}}</code> with <code>{{page_url}}</code>","fatal":true,"details":"The helper <code>{{pageUrl}}</code> was replaced with <code>{{page_url}}</code>.<br>Find more information about the <code>{{page_url}}</code> helper <a href=\"https://themes.ghost.org/docs/page_url\" target=_blank>here</a>.","code":"GS001-DEPR-PURL"},{"level":"error","rule":"Replace the <code>{{author.image}}</code> helper with <code>{{author.profile_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>profile_image</code>.<br>Instead of <code>{{author.image}}</code> you need to use <code>{{author.profile_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-AIMG"},{"level":"error","rule":"Replace the <code>{{post.image}}</code> helper with <code>{{post.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in post context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.image}}</code> you need to use <code>{{post.feature_image}}</code>.<br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PIMG"},{"level":"error","rule":"Replace the <code>{{author.cover}}</code> helper with <code>{{author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{author.cover}}</code> you need to use <code>{{author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-AC"},{"level":"error","rule":"Replace the <code>{{tags.[#].image}}</code> helper with <code>{{tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tags.[#].image}}</code> you need to use <code>{{tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-TSIMG"},{"level":"error","rule":"Replace the <code>{{post.author.image}}</code> helper with <code>{{post.author.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.author.image}}</code> you need to use <code>{{post.author.feature_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PAIMG"},{"level":"error","rule":"Replace the <code>{{post.author.cover}}</code> helper with <code>{{post.author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute in author context was replaced with <code>cover_image</code>.<br>Instead of <code>{{post.author.cover}}</code> you need to use <code>{{post.author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PAC"},{"level":"error","rule":"Replace the <code>{{post.tags.[#].image}}</code> helper with <code>{{post.tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.tags.[#].image}}</code> you need to use <code>{{post.tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PTIMG"},{"level":"error","rule":"Replace the <code>{{#if author.cover}}</code> helper with <code>{{#if author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if author.cover}}</code> you need to use <code>{{#if author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-AC"},{"level":"error","rule":"Replace the <code>{{#if author.image}}</code> helper with <code>{{#if author.profile_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>profile_image</code>.<br>Instead of <code>{{#if author.image}}</code> you need to use <code>{{#if author.profile_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-AIMG"},{"level":"error","rule":"Replace the <code>{{#if post.tags.[#].image}}</code> helper with <code>{{#if post.tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if post.tags.[#].image}}</code> you need to use <code>{{#if post.tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-PTIMG"},{"level":"error","rule":"Replace the <code>{{#if tags.[#].image}}</code> helper with <code>{{#if tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tags.[#].image}}</code> you need to use <code>{{#if tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-TSIMG"},{"level":"error","rule":"Replace <code>{{@blog.posts_per_page}}</code> with <code>{{@config.posts_per_page}}</code>","details":"The global <code>{{@blog.posts_per_page}}</code> property was replaced with <code>{{@config.posts_per_page}}</code>.<br>Read <a href=\"https://themes.ghost.org/docs/config\" target=_blank>here</a> about the attribute and check <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank>here</a> where you can customise the posts per page setting, as this is now adjustable in your theme.","code":"GS001-DEPR-PPP"},{"level":"error","rule":"Replace <code>{{content words=\"0\"}}</code> with the <code>{{img_url}}</code> helper","details":"The <code>{{content words=\"0\"}}</code> hack doesn't work anymore (and was never supported). Please use the <code>{{img_url}}</code> helper to render images.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and ","code":"GS001-DEPR-C0H"},{"level":"error","rule":"Replace <code>.archive-template</code> with the <code>.paged</code> CSS class","details":"The <code>.archive-template</code> CSS class was replaced with the <code>.paged</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-AT"},{"level":"error","rule":"Replace <code>.page</code> with the <code>.page-template</code> css class","details":"The <code>.page</code> CSS class was replaced with the <code>.page-template</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-PA"},{"level":"error","rule":"Replace <code>.page-template-slug</code> with the <code>.page-slug</code> css class","details":"The <code>.page-template-slug</code> CSS class was replaced with the <code>.page-slug</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-PATS"},{"level":"error","rule":"Replace <code>{{id}}</code> with <code>{{comment_id}}</code> in Disqus embeds.","fatal":true,"details":"The output of <code>{{id}}</code> has changed between Ghost LTS and 1.0.0. This results in Disqus comments not loading on Ghost 1.0.0 posts which were imported from Ghost LTS. To resolve this, we've added a new <code>{{comment_id}}</code> helper that will output the old ID for posts that have been imported from LTS, and the new ID for new posts. The Disqus embed must be updated from <code>this.page.identifier = 'ghost-{{id}}';</code> to <code>this.page.identifier = 'ghost-{{comment_id}}';</code> to ensure Disqus continues to work.","code":"GS002-DISQUS-ID"},{"level":"recommendation","rule":"The output of <code>{{id}}</code> changed between Ghost LTS and 1.0.0, you may need to use <code>{{comment_id}}</code> instead.","details":"The output of <code>{{id}}</code> has changed between Ghost LTS and 1.0.0. <code>{{id}}</code> used to output an incrementing integer ID, and will now output an ObjectID. We've added a new <code>{{comment_id}}</code> helper that will output the old ID for posts that have been imported from LTS, and the new ID for new posts. If you need the old ID to be output on imported posts, then you will need to use <code>{{comment_id}}</code> rather than <code>{{id}}</code>.","code":"GS002-ID-HELPER"},{"level":"error","rule":"Templates must contain valid Handlebars","fatal":true,"details":"Oops! You seemed to have used invalid Handlebars syntax. This mostly happens, when you use a helper that is not supported.<br>See the full list of available helpers <a href=\"https://themes.ghost.org/docs/helpers\" target=_blank>here</a>.","code":"GS005-TPL-ERR"},{"level":"error","rule":"<code>package.json</code> file should be present","details":"You should provide a <code>package.json</code> file for your theme.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-REQ"},{"level":"error","rule":"<code>package.json</code> file can be parsed","details":"Your <code>package.json</code> file couldn't be parsed. This is mostly caused by a missing or unnecessary <code>','</code> or the wrong usage of <code>'\"\"'</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> for further information.<br>A good reference for your <code>package.json</code> file is always the latest version of  <a href=\"https://github.com/TryGhost/Casper/blob/master/package.json\" target=_blank>Casper</a>.","code":"GS010-PJ-PARSE"},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> is required","details":"Please add the property <code>\"name\"</code> to your <code>package.json</code>. E.g. <code>{\"name\": \"my-theme\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-NAME-REQ"},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> must be hyphenated","details":"The property <code>\"name\"</code> in your <code>package.json</code> file must be hyphenated.<br>Please use <code>\"my-theme\"</code> rather than <code>\"My Theme\"</code> or <code>\"my theme\"</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--name-\" target=_blank><code>package.json</code> documentation</a> for further information.","code":"GS010-PJ-NAME-HY"},{"level":"error","rule":"<code>package.json</code> property <code>\"version\"</code> must be semver compliant","details":"The property <code>\"version\"</code> in your <code>package.json</code> file must be semver compliant. E.g. <code>{\"version\": \"1.0.0\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--version-\" target=_blank><code>package.json</code> documentation</a> for further information.","code":"GS010-PJ-VERSION-SEM"},{"level":"error","rule":"<code>package.json</code> property <code>\"version\"</code> is required","details":"Please add the property <code>\"version\"</code> to your <code>package.json</code>. E.g. <code>{\"version\": \"1.0.0\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended.","code":"GS010-PJ-VERSION-REQ"},{"level":"error","rule":"A template file called <code>index.hbs</code> must be present","fatal":true,"details":"Your theme must have a template file called <code>index.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the required template structure and <code>index.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-index-hbs\" target=_blank>particular</a>.","code":"GS020-INDEX-REQ"},{"level":"error","rule":"A template file called <code>post.hbs</code> must be present","fatal":true,"details":"Your theme must have a template file called <code>index.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the required template structure and <code>post.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-post-hbs\" target=_blank>particular</a>.","code":"GS020-POST-REQ"},{"level":"recommendation","rule":"Provide a default layout template called default.hbs","details":"It is recommended that your theme has a template file called <code>default.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the recommended template structure and <code>default.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-default-hbs\" target=_blank>particular</a>.","code":"GS020-DEF-REC"},{"level":"warning","rule":"Assets such as CSS & JS must use the <code>{{asset}}</code> helper","details":"The listed files should be included using the <code>{{asset}}</code> helper.<br>For more information, please see the <a href=\"https://themes.ghost.org/docs/asset\" target=_blank><code>{{asset}}</code> helper documentation</a>.","code":"GS030-ASSET-REQ"},{"level":"error","rule":"Symlinks in themes are not allowed","fatal":true,"details":"Symbolic links in themes are not allowed. Please use the <code>{{asset}}</code> helper.<br>For more information, please see the <a href=\"https://themes.ghost.org/docs/asset\" target=_blank><code>{{asset}}</code> helper documentation</a>.","code":"GS030-ASSET-SYM"},{"level":"warning","rule":"The helper <code>{{ghost_head}}</code> should be present","details":"The <code>{{ghost_head}}</code> helper should be present in your theme. It outputs many useful things, such as <a href=\"https://help.ghost.org/hc/en-us/articles/223403488-Code-Injection\" target=_blank>\"code injection\" scripts</a>, structured data, canonical links, meta description etc.<br>The helper belongs just before the <code></head></code> tag in your <code>default.hbs</code> template.<br>For more details, please see the <a href=\"https://themes.ghost.org/docs/ghost_head\" target=_blank><code>{{ghost_head}}</code> helper documentation</a>.","code":"GS040-GH-REQ"},{"level":"warning","rule":"The helper <code>{{ghost_foot}}</code> should be present","details":"The <code>{{ghost_foot}}</code> helper should be present in your theme. It outputs scripts as saved in <a href=\"https://help.ghost.org/hc/en-us/articles/223403488-Code-Injection\" target=_blank>\"code injection\" scripts</a>.<br>The helper belongs just before the <code></body></code> tag in your <code>default.hbs</code> template.<br>For more details, please see the <a href=\"https://themes.ghost.org/docs/ghost_foot\" target=_blank><code>{{ghost_foot}}</code> helper documentation</a>.","code":"GS040-GF-REQ"}],"error":[{"fatal":true,"level":"error","rule":"Replace the <code>{{image}}</code> helper with <code>{{img_url feature_image}}</code> or <code>{{img_url profile_image}}</code>","details":"The <code>{{image}}</code> helper was replaced with <code>{{img_url}}</code>.<br>Depending on the context of the <code>{{img_url}}</code> helper you would need to use e. g. <br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{img_url feature_image}}<br>{{/post}}</code><br><br>to render the feature image of the blog post.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and read more about Ghost's usage of contexts <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{image}} from this template"}],"code":"GS001-DEPR-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{cover}}</code> helper with <code>{{cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To render the cover image in author context, you need to use<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To render the cover image of your blog, just use <code>{{@blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{cover}} from this template"}],"code":"GS001-DEPR-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{@blog.cover}}</code> helper with <code>{{@blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{@blog.cover}}</code> you need to use <code>{{@blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"index.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{@blog.cover}} from this template"}],"code":"GS001-DEPR-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{tag.image}}</code> helper with <code>{{tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tag.image}}</code> you need to use <code>{{tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{tag.image}} from this template"}],"code":"GS001-DEPR-TIMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if image}}</code> helper with <code>{{#if feature_image}}</code>, or <code>{{#if profile_image}}</code>","details":"The <code>image</code> attribute was replaced with <code>feature_image</code> and <code>profile_image</code>.<br>Depending on the <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>context</a> you will need to replace it like this:<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/post}}</code><br><br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.<br><br><code>{{#tag}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/tag}}</code><br><br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"error.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{#if image}} from this template"}],"code":"GS001-DEPR-CON-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if cover}}</code> helper with <code>{{#if cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To check for the cover image in author context, you need to use<br><br><code>{{#if cover_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/if}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To check for the cover image of your blog, just use <code>{{#if @blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if cover}} from this template"}],"code":"GS001-DEPR-CON-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if @blog.cover}}</code> helper with <code>{{#if @blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if @blog.cover}}</code> you need to use <code>{{#if @blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"index.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"}],"code":"GS001-DEPR-CON-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if tag.image}}</code> helper with <code>{{#if tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tag.image}}</code> you need to use <code>{{#if tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{#if tag.image}} from this template"}],"code":"GS001-DEPR-CON-TIMG"}],"warning":[],"recommendation":[],"missing":[{"level":"error","rule":"The usage of <code>{{meta_description}}</code> in HTML <code>head</code> is no longer required","details":"The usage of <code>{{meta_description}}</code> in the HTML <code>head</code> tag is no longer required because Ghost outputs this for you automatically in <code>{{ghost_head}}</code>.<br>Check out the documentation for <code>{{meta_description}}</code> <a href=\"https://themes.ghost.org/docs/meta_description\" target=_blank>here</a>.<br>To see, what else is rendered with the <code>{{ghost_head}}</code> helper, look <a href=\"https://themes.ghost.org/docs/ghost_head\" target=_blank>here</a>."},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> must be lowercase","details":"The property <code>\"name\"</code> in your <code>package.json</code> file must be lowercase.<br>Good examples are: <code>\"my-theme\"</code> or <code>\"theme\"</code> rather than <code>\"My Theme\"</code> or <code>\"Theme\"</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--name-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"author.email\"</code> must be valid","details":"The property <code>\"author.email\"</code> in your <code>package.json</code> file must a valid email. E.g. <code>{\"author\": {\"email\": \"hello@example.com\"}}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--author-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"recommendation","rule":"<code>package.json</code> property <code>\"config.posts_per_page\"</code> is recommended. Otherwise, it falls back to 5","details":"Please add <code>\"posts_per_page\"</code> to your <code>package.json</code>. E.g. <code>{\"config\": { \"posts_per_page\": 5}}</code>.<br>If no <code>\"posts_per_page\"</code> property is provided, Ghost will use its default setting of 5 posts per page.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"config.posts_per_page\"</code> must be a number above 0","details":"The property <code>\"config.posts_per_page\"</code> in your <code>package.json</code> file must be a number greater than zero. E.g. <code>{\"config\": { \"posts_per_page\": 5}}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"author.email\"</code> is required","details":"Please add the property <code>\"author.email\"</code> to your <code>package.json</code>. E.g. <code>{\"author\": {\"email\": \"hello@example.com\"}}</code>.<br>The email is required so that themes which are distributed (either free or paid) have a method of contacting the author so users can get support and more importantly so that Ghost can reach out about breaking changes and security updates.<br>The <code>package.json</code> file is <strong>NOT</strong> accessible when uploaded to a blog so if the theme is only uploaded to a single blog, no one will see this email address.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended."}],"score":{"value":79,"level":"error"},"hasFatalErrors":true},"partials":["loop","navigation"],"helpers":{"helperMissing":["author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","default.hbs","page.hbs","page.hbs","page.hbs","partials/loop.hbs","partials/loop.hbs","partials/navigation.hbs","partials/navigation.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs"],"name":["author.hbs","author.hbs","post.hbs","post.hbs"],"plural":["author.hbs"],"cover":["author.hbs"],"image":["author.hbs","page.hbs","post.hbs","post.hbs"],"bio":["author.hbs","post.hbs"],"location":["author.hbs","post.hbs"],"website":["author.hbs","author.hbs","post.hbs","post.hbs"],"author":["author.hbs","author.hbs","post.hbs","post.hbs"],"blockHelperMissing":["author.hbs","page.hbs","post.hbs","post.hbs"],"meta_title":["default.hbs"],"meta_description":["default.hbs"],"asset":["default.hbs","default.hbs","default.hbs"],"ghost_head":["default.hbs"],"body_class":["default.hbs"],"navigation":["default.hbs"],"body":["default.hbs"],"date":["default.hbs","partials/loop.hbs","partials/loop.hbs","post.hbs","post.hbs"],"ghost_foot":["default.hbs"],"title":["page.hbs","partials/loop.hbs","post.hbs","post.hbs","post.hbs"],"post_class":["page.hbs","partials/loop.hbs","post.hbs"],"content":["page.hbs","post.hbs"],"post":["page.hbs","page.hbs","post.hbs","post.hbs"],"url":["partials/loop.hbs","partials/loop.hbs","partials/navigation.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs"],"excerpt":["partials/loop.hbs"],"foreach":["partials/loop.hbs","partials/navigation.hbs"],"pagination":["partials/loop.hbs"],"slug":["partials/navigation.hbs"],"label":["partials/navigation.hbs"],"encode":["post.hbs"],"prev_post":["post.hbs","post.hbs"],"next_post":["post.hbs","post.hbs"]},"name":"Apparition","version":"1.0.0"},"stack":"ThemeValidationError: Theme is not compatible or contains errors.\n    at ThemeValidationError.GhostError (/home/www/ghost/core/server/errors.js:9:26)\n    at new ThemeValidationError (/home/www/ghost/core/server/errors.js:52:20)\n    at resultHandler (/home/www/ghost/core/server/themes/validate.js:32:31)\n    at tryCatcher (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:510:31)\n    at Promise._settlePromise (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:567:18)\n    at Promise._settlePromise0 (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:612:10)\n    at Promise._settlePromises (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:691:18)\n    at Async._drainQueue (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:138:16)\n    at Async._drainQueues (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:148:10)\n    at Immediate.Async.drainQueues (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:17:14)\n    at runCallback (timers.js:672:20)\n    at tryOnImmediate (timers.js:645:5)\n    at processImmediate [as _immediateCallback] (timers.js:617:5)","errorDetails":[{"fatal":true,"level":"error","rule":"Replace the <code>{{image}}</code> helper with <code>{{img_url feature_image}}</code> or <code>{{img_url profile_image}}</code>","details":"The <code>{{image}}</code> helper was replaced with <code>{{img_url}}</code>.<br>Depending on the context of the <code>{{img_url}}</code> helper you would need to use e. g. <br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{img_url feature_image}}<br>{{/post}}</code><br><br>to render the feature image of the blog post.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and read more about Ghost's usage of contexts <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{image}} from this template"}],"code":"GS001-DEPR-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{cover}}</code> helper with <code>{{cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To render the cover image in author context, you need to use<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To render the cover image of your blog, just use <code>{{@blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{cover}} from this template"}],"code":"GS001-DEPR-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{@blog.cover}}</code> helper with <code>{{@blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{@blog.cover}}</code> you need to use <code>{{@blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"index.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{@blog.cover}} from this template"}],"code":"GS001-DEPR-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{tag.image}}</code> helper with <code>{{tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tag.image}}</code> you need to use <code>{{tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{tag.image}} from this template"}],"code":"GS001-DEPR-TIMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if image}}</code> helper with <code>{{#if feature_image}}</code>, or <code>{{#if profile_image}}</code>","details":"The <code>image</code> attribute was replaced with <code>feature_image</code> and <code>profile_image</code>.<br>Depending on the <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>context</a> you will need to replace it like this:<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/post}}</code><br><br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.<br><br><code>{{#tag}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/tag}}</code><br><br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"error.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{#if image}} from this template"}],"code":"GS001-DEPR-CON-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if cover}}</code> helper with <code>{{#if cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To check for the cover image in author context, you need to use<br><br><code>{{#if cover_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/if}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To check for the cover image of your blog, just use <code>{{#if @blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if cover}} from this template"}],"code":"GS001-DEPR-CON-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if @blog.cover}}</code> helper with <code>{{#if @blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if @blog.cover}}</code> you need to use <code>{{#if @blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"index.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"}],"code":"GS001-DEPR-CON-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if tag.image}}</code> helper with <code>{{#if tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tag.image}}</code> you need to use <code>{{#if tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{#if tag.image}} from this template"}],"code":"GS001-DEPR-CON-TIMG"}]},"msg":"Theme is not compatible or contains errors.","time":"2017-09-29T03:46:18.239Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"c0fb5240-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"23ms"},"msg":"","time":"2017-09-29T03:46:19.644Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"c1760080-a4c8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"117d-qYEwe51bKFAmtG7OOM2wKf7kSlA\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"29ms"},"msg":"","time":"2017-09-29T03:46:20.454Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"c176c3d0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"26ms"},"msg":"","time":"2017-09-29T03:46:20.456Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"c49c1fb0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"24ms"},"msg":"","time":"2017-09-29T03:46:25.731Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"c543aa50-a4c8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"117d-qYEwe51bKFAmtG7OOM2wKf7kSlA\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"32ms"},"msg":"","time":"2017-09-29T03:46:26.838Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"c54494b0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"28ms"},"msg":"","time":"2017-09-29T03:46:26.840Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":50,"req":{"meta":{"requestId":"c8e40290-a4c8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/upload/","method":"POST","originalUrl":"/ghost/api/v0.1/themes/upload/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"7166687","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"multipart/form-data; boundary=----WebKitFormBoundaryHOsLytwgZEGlcBDr","accept":"text/plain, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","content-type":"application/json; charset=utf-8","etag":"W/\"1a79a-ROVXAJhVmW0Z3k5Zf99N+WOjFik\"","content-encoding":"gzip"},"statusCode":422,"responseTime":"312ms"},"err":{"id":"c9126590-a4c8-11e7-ad29-7b3837c864ae","domain":"http://47.95.197.107:2368","code":null,"name":"ThemeValidationError","statusCode":422,"level":"normal","message":"Theme is not compatible or contains errors.","context":{"path":"/tmp/95e2f2e7-6d6f-4cb2-bd6e-f31f18ee7597/Loyalsoldier.github.io-master/content/themes/casper","files":[{"file":"LICENSE"},{"file":"README.md","ext":".md"},{"file":"assets/css/screen.css","ext":".css"},{"file":"assets/fonts/casper-icons.eot","ext":".eot"},{"file":"assets/fonts/casper-icons.svg","ext":".svg"},{"file":"assets/fonts/casper-icons.ttf","ext":".ttf"},{"file":"assets/fonts/casper-icons.woff","ext":".woff"},{"file":"assets/fonts/iconfont.eot","ext":".eot"},{"file":"assets/fonts/iconfont.svg","ext":".svg"},{"file":"assets/fonts/iconfont.ttf","ext":".ttf"},{"file":"assets/fonts/iconfont.woff","ext":".woff"},{"file":"assets/js/index.js","ext":".js"},{"file":"assets/js/jquery.fitvids.js","ext":".js"},{"file":"author.hbs","ext":".hbs","content":"{{!< default}}\n{{! The tag above means - insert everything in this file into the {body} of the default.hbs template }}\n\n{{! The big featured header }}\n\n{{! Everything inside the #author tags pulls data from the author }}\n{{#author}}\n    <header class=\"main-header author-head {{#if cover}}\" style=\"background-image: url({{cover}}){{else}}no-cover{{/if}}\">\n        <nav class=\"main-nav overlay clearfix\">\n\n            {{#if @blog.logo}}<a class=\"blog-logo\" href=\"{{@blog.url}}\"><img src=\"{{@blog.logo}}\" alt=\"博客logo\" /></a>{{/if}}\n            \n            {{#if @blog.navigation}}\n                <a class=\"menu-button icon-menu\" href=\"#\"><span class=\"word\">导航</span></a>\n            {{/if}}\n\n        </nav>\n    </header>\n\n    <section class=\"author-profile inner\">\n        {{#if image}}\n        <figure class=\"author-image\">\n            <div class=\"img\" style=\"background-image: url({{image}})\"><span class=\"hidden\">{{name}}'s Picture</span></div>\n        </figure>\n        {{/if}}\n        <h1 class=\"author-title\">{{name}}</h1>\n        {{#if bio}}\n            <h2 class=\"author-bio\">{{bio}}</h2>\n        {{/if}}\n        <div class=\"author-meta\">\n            {{#if location}}<span class=\"author-location icon-location\">{{location}}</span>{{/if}}\n            {{#if website}}<span class=\"author-link icon-link\"><a href=\"{{website}}\">{{website}}</a></span>{{/if}}\n            <span class=\"author-stats\"><i class=\"icon-stats\"></i> {{plural ../pagination.total empty='没有文章' singular='% 篇文章' plural='% 篇文章'}} </span>\n        </div>\n    </section>\n{{/author}}\n\n{{! The main content area on the homepage }}\n<main class=\"content\" role=\"main\">\n\n    {{! The tag below includes the post loop - partials/loop.hbs }}\n    {{> \"loop\"}}\n\n</main>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=container.escapeExpression;\n\n  return \"    <header class=\\\"main-header author-head \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.cover : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0, blockParams, depths),\"inverse\":container.program(4, data, 0, blockParams, depths),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n        <nav class=\\\"main-nav overlay clearfix\\\">\\n\\n            \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n            \\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.navigation),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n        </nav>\\n    </header>\\n\\n    <section class=\\\"author-profile inner\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"        <h1 class=\\\"author-title\\\">\"\n    + alias3(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.bio : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(12, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"        <div class=\\\"author-meta\\\">\\n            \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.location : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(14, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n            \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.website : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(16, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n            <span class=\\\"author-stats\\\"><i class=\\\"icon-stats\\\"></i> \"\n    + alias3((helpers.plural || (depth0 && depth0.plural) || alias2).call(alias1,((stack1 = (depths[1] != null ? depths[1].pagination : depths[1])) != null ? stack1.total : stack1),{\"name\":\"plural\",\"hash\":{\"plural\":\"% 篇文章\",\"singular\":\"% 篇文章\",\"empty\":\"没有文章\"},\"data\":data}))\n    + \" </span>\\n        </div>\\n    </section>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(((helper = (helper = helpers.cover || (depth0 != null ? depth0.cover : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"cover\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<a class=\\\"blog-logo\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\"><img src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\" alt=\\\"博客logo\\\" /></a>\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    return \"                <a class=\\\"menu-button icon-menu\\\" href=\\\"#\\\"><span class=\\\"word\\\">导航</span></a>\\n\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"        <figure class=\\\"author-image\\\">\\n            <div class=\\\"img\\\" style=\\\"background-image: url(\"\n    + alias4(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\\\"><span class=\\\"hidden\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"'s Picture</span></div>\\n        </figure>\\n\";\n},\"12\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"            <h2 class=\\\"author-bio\\\">\"\n    + container.escapeExpression(((helper = (helper = helpers.bio || (depth0 != null ? depth0.bio : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"bio\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h2>\\n\";\n},\"14\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<span class=\\\"author-location icon-location\\\">\"\n    + container.escapeExpression(((helper = (helper = helpers.location || (depth0 != null ? depth0.location : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"location\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span>\";\n},\"16\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<span class=\\\"author-link icon-link\\\"><a href=\\\"\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></span>\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, helper, options, buffer = \n  \"\\n\\n\";\n  stack1 = ((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"author\",\"hash\":{},\"fn\":container.program(1, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.author) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"\\n<main class=\\\"content\\\" role=\\\"main\\\">\\n\\n\"\n    + ((stack1 = container.invokePartial(partials.loop,depth0,{\"name\":\"loop\",\"data\":data,\"indent\":\"    \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n</main>\\n\";\n},\"usePartial\":true,\"useData\":true,\"useDepths\":true}"},{"file":"default.hbs","ext":".hbs","content":"<!DOCTYPE html>\n<html lang=\"zh-cmn-hans\">\n<head>\n    {{! Document Settings }}\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge, Chrome=1\">\n\n    {{! Page Meta }}\n    <title>{{meta_title}}</title>\n    <meta name=\"description\" content=\"{{meta_description}}\">\n\n    <meta name=\"viewport\" content=\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\">\n\n    <link rel=\"shortcut icon\" href=\"{{asset \"favicon.ico\"}}\">\n\n    {{! Styles and Scripts }}\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"{{asset \"css/screen.css\"}}\">\n\n    {{! Ghost outputs important style and meta data with this tag }}\n    {{ghost_head}}\n</head>\n<body class=\"{{body_class}} nav-closed\">\n\n    {{navigation}}\n\n    <div class=\"site-wrapper\">\n\n        {{! Everything else gets inserted here }}\n        {{{body}}}\n\n        <footer class=\"site-footer clearfix\">\n            <section class=\"copyright\"><a href=\"{{@blog.url}}\">{{@blog.title}}</a> &copy; {{date format=\"YYYY\"}}</section>\n            <section class=\"poweredby\">Proudly published with <a href=\"https://ghost.org\">Ghost</a></section>\n        </footer>\n\n    </div>\n\n    {{! Ghost outputs important scripts and data with this tag }}\n    {{ghost_foot}}\n\n    {{! The main JavaScript file for Casper }}\n    <script type=\"text/javascript\" src=\"{{asset \"js/jquery.fitvids.js\"}}\"></script>\n    <script type=\"text/javascript\" src=\"{{asset \"js/index.js\"}}\"></script>\n\n</body>\n</html>\n","compiled":"{\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression, alias5=container.lambda;\n\n  return \"<!DOCTYPE html>\\n<html lang=\\\"zh-cmn-hans\\\">\\n<head>\\n    <meta charset=\\\"utf-8\\\">\\n    <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=edge, Chrome=1\\\">\\n\\n    <title>\"\n    + alias4(((helper = (helper = helpers.meta_title || (depth0 != null ? depth0.meta_title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"meta_title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</title>\\n    <meta name=\\\"description\\\" content=\\\"\"\n    + alias4(((helper = (helper = helpers.meta_description || (depth0 != null ? depth0.meta_description : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"meta_description\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\\\">\\n\\n    <link rel=\\\"shortcut icon\\\" href=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"favicon.ico\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\">\\n\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"css/screen.css\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\">\\n\\n    \"\n    + alias4(((helper = (helper = helpers.ghost_head || (depth0 != null ? depth0.ghost_head : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"ghost_head\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n</head>\\n<body class=\\\"\"\n    + alias4(((helper = (helper = helpers.body_class || (depth0 != null ? depth0.body_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"body_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \" nav-closed\\\">\\n\\n    \"\n    + alias4(((helper = (helper = helpers.navigation || (depth0 != null ? depth0.navigation : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"navigation\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\\n    <div class=\\\"site-wrapper\\\">\\n\\n        \"\n    + ((stack1 = ((helper = (helper = helpers.body || (depth0 != null ? depth0.body : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"body\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"\\n\\n        <footer class=\\\"site-footer clearfix\\\">\\n            <section class=\\\"copyright\\\"><a href=\\\"\"\n    + alias4(alias5(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\">\"\n    + alias4(alias5(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"</a> &copy; \"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"YYYY\"},\"data\":data}))\n    + \"</section>\\n            <section class=\\\"poweredby\\\">Proudly published with <a href=\\\"https://ghost.org\\\">Ghost</a></section>\\n        </footer>\\n\\n    </div>\\n\\n    \"\n    + alias4(((helper = (helper = helpers.ghost_foot || (depth0 != null ? depth0.ghost_foot : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"ghost_foot\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\\n    <script type=\\\"text/javascript\\\" src=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"js/jquery.fitvids.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n    <script type=\\\"text/javascript\\\" src=\\\"\"\n    + alias4((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"js/index.js\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\"></script>\\n\\n</body>\\n</html>\\n\";\n},\"useData\":true}"},{"file":"index.hbs","ext":".hbs","content":"{{!< default}}\n{{! The tag above means - insert everything in this file into the {body} of the default.hbs template }}\n\n{{! The big featured header }}\n<header class=\"main-header {{#if @blog.cover}}\" style=\"background-image: url({{@blog.cover}}){{else}}no-cover{{/if}}\">\n    <nav class=\"main-nav overlay clearfix\">\n        {{#if @blog.logo}}<a class=\"blog-logo\" href=\"{{@blog.url}}\"><img src=\"{{@blog.logo}}\" alt=\"Blog Logo\" /></a>{{/if}}\n        {{#if @blog.navigation}}\n            <a class=\"menu-button icon-menu\" href=\"#\"><span class=\"word\">导航</span></a>\n        {{/if}}\n    </nav>\n\n    <div class=\"vertical\">\n        <div class=\"main-header-content inner\">\n            <h1 class=\"page-title\">{{@blog.title}}</h1>\n            <h2 class=\"page-description\">{{@blog.description}}</h2>\n        </div>\n    </div>\n    <a class=\"scroll-down icon-arrow-left\" href=\"#content\" data-offset=\"-45\"><span class=\"hidden\">下拉显示</span></a>\n</header>\n\n{{! The main content area on the homepage }}\n<main id=\"content\" class=\"content\" role=\"main\">\n\n    {{! The tag below includes the post loop - partials/loop.hbs }}\n    {{> \"loop\"}}\n\n</main>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \")\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<a class=\\\"blog-logo\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\"><img src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\" alt=\\\"Blog Logo\\\" /></a>\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    return \"            <a class=\\\"menu-button icon-menu\\\" href=\\\"#\\\"><span class=\\\"word\\\">导航</span></a>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : {}, alias2=container.lambda, alias3=container.escapeExpression;\n\n  return \"\\n<header class=\\\"main-header \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n    <nav class=\\\"main-nav overlay clearfix\\\">\\n        \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.navigation),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"    </nav>\\n\\n    <div class=\\\"vertical\\\">\\n        <div class=\\\"main-header-content inner\\\">\\n            <h1 class=\\\"page-title\\\">\"\n    + alias3(alias2(((stack1 = (data && data.blog)) && stack1.title), depth0))\n    + \"</h1>\\n            <h2 class=\\\"page-description\\\">\"\n    + alias3(alias2(((stack1 = (data && data.blog)) && stack1.description), depth0))\n    + \"</h2>\\n        </div>\\n    </div>\\n    <a class=\\\"scroll-down icon-arrow-left\\\" href=\\\"#content\\\" data-offset=\\\"-45\\\"><span class=\\\"hidden\\\">下拉显示</span></a>\\n</header>\\n\\n<main id=\\\"content\\\" class=\\\"content\\\" role=\\\"main\\\">\\n\\n\"\n    + ((stack1 = container.invokePartial(partials.loop,depth0,{\"name\":\"loop\",\"data\":data,\"indent\":\"    \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n</main>\\n\";\n},\"usePartial\":true,\"useData\":true}"},{"file":"page.hbs","ext":".hbs","content":"{{!< default}}\n\n{{! This is a page template. A page outputs content just like any other post, and has all the same\n    attributes by default, but you can also customise it to behave differently if you prefer. }}\n\n{{! Everything inside the #post tags pulls data from the page }}\n{{#post}}\n\n<header class=\"main-header post-head {{#if image}}\" style=\"background-image: url({{image}}){{else}}no-cover{{/if}}\">\n    <nav class=\"main-nav {{#if image}}overlay{{/if}} clearfix\">\n\n        {{#if @blog.logo}}<a class=\"blog-logo\" href=\"{{@blog.url}}\"><img src=\"{{@blog.logo}}\" alt=\"博客 Logo\" /></a>{{/if}}\n        {{#if @blog.navigation}}\n            <a class=\"menu-button icon-menu\" href=\"#\"><span class=\"word\">导航</span></a>\n        {{/if}}\n    </nav>\n</header>\n\n<main class=\"content\" role=\"main\">\n    <article class=\"{{post_class}}\">\n\n        <header class=\"post-header\">\n            <h1 class=\"post-title\">{{title}}</h1>\n        </header>\n\n        <section class=\"post-content\">\n            {{content}}\n        </section>\n\n    </article>\n</main>\n{{/post}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\\n<header class=\\\"main-header post-head \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n    <nav class=\\\"main-nav \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \" clearfix\\\">\\n\\n        \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.navigation),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"    </nav>\\n</header>\\n\\n<main class=\\\"content\\\" role=\\\"main\\\">\\n    <article class=\\\"\"\n    + alias4(((helper = (helper = helpers.post_class || (depth0 != null ? depth0.post_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"post_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\\n        <header class=\\\"post-header\\\">\\n            <h1 class=\\\"post-title\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n        </header>\\n\\n        <section class=\\\"post-content\\\">\\n            \"\n    + alias4(((helper = (helper = helpers.content || (depth0 != null ? depth0.content : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"content\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n        </section>\\n\\n    </article>\\n</main>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    return \"overlay\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<a class=\\\"blog-logo\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\"><img src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\" alt=\\\"博客 Logo\\\" /></a>\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    return \"            <a class=\\\"menu-button icon-menu\\\" href=\\\"#\\\"><span class=\\\"word\\\">导航</span></a>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, buffer = \n  \"\\n\\n\";\n  stack1 = ((helper = (helper = helpers.post || (depth0 != null ? depth0.post : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"post\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.post) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"useData\":true}"},{"file":"partials/loop.hbs","ext":".hbs","content":"{{! Previous/next page links - only displayed on page 2+ }}\n<div class=\"extra-pagination inner\">\n    {{pagination}}\n</div>\n\n{{! This is the post loop - each post will be output using this markup }}\n{{#foreach posts}}\n<article class=\"{{post_class}}\">\n    <header class=\"post-header\">\n        <h2 class=\"post-title\"><a href=\"{{url}}\">{{{title}}}</a></h2>\n    </header>\n    <section class=\"post-excerpt\">\n        <p>{{excerpt characters=\"120\"}} <a class=\"read-more\" href=\"{{url}}\">&raquo;</a></p>\n    </section>\n    <footer class=\"post-meta\">\n        {{#if author.image}}<img class=\"author-thumb\" src=\"{{author.image}}\" alt=\"Author image\" nopin=\"nopin\" />{{/if}}\n        {{author}}\n        {{tags prefix=\"   \"}}\n        <time class=\"post-date\" datetime=\"{{date format='YYYY-MM-DD'}}\">{{date format=\"YYYY年MM月DD日\"}}</time>\n    </footer>\n</article>\n{{/foreach}}\n\n{{! Previous/next page links - displayed on every page }}\n{{pagination}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<article class=\\\"\"\n    + alias4(((helper = (helper = helpers.post_class || (depth0 != null ? depth0.post_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"post_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n    <header class=\\\"post-header\\\">\\n        <h2 class=\\\"post-title\\\"><a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + ((stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"</a></h2>\\n    </header>\\n    <section class=\\\"post-excerpt\\\">\\n        <p>\"\n    + alias4((helpers.excerpt || (depth0 && depth0.excerpt) || alias2).call(alias1,{\"name\":\"excerpt\",\"hash\":{\"characters\":\"120\"},\"data\":data}))\n    + \" <a class=\\\"read-more\\\" href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">&raquo;</a></p>\\n    </section>\\n    <footer class=\\\"post-meta\\\">\\n        \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (depth0 != null ? depth0.author : depth0)) != null ? stack1.image : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n        \"\n    + alias4(((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"author\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n        \"\n    + alias4((helpers.tags || (depth0 && depth0.tags) || alias2).call(alias1,{\"name\":\"tags\",\"hash\":{\"prefix\":\"   \"},\"data\":data}))\n    + \"\\n        <time class=\\\"post-date\\\" datetime=\\\"\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"YYYY-MM-DD\"},\"data\":data}))\n    + \"\\\">\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"YYYY年MM月DD日\"},\"data\":data}))\n    + \"</time>\\n    </footer>\\n</article>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<img class=\\\"author-thumb\\\" src=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.author : depth0)) != null ? stack1.image : stack1), depth0))\n    + \"\\\" alt=\\\"Author image\\\" nopin=\\\"nopin\\\" />\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<div class=\\\"extra-pagination inner\\\">\\n    \"\n    + alias4(((helper = (helper = helpers.pagination || (depth0 != null ? depth0.pagination : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"pagination\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n</div>\\n\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || alias2).call(alias1,(depth0 != null ? depth0.posts : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + alias4(((helper = (helper = helpers.pagination || (depth0 != null ? depth0.pagination : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"pagination\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n\";\n},\"useData\":true}"},{"file":"partials/navigation.hbs","ext":".hbs","content":"<div class=\"nav\">\n    <h3 class=\"nav-title\">博客导航</h3>\n    <a href=\"#\" class=\"nav-close\">\n        <span class=\"hidden\">关闭</span>\n    </a>\n    <ul>\n        {{#foreach navigation}}\n            <li class=\"nav-{{slug}}{{#if current}} nav-current{{/if}}\" role=\"presentation\"><a href=\"{{url absolute=\"true\"}}\">{{label}}</a></li>\n        {{/foreach}}\n    </ul>\n    <a class=\"subscribe-button icon-feed\" href=\"{{@blog.url}}/rss/\"> 订阅 </a>\n</div>\n<span class=\"nav-cover\"></span>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"            <li class=\\\"nav-\"\n    + alias4(((helper = (helper = helpers.slug || (depth0 != null ? depth0.slug : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"slug\",\"hash\":{},\"data\":data}) : helper)))\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.current : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\" role=\\\"presentation\\\"><a href=\\\"\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"\\\">\"\n    + alias4(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"label\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></li>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \" nav-current\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"nav\\\">\\n    <h3 class=\\\"nav-title\\\">博客导航</h3>\\n    <a href=\\\"#\\\" class=\\\"nav-close\\\">\\n        <span class=\\\"hidden\\\">关闭</span>\\n    </a>\\n    <ul>\\n\"\n    + ((stack1 = (helpers.foreach || (depth0 && depth0.foreach) || helpers.helperMissing).call(depth0 != null ? depth0 : {},(depth0 != null ? depth0.navigation : depth0),{\"name\":\"foreach\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"    </ul>\\n    <a class=\\\"subscribe-button icon-feed\\\" href=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"/rss/\\\"> 订阅 </a>\\n</div>\\n<span class=\\\"nav-cover\\\"></span>\\n\";\n},\"useData\":true}"},{"file":"post.hbs","ext":".hbs","content":"{{!< default}}\n\n{{! The comment above \"< default\" means - insert everything in this file into\n    the {body} of the default.hbs template, which contains our header/footer. }}\n\n{{! Everything inside the #post tags pulls data from the post }}\n{{#post}}\n\n<header class=\"main-header post-head {{#if image}}\" style=\"background-image: url({{image}}){{else}}no-cover{{/if}}\">\n    <nav class=\"main-nav {{#if image}}overlay{{/if}} clearfix\">\n\n        {{#if @blog.logo}}<a class=\"blog-logo\" href=\"{{@blog.url}}\"><img src=\"{{@blog.logo}}\" alt=\"Blog Logo\" /></a>{{/if}}\n        {{#if @blog.navigation}}\n            <a class=\"menu-button icon-menu\" href=\"#\"><span class=\"word\">导航</span></a>\n        {{/if}}\n    </nav>\n</header>\n\n<main class=\"content\" role=\"main\">\n    <article class=\"{{post_class}}\">\n\n        <header class=\"post-header\">\n            <h1 class=\"post-title\">{{title}}</h1>\n            <section class=\"post-meta\">\n                <time class=\"post-date\" datetime=\"{{date format='YYYY-MM-DD'}}\">{{date format=\"YYYY年MM月DD日\"}}</time> {{tags prefix=\" \"}}\n            </section>\n        </header>\n\n        <section class=\"post-content\">\n            {{content}}\n        </section>\n\n        <footer class=\"post-footer\">\n\n        {{! Everything inside the #author tags pulls data from the author }}\n        {{#author}}\n\n            {{#if image}}\n            <figure class=\"author-image\">\n                <a class=\"img\" href=\"{{url}}\" style=\"background-image: url({{image}})\"><span class=\"hidden\">{{name}}'s Picture</span></a>\n            </figure>\n            {{/if}}\n\n            <section class=\"author\">\n                <h4><a href=\"{{url}}\">{{name}}</a></h4>\n\n                {{#if bio}}\n                    <p>{{bio}}</p>\n                {{else}}\n                    <p>阅读该作者<a href=\"{{url}}\">所有文章</a></p>\n                {{/if}}\n                <div class=\"author-meta\">\n                    {{#if location}}<span class=\"author-location icon-location\">{{location}}</span>{{/if}}\n                    {{#if website}}<span class=\"author-link icon-link\"><a href=\"{{website}}\">{{website}}</a></span>{{/if}}\n                </div>\n            </section>\n\n        {{/author}}\n\n            <section class=\"share\">\n                <h4>分享本文</h4>\n                <a  href=\"http://service.weibo.com/share/share.php?title={{excerpt characters=\"120\"}}&url={{url absolute=\"true\"}}&appkey=725218700&pic= {{#if image}}{{image}}{{/if}}\"\n                    target=\"_blank\"\n                    >\n                    <i class=\"iconfont-24\" >&#xe619;</i> \n                </a><!-- 微博 -->\n\n                <a href=\"http://share.diancloud.com/?url={{url absolute=\"true\"}}&t=weixin\"\n                    target=\"_blank\"\n                >\n                    <i class=\"iconfont-24\" >&#xe61a;</i> \n                </a><!-- 微信 -->\n\n\n                <a href=\"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={{url absolute=\"true\"}}&title={{title}}&summary={{excerpt characters=\"120\"}}&desc=这篇文章不错，推荐大家看看。&site=diancloud.com&pics={{#if image}}{{image}}{{/if}}\" \n                     target=\"_blank\"\n                    >\n                    <i class=\"iconfont-24\" >&#xe604;</i> \n                </a><!-- QZone -->\n\n                <a href=\"javascript:void(function(){var d=document,e=encodeURIComponent,s1=window.getSelection,s2=d.getSelection,s3=d.selection,s=s1?s1():s2?s2():s3?s3.createRange().text:'',r='http://www.douban.com/recommend/?url='+e(d.location.href)+'&title='+e(d.title)+'&sel='+e(s)+'&v=1',w=450,h=330,x=function(){if(!window.open(r,'douban','toolbar=0,resizable=1,scrollbars=yes,status=1,width='+w+',height='+h+',left='+(screen.width-w)/2+',top='+(screen.height-h)/2))location.href=r+'&r=1'};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})()\">\n                   <i class=\"iconfont-24\" >&#58919;</i>\n                </a><!-- 豆瓣 -->\n\n                <a href=\"http://widget.renren.com/dialog/share?resourceUrl={{url absolute=\"true\"}}&srcUrl={{url absolute=\"true\"}}&pic={{#if image}}{{image}}{{/if}}&title={{title}}&description={{excerpt characters=\"120\"}}&charset=UTF-8\"\n                    target=\"_blank\">\n                    <i class=\"iconfont-24\" >&#xe636;</i> \n                </a><!-- 人人 -->\n\n            </section>\n\n        </footer>\n\n    </article>\n\n</main>\n\n<aside class=\"read-next\">\n    {{#next_post}}\n    <a class=\"read-next-story {{#if image}}\" style=\"background-image: url({{image}}){{else}}no-cover{{/if}}\" href=\"{{url}}\">\n        <section class=\"post\">\n            <h2>{{title}}</h2>\n            <p>{{excerpt words=\"19\"}}&hellip;</p>\n        </section>\n    </a>\n    {{/next_post}}\n    {{#prev_post}}\n    <a class=\"read-next-story prev {{#if image}}\" style=\"background-image: url({{image}}){{else}}no-cover{{/if}}\" href=\"{{url}}\">\n        <section class=\"post\">\n            <h2>{{title}}</h2>\n            <p>{{excerpt words=\"19\"}}&hellip;</p>\n        </section>\n    </a>\n    {{/prev_post}}\n</aside>\n\n{{/post}}\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression, alias5=helpers.blockHelperMissing, buffer = \n  \"\\n<header class=\\\"main-header post-head \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n    <nav class=\\\"main-nav \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \" clearfix\\\">\\n\\n        \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.navigation),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"    </nav>\\n</header>\\n\\n<main class=\\\"content\\\" role=\\\"main\\\">\\n    <article class=\\\"\"\n    + alias4(((helper = (helper = helpers.post_class || (depth0 != null ? depth0.post_class : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"post_class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\\n        <header class=\\\"post-header\\\">\\n            <h1 class=\\\"post-title\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n            <section class=\\\"post-meta\\\">\\n                <time class=\\\"post-date\\\" datetime=\\\"\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"YYYY-MM-DD\"},\"data\":data}))\n    + \"\\\">\"\n    + alias4((helpers.date || (depth0 && depth0.date) || alias2).call(alias1,{\"name\":\"date\",\"hash\":{\"format\":\"YYYY年MM月DD日\"},\"data\":data}))\n    + \"</time> \"\n    + alias4((helpers.tags || (depth0 && depth0.tags) || alias2).call(alias1,{\"name\":\"tags\",\"hash\":{\"prefix\":\" \"},\"data\":data}))\n    + \"\\n            </section>\\n        </header>\\n\\n        <section class=\\\"post-content\\\">\\n            \"\n    + alias4(((helper = (helper = helpers.content || (depth0 != null ? depth0.content : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"content\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n        </section>\\n\\n        <footer class=\\\"post-footer\\\">\\n\\n\";\n  stack1 = ((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : alias2),(options={\"name\":\"author\",\"hash\":{},\"fn\":container.program(12, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === alias3 ? helper.call(alias1,options) : helper));\n  if (!helpers.author) { stack1 = alias5.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  buffer += \"\\n            <section class=\\\"share\\\">\\n                <h4>分享本文</h4>\\n                <a  href=\\\"http://service.weibo.com/share/share.php?title=\"\n    + alias4((helpers.excerpt || (depth0 && depth0.excerpt) || alias2).call(alias1,{\"name\":\"excerpt\",\"hash\":{\"characters\":\"120\"},\"data\":data}))\n    + \"&url=\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"&appkey=725218700&pic= \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(23, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\"\\n                    target=\\\"_blank\\\"\\n                    >\\n                    <i class=\\\"iconfont-24\\\" >&#xe619;</i> \\n                </a><!-- 微博 -->\\n\\n                <a href=\\\"http://share.diancloud.com/?url=\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"&t=weixin\\\"\\n                    target=\\\"_blank\\\"\\n                >\\n                    <i class=\\\"iconfont-24\\\" >&#xe61a;</i> \\n                </a><!-- 微信 -->\\n\\n\\n                <a href=\\\"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"&title=\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"&summary=\"\n    + alias4((helpers.excerpt || (depth0 && depth0.excerpt) || alias2).call(alias1,{\"name\":\"excerpt\",\"hash\":{\"characters\":\"120\"},\"data\":data}))\n    + \"&desc=这篇文章不错，推荐大家看看。&site=diancloud.com&pics=\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(23, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\" \\n                     target=\\\"_blank\\\"\\n                    >\\n                    <i class=\\\"iconfont-24\\\" >&#xe604;</i> \\n                </a><!-- QZone -->\\n\\n                <a href=\\\"javascript:void(function(){var d=document,e=encodeURIComponent,s1=window.getSelection,s2=d.getSelection,s3=d.selection,s=s1?s1():s2?s2():s3?s3.createRange().text:'',r='http://www.douban.com/recommend/?url='+e(d.location.href)+'&title='+e(d.title)+'&sel='+e(s)+'&v=1',w=450,h=330,x=function(){if(!window.open(r,'douban','toolbar=0,resizable=1,scrollbars=yes,status=1,width='+w+',height='+h+',left='+(screen.width-w)/2+',top='+(screen.height-h)/2))location.href=r+'&r=1'};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})()\\\">\\n                   <i class=\\\"iconfont-24\\\" >&#58919;</i>\\n                </a><!-- 豆瓣 -->\\n\\n                <a href=\\\"http://widget.renren.com/dialog/share?resourceUrl=\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"&srcUrl=\"\n    + alias4((helpers.url || (depth0 && depth0.url) || alias2).call(alias1,{\"name\":\"url\",\"hash\":{\"absolute\":\"true\"},\"data\":data}))\n    + \"&pic=\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(23, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"&title=\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"&description=\"\n    + alias4((helpers.excerpt || (depth0 && depth0.excerpt) || alias2).call(alias1,{\"name\":\"excerpt\",\"hash\":{\"characters\":\"120\"},\"data\":data}))\n    + \"&charset=UTF-8\\\"\\n                    target=\\\"_blank\\\">\\n                    <i class=\\\"iconfont-24\\\" >&#xe636;</i> \\n                </a><!-- 人人 -->\\n\\n            </section>\\n\\n        </footer>\\n\\n    </article>\\n\\n</main>\\n\\n<aside class=\\\"read-next\\\">\\n\";\n  stack1 = ((helper = (helper = helpers.next_post || (depth0 != null ? depth0.next_post : depth0)) != null ? helper : alias2),(options={\"name\":\"next_post\",\"hash\":{},\"fn\":container.program(25, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === alias3 ? helper.call(alias1,options) : helper));\n  if (!helpers.next_post) { stack1 = alias5.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  stack1 = ((helper = (helper = helpers.prev_post || (depth0 != null ? depth0.prev_post : depth0)) != null ? helper : alias2),(options={\"name\":\"prev_post\",\"hash\":{},\"fn\":container.program(27, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === alias3 ? helper.call(alias1,options) : helper));\n  if (!helpers.prev_post) { stack1 = alias5.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"</aside>\\n\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    return \"overlay\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<a class=\\\"blog-logo\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\"><img src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\" alt=\\\"Blog Logo\\\" /></a>\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    return \"            <a class=\\\"menu-button icon-menu\\\" href=\\\"#\\\"><span class=\\\"word\\\">导航</span></a>\\n\";\n},\"12\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(13, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n            <section class=\\\"author\\\">\\n                <h4><a href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></h4>\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.bio : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(15, data, 0),\"inverse\":container.program(17, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"                <div class=\\\"author-meta\\\">\\n                    \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.location : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(19, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n                    \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.website : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(21, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n                </div>\\n            </section>\\n\\n\";\n},\"13\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"            <figure class=\\\"author-image\\\">\\n                <a class=\\\"img\\\" href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" style=\\\"background-image: url(\"\n    + alias4(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)))\n    + \")\\\"><span class=\\\"hidden\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"'s Picture</span></a>\\n            </figure>\\n\";\n},\"15\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"                    <p>\"\n    + container.escapeExpression(((helper = (helper = helpers.bio || (depth0 != null ? depth0.bio : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"bio\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</p>\\n\";\n},\"17\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"                    <p>阅读该作者<a href=\\\"\"\n    + container.escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">所有文章</a></p>\\n\";\n},\"19\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<span class=\\\"author-location icon-location\\\">\"\n    + container.escapeExpression(((helper = (helper = helpers.location || (depth0 != null ? depth0.location : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"location\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span>\";\n},\"21\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<span class=\\\"author-link icon-link\\\"><a href=\\\"\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = helpers.website || (depth0 != null ? depth0.website : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"website\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</a></span>\";\n},\"23\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return container.escapeExpression(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"image\",\"hash\":{},\"data\":data}) : helper)));\n},\"25\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"    <a class=\\\"read-next-story \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\" href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n        <section class=\\\"post\\\">\\n            <h2>\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h2>\\n            <p>\"\n    + alias4((helpers.excerpt || (depth0 && depth0.excerpt) || alias2).call(alias1,{\"name\":\"excerpt\",\"hash\":{\"words\":\"19\"},\"data\":data}))\n    + \"&hellip;</p>\\n        </section>\\n    </a>\\n\";\n},\"27\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"    <a class=\\\"read-next-story prev \"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.image : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\" href=\\\"\"\n    + alias4(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n        <section class=\\\"post\\\">\\n            <h2>\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h2>\\n            <p>\"\n    + alias4((helpers.excerpt || (depth0 && depth0.excerpt) || alias2).call(alias1,{\"name\":\"excerpt\",\"hash\":{\"words\":\"19\"},\"data\":data}))\n    + \"&hellip;</p>\\n        </section>\\n    </a>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, buffer = \n  \"\\n\\n\";\n  stack1 = ((helper = (helper = helpers.post || (depth0 != null ? depth0.post : depth0)) != null ? helper : helpers.helperMissing),(options={\"name\":\"post\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},options) : helper));\n  if (!helpers.post) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"useData\":true}"},{"file":"private.hbs","ext":".hbs","content":"<!doctype html>\n<!--[if (IE 8)&!(IEMobile)]><html class=\"no-js lt-ie9\" lang=\"en\"><![endif]-->\n<!--[if (gte IE 9)| IEMobile |!(IE)]><!--><html class=\"no-js\" lang=\"en\"><!--<![endif]-->\n    <head>\n        <meta http-equiv=\"Content-Type\" content=\"text/html\" charset=\"UTF-8\" />\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n\n        <title>Ghost博客 - 访问授权</title>\n\n        <meta name=\"HandheldFriendly\" content=\"True\">\n        <meta name=\"MobileOptimized\" content=\"320\">\n        <meta name=\"viewport\" content=\"user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1\">\n        <meta name=\"apple-mobile-web-app-capable\" content=\"yes\" />\n\n        <link rel=\"shortcut icon\" href=\"{{asset \"favicon.ico\"}}\">\n        <meta http-equiv=\"cleartype\" content=\"on\">\n\n        <link rel=\"stylesheet\" href=\"{{asset \"ghost.css\" ghost=\"true\" minifyInProduction=\"true\"}}\" />\n    </head>\n    <body class=\"ghost-setup\">\n        <main role=\"main\" id=\"main\" class=\"viewport\">\n            <section class=\"setup-box js-setup-box fade-in\">\n                <div class=\"vertical\">\n                    <form id=\"setup\" class=\"setup-form private-login\" method=\"post\" novalidate=\"novalidate\">\n                        <h1>这里是私人领地</h1>\n                        <div class=\"form-group\">\n                            <span class=\"input-icon icon-lock\">\n\t\t\t\t\t\t\t\t{{input_password}}\n                            </span>\n                            <button class=\"btn btn-green private-login-button\" type=\"submit\">\n                                芝麻开门\n                            </button>\n                        </div>\n                    </form>\n                </div>\n            </section>\n        </main>\n\n        {{#if error}}\n        <aside class=\"notification bottom\">\n            <div class=\"js-bb-notification\">\n                <section class=\"js-notification notification-error\">\n                    <span class=\"notification-message\">{{error.message}}</span>\n                </section>\n            </div>\n        </aside>\n        {{/if}}\n    </body>\n</html>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"        <aside class=\\\"notification bottom\\\">\\n            <div class=\\\"js-bb-notification\\\">\\n                <section class=\\\"js-notification notification-error\\\">\\n                    <span class=\\\"notification-message\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.error : depth0)) != null ? stack1.message : stack1), depth0))\n    + \"</span>\\n                </section>\\n            </div>\\n        </aside>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=container.escapeExpression;\n\n  return \"<!doctype html>\\n<!--[if (IE 8)&!(IEMobile)]><html class=\\\"no-js lt-ie9\\\" lang=\\\"en\\\"><![endif]-->\\n<!--[if (gte IE 9)| IEMobile |!(IE)]><!--><html class=\\\"no-js\\\" lang=\\\"en\\\"><!--<![endif]-->\\n    <head>\\n        <meta http-equiv=\\\"Content-Type\\\" content=\\\"text/html\\\" charset=\\\"UTF-8\\\" />\\n        <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=edge,chrome=1\\\" />\\n\\n        <title>Ghost博客 - 访问授权</title>\\n\\n        <meta name=\\\"HandheldFriendly\\\" content=\\\"True\\\">\\n        <meta name=\\\"MobileOptimized\\\" content=\\\"320\\\">\\n        <meta name=\\\"viewport\\\" content=\\\"user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1\\\">\\n        <meta name=\\\"apple-mobile-web-app-capable\\\" content=\\\"yes\\\" />\\n\\n        <link rel=\\\"shortcut icon\\\" href=\\\"\"\n    + alias3((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"favicon.ico\",{\"name\":\"asset\",\"hash\":{},\"data\":data}))\n    + \"\\\">\\n        <meta http-equiv=\\\"cleartype\\\" content=\\\"on\\\">\\n\\n        <link rel=\\\"stylesheet\\\" href=\\\"\"\n    + alias3((helpers.asset || (depth0 && depth0.asset) || alias2).call(alias1,\"ghost.css\",{\"name\":\"asset\",\"hash\":{\"minifyInProduction\":\"true\",\"ghost\":\"true\"},\"data\":data}))\n    + \"\\\" />\\n    </head>\\n    <body class=\\\"ghost-setup\\\">\\n        <main role=\\\"main\\\" id=\\\"main\\\" class=\\\"viewport\\\">\\n            <section class=\\\"setup-box js-setup-box fade-in\\\">\\n                <div class=\\\"vertical\\\">\\n                    <form id=\\\"setup\\\" class=\\\"setup-form private-login\\\" method=\\\"post\\\" novalidate=\\\"novalidate\\\">\\n                        <h1>这里是私人领地</h1>\\n                        <div class=\\\"form-group\\\">\\n                            <span class=\\\"input-icon icon-lock\\\">\\n\t\t\t\t\t\t\t\t\"\n    + alias3(((helper = (helper = helpers.input_password || (depth0 != null ? depth0.input_password : depth0)) != null ? helper : alias2),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"input_password\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\n                            </span>\\n                            <button class=\\\"btn btn-green private-login-button\\\" type=\\\"submit\\\">\\n                                芝麻开门\\n                            </button>\\n                        </div>\\n                    </form>\\n                </div>\\n            </section>\\n        </main>\\n\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,(depth0 != null ? depth0.error : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"    </body>\\n</html>\\n\";\n},\"useData\":true}"},{"file":"tag.hbs","ext":".hbs","content":"{{!< default}}\n{{! The tag above means - insert everything in this file into the {body} of the default.hbs template }}\n\n{{! If we have a tag cover, display that - else blog cover - else nothing }}\n<header class=\"main-header tag-head {{#if tag.image}}\" style=\"background-image: url({{tag.image}}){{else}}{{#if @blog.cover}}\" style=\"background-image: url({{@blog.cover}}){{else}}no-cover{{/if}}{{/if}}\">\n    <nav class=\"main-nav overlay clearfix\">\n\n        {{#if @blog.logo}}<a class=\"blog-logo\" href=\"{{@blog.url}}\"><img src=\"{{@blog.logo}}\" alt=\"博客 Logo\" /></a>{{/if}}\n        {{#if @blog.navigation}}\n            <a class=\"menu-button icon-menu\" href=\"#\"><span class=\"word\">导航</span></a>\n        {{/if}}\n    </nav>\n    <div class=\"vertical\">\n        <div class=\"main-header-content inner\">\n            <h1 class=\"page-title\">{{tag.name}}</h1>\n            <h2 class=\"page-description\">\n                {{#if tag.description}}\n                    {{tag.description}}\n                {{else}}\n                    共 {{pagination.total}} 篇文章\n                {{/if}}\n            </h2>\n        </div>\n    </div>\n</header>\n\n{{! The main content area on the homepage }}\n<main class=\"content\" role=\"main\">\n\n    {{! The tag below includes the post loop - partials/loop.hbs }}\n    {{> \"loop\"}}\n\n</main>\n","compiled":"{\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.image : stack1), depth0))\n    + \")\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers[\"if\"].call(depth0 != null ? depth0 : {},((stack1 = (data && data.blog)) && stack1.cover),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.program(6, data, 0),\"data\":data})) != null ? stack1 : \"\");\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"\\\" style=\\\"background-image: url(\"\n    + container.escapeExpression(container.lambda(((stack1 = (data && data.blog)) && stack1.cover), depth0))\n    + \")\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    return \"no-cover\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<a class=\\\"blog-logo\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.url), depth0))\n    + \"\\\"><img src=\\\"\"\n    + alias2(alias1(((stack1 = (data && data.blog)) && stack1.logo), depth0))\n    + \"\\\" alt=\\\"博客 Logo\\\" /></a>\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    return \"            <a class=\\\"menu-button icon-menu\\\" href=\\\"#\\\"><span class=\\\"word\\\">导航</span></a>\\n\";\n},\"12\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"                    \"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.description : stack1), depth0))\n    + \"\\n\";\n},\"14\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"                    共 \"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.pagination : depth0)) != null ? stack1.total : stack1), depth0))\n    + \" 篇文章\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : {};\n\n  return \"\\n<header class=\\\"main-header tag-head \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.image : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\\n    <nav class=\\\"main-nav overlay clearfix\\\">\\n\\n        \"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.logo),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (data && data.blog)) && stack1.navigation),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"    </nav>\\n    <div class=\\\"vertical\\\">\\n        <div class=\\\"main-header-content inner\\\">\\n            <h1 class=\\\"page-title\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.name : stack1), depth0))\n    + \"</h1>\\n            <h2 class=\\\"page-description\\\">\\n\"\n    + ((stack1 = helpers[\"if\"].call(alias1,((stack1 = (depth0 != null ? depth0.tag : depth0)) != null ? stack1.description : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(12, data, 0),\"inverse\":container.program(14, data, 0),\"data\":data})) != null ? stack1 : \"\")\n    + \"            </h2>\\n        </div>\\n    </div>\\n</header>\\n\\n<main class=\\\"content\\\" role=\\\"main\\\">\\n\\n\"\n    + ((stack1 = container.invokePartial(partials.loop,depth0,{\"name\":\"loop\",\"data\":data,\"indent\":\"    \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"\\n</main>\\n\";\n},\"usePartial\":true,\"useData\":true}"}],"results":{"pass":[{"level":"error","rule":"Replace <code>{{pageUrl}}</code> with <code>{{page_url}}</code>","fatal":true,"details":"The helper <code>{{pageUrl}}</code> was replaced with <code>{{page_url}}</code>.<br>Find more information about the <code>{{page_url}}</code> helper <a href=\"https://themes.ghost.org/docs/page_url\" target=_blank>here</a>.","code":"GS001-DEPR-PURL"},{"level":"error","rule":"Replace the <code>{{post.image}}</code> helper with <code>{{post.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in post context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.image}}</code> you need to use <code>{{post.feature_image}}</code>.<br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PIMG"},{"level":"error","rule":"Replace the <code>{{author.cover}}</code> helper with <code>{{author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{author.cover}}</code> you need to use <code>{{author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-AC"},{"level":"error","rule":"Replace the <code>{{tags.[#].image}}</code> helper with <code>{{tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tags.[#].image}}</code> you need to use <code>{{tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-TSIMG"},{"level":"error","rule":"Replace the <code>{{post.author.image}}</code> helper with <code>{{post.author.feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in author context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.author.image}}</code> you need to use <code>{{post.author.feature_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PAIMG"},{"level":"error","rule":"Replace the <code>{{post.author.cover}}</code> helper with <code>{{post.author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute in author context was replaced with <code>cover_image</code>.<br>Instead of <code>{{post.author.cover}}</code> you need to use <code>{{post.author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PAC"},{"level":"error","rule":"Replace the <code>{{post.tags.[#].image}}</code> helper with <code>{{post.tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{post.tags.[#].image}}</code> you need to use <code>{{post.tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-PTIMG"},{"level":"error","rule":"Replace the <code>{{#if author.cover}}</code> helper with <code>{{#if author.cover_image}}</code>","fatal":true,"details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if author.cover}}</code> you need to use <code>{{#if author.cover_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-AC"},{"level":"error","rule":"Replace the <code>{{#if post.tags.[#].image}}</code> helper with <code>{{#if post.tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if post.tags.[#].image}}</code> you need to use <code>{{#if post.tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-PTIMG"},{"level":"error","rule":"Replace the <code>{{#if tags.[#].image}}</code> helper with <code>{{#if tags.[#].feature_image}}</code>","fatal":true,"details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tags.[#].image}}</code> you need to use <code>{{#if tags.[#].feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","code":"GS001-DEPR-CON-TSIMG"},{"level":"error","rule":"Replace <code>{{@blog.posts_per_page}}</code> with <code>{{@config.posts_per_page}}</code>","details":"The global <code>{{@blog.posts_per_page}}</code> property was replaced with <code>{{@config.posts_per_page}}</code>.<br>Read <a href=\"https://themes.ghost.org/docs/config\" target=_blank>here</a> about the attribute and check <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank>here</a> where you can customise the posts per page setting, as this is now adjustable in your theme.","code":"GS001-DEPR-PPP"},{"level":"error","rule":"Replace <code>{{content words=\"0\"}}</code> with the <code>{{img_url}}</code> helper","details":"The <code>{{content words=\"0\"}}</code> hack doesn't work anymore (and was never supported). Please use the <code>{{img_url}}</code> helper to render images.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and ","code":"GS001-DEPR-C0H"},{"level":"error","rule":"Replace <code>.page</code> with the <code>.page-template</code> css class","details":"The <code>.page</code> CSS class was replaced with the <code>.page-template</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-PA"},{"level":"error","rule":"Replace <code>.page-template-slug</code> with the <code>.page-slug</code> css class","details":"The <code>.page-template-slug</code> CSS class was replaced with the <code>.page-slug</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context.","code":"GS001-DEPR-CSS-PATS"},{"level":"error","rule":"Replace <code>{{id}}</code> with <code>{{comment_id}}</code> in Disqus embeds.","fatal":true,"details":"The output of <code>{{id}}</code> has changed between Ghost LTS and 1.0.0. This results in Disqus comments not loading on Ghost 1.0.0 posts which were imported from Ghost LTS. To resolve this, we've added a new <code>{{comment_id}}</code> helper that will output the old ID for posts that have been imported from LTS, and the new ID for new posts. The Disqus embed must be updated from <code>this.page.identifier = 'ghost-{{id}}';</code> to <code>this.page.identifier = 'ghost-{{comment_id}}';</code> to ensure Disqus continues to work.","code":"GS002-DISQUS-ID"},{"level":"recommendation","rule":"The output of <code>{{id}}</code> changed between Ghost LTS and 1.0.0, you may need to use <code>{{comment_id}}</code> instead.","details":"The output of <code>{{id}}</code> has changed between Ghost LTS and 1.0.0. <code>{{id}}</code> used to output an incrementing integer ID, and will now output an ObjectID. We've added a new <code>{{comment_id}}</code> helper that will output the old ID for posts that have been imported from LTS, and the new ID for new posts. If you need the old ID to be output on imported posts, then you will need to use <code>{{comment_id}}</code> rather than <code>{{id}}</code>.","code":"GS002-ID-HELPER"},{"level":"error","rule":"Templates must contain valid Handlebars","fatal":true,"details":"Oops! You seemed to have used invalid Handlebars syntax. This mostly happens, when you use a helper that is not supported.<br>See the full list of available helpers <a href=\"https://themes.ghost.org/docs/helpers\" target=_blank>here</a>.","code":"GS005-TPL-ERR"},{"level":"error","rule":"A template file called <code>index.hbs</code> must be present","fatal":true,"details":"Your theme must have a template file called <code>index.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the required template structure and <code>index.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-index-hbs\" target=_blank>particular</a>.","code":"GS020-INDEX-REQ"},{"level":"error","rule":"A template file called <code>post.hbs</code> must be present","fatal":true,"details":"Your theme must have a template file called <code>index.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the required template structure and <code>post.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-post-hbs\" target=_blank>particular</a>.","code":"GS020-POST-REQ"},{"level":"recommendation","rule":"Provide a default layout template called default.hbs","details":"It is recommended that your theme has a template file called <code>default.hbs</code>.<br>Read <a href=\"https://themes.ghost.org/docs/templates\" target=_blank>here</a> more about the recommended template structure and <code>default.hbs</code> in <a href=\"https://themes.ghost.org/docs/templates#section-default-hbs\" target=_blank>particular</a>.","code":"GS020-DEF-REC"},{"level":"warning","rule":"Assets such as CSS & JS must use the <code>{{asset}}</code> helper","details":"The listed files should be included using the <code>{{asset}}</code> helper.<br>For more information, please see the <a href=\"https://themes.ghost.org/docs/asset\" target=_blank><code>{{asset}}</code> helper documentation</a>.","code":"GS030-ASSET-REQ"},{"level":"error","rule":"Symlinks in themes are not allowed","fatal":true,"details":"Symbolic links in themes are not allowed. Please use the <code>{{asset}}</code> helper.<br>For more information, please see the <a href=\"https://themes.ghost.org/docs/asset\" target=_blank><code>{{asset}}</code> helper documentation</a>.","code":"GS030-ASSET-SYM"},{"level":"warning","rule":"The helper <code>{{ghost_head}}</code> should be present","details":"The <code>{{ghost_head}}</code> helper should be present in your theme. It outputs many useful things, such as <a href=\"https://help.ghost.org/hc/en-us/articles/223403488-Code-Injection\" target=_blank>\"code injection\" scripts</a>, structured data, canonical links, meta description etc.<br>The helper belongs just before the <code></head></code> tag in your <code>default.hbs</code> template.<br>For more details, please see the <a href=\"https://themes.ghost.org/docs/ghost_head\" target=_blank><code>{{ghost_head}}</code> helper documentation</a>.","code":"GS040-GH-REQ"},{"level":"warning","rule":"The helper <code>{{ghost_foot}}</code> should be present","details":"The <code>{{ghost_foot}}</code> helper should be present in your theme. It outputs scripts as saved in <a href=\"https://help.ghost.org/hc/en-us/articles/223403488-Code-Injection\" target=_blank>\"code injection\" scripts</a>.<br>The helper belongs just before the <code></body></code> tag in your <code>default.hbs</code> template.<br>For more details, please see the <a href=\"https://themes.ghost.org/docs/ghost_foot\" target=_blank><code>{{ghost_foot}}</code> helper documentation</a>.","code":"GS040-GF-REQ"}],"error":[{"fatal":true,"level":"error","rule":"Replace the <code>{{image}}</code> helper with <code>{{img_url feature_image}}</code> or <code>{{img_url profile_image}}</code>","details":"The <code>{{image}}</code> helper was replaced with <code>{{img_url}}</code>.<br>Depending on the context of the <code>{{img_url}}</code> helper you would need to use e. g. <br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{img_url feature_image}}<br>{{/post}}</code><br><br>to render the feature image of the blog post.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and read more about Ghost's usage of contexts <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{image}} from this template"}],"code":"GS001-DEPR-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{cover}}</code> helper with <code>{{cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To render the cover image in author context, you need to use<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To render the cover image of your blog, just use <code>{{@blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{cover}} from this template"}],"code":"GS001-DEPR-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{author.image}}</code> helper with <code>{{author.profile_image}}</code>","details":"The <code>image</code> attribute in author context was replaced with <code>profile_image</code>.<br>Instead of <code>{{author.image}}</code> you need to use <code>{{author.profile_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"partials/loop.hbs","message":"Please remove or replace {{author.image}} from this template"}],"code":"GS001-DEPR-AIMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{@blog.cover}}</code> helper with <code>{{@blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{@blog.cover}}</code> you need to use <code>{{@blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"index.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{@blog.cover}} from this template"}],"code":"GS001-DEPR-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{tag.image}}</code> helper with <code>{{tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tag.image}}</code> you need to use <code>{{tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{tag.image}} from this template"}],"code":"GS001-DEPR-TIMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if image}}</code> helper with <code>{{#if feature_image}}</code>, or <code>{{#if profile_image}}</code>","details":"The <code>image</code> attribute was replaced with <code>feature_image</code> and <code>profile_image</code>.<br>Depending on the <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>context</a> you will need to replace it like this:<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/post}}</code><br><br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.<br><br><code>{{#tag}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/tag}}</code><br><br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{#if image}} from this template"}],"code":"GS001-DEPR-CON-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if cover}}</code> helper with <code>{{#if cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To check for the cover image in author context, you need to use<br><br><code>{{#if cover_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/if}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To check for the cover image of your blog, just use <code>{{#if @blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if cover}} from this template"}],"code":"GS001-DEPR-CON-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if @blog.cover}}</code> helper with <code>{{#if @blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if @blog.cover}}</code> you need to use <code>{{#if @blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"index.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"}],"code":"GS001-DEPR-CON-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if author.image}}</code> helper with <code>{{#if author.profile_image}}</code>","details":"The <code>image</code> attribute in author context was replaced with <code>profile_image</code>.<br>Instead of <code>{{#if author.image}}</code> you need to use <code>{{#if author.profile_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"partials/loop.hbs","message":"Please remove or replace {{#if author.image}} from this template"}],"code":"GS001-DEPR-CON-AIMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if tag.image}}</code> helper with <code>{{#if tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tag.image}}</code> you need to use <code>{{#if tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{#if tag.image}} from this template"}],"code":"GS001-DEPR-CON-TIMG"}],"warning":[],"recommendation":[],"missing":[{"level":"error","rule":"The usage of <code>{{meta_description}}</code> in HTML <code>head</code> is no longer required","details":"The usage of <code>{{meta_description}}</code> in the HTML <code>head</code> tag is no longer required because Ghost outputs this for you automatically in <code>{{ghost_head}}</code>.<br>Check out the documentation for <code>{{meta_description}}</code> <a href=\"https://themes.ghost.org/docs/meta_description\" target=_blank>here</a>.<br>To see, what else is rendered with the <code>{{ghost_head}}</code> helper, look <a href=\"https://themes.ghost.org/docs/ghost_head\" target=_blank>here</a>."},{"level":"error","rule":"Replace <code>.archive-template</code> with the <code>.paged</code> CSS class","details":"The <code>.archive-template</code> CSS class was replaced with the <code>.paged</code>. Please replace this in your stylesheet.<br>See the <a href=\"https://themes.ghost.org/docs/context-overview#section-context-table\" target=_blank>context table</a> to check which classes Ghost uses for each context."},{"level":"error","rule":"<code>package.json</code> file should be present","details":"You should provide a <code>package.json</code> file for your theme.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended."},{"level":"error","rule":"<code>package.json</code> file can be parsed","details":"Your <code>package.json</code> file couldn't be parsed. This is mostly caused by a missing or unnecessary <code>','</code> or the wrong usage of <code>'\"\"'</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> for further information.<br>A good reference for your <code>package.json</code> file is always the latest version of  <a href=\"https://github.com/TryGhost/Casper/blob/master/package.json\" target=_blank>Casper</a>."},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> must be lowercase","details":"The property <code>\"name\"</code> in your <code>package.json</code> file must be lowercase.<br>Good examples are: <code>\"my-theme\"</code> or <code>\"theme\"</code> rather than <code>\"My Theme\"</code> or <code>\"Theme\"</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--name-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> must be hyphenated","details":"The property <code>\"name\"</code> in your <code>package.json</code> file must be hyphenated.<br>Please use <code>\"my-theme\"</code> rather than <code>\"My Theme\"</code> or <code>\"my theme\"</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--name-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"name\"</code> is required","details":"Please add the property <code>\"name\"</code> to your <code>package.json</code>. E.g. <code>{\"name\": \"my-theme\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended."},{"level":"error","rule":"<code>package.json</code> property <code>\"version\"</code> must be semver compliant","details":"The property <code>\"version\"</code> in your <code>package.json</code> file must be semver compliant. E.g. <code>{\"version\": \"1.0.0\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--version-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"version\"</code> is required","details":"Please add the property <code>\"version\"</code> to your <code>package.json</code>. E.g. <code>{\"version\": \"1.0.0\"}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended."},{"level":"error","rule":"<code>package.json</code> property <code>\"author.email\"</code> must be valid","details":"The property <code>\"author.email\"</code> in your <code>package.json</code> file must a valid email. E.g. <code>{\"author\": {\"email\": \"hello@example.com\"}}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--author-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"recommendation","rule":"<code>package.json</code> property <code>\"config.posts_per_page\"</code> is recommended. Otherwise, it falls back to 5","details":"Please add <code>\"posts_per_page\"</code> to your <code>package.json</code>. E.g. <code>{\"config\": { \"posts_per_page\": 5}}</code>.<br>If no <code>\"posts_per_page\"</code> property is provided, Ghost will use its default setting of 5 posts per page.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"config.posts_per_page\"</code> must be a number above 0","details":"The property <code>\"config.posts_per_page\"</code> in your <code>package.json</code> file must be a number greater than zero. E.g. <code>{\"config\": { \"posts_per_page\": 5}}</code>.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson#section--config-posts_per_page-\" target=_blank><code>package.json</code> documentation</a> for further information."},{"level":"error","rule":"<code>package.json</code> property <code>\"author.email\"</code> is required","details":"Please add the property <code>\"author.email\"</code> to your <code>package.json</code>. E.g. <code>{\"author\": {\"email\": \"hello@example.com\"}}</code>.<br>The email is required so that themes which are distributed (either free or paid) have a method of contacting the author so users can get support and more importantly so that Ghost can reach out about breaking changes and security updates.<br>The <code>package.json</code> file is <strong>NOT</strong> accessible when uploaded to a blog so if the theme is only uploaded to a single blog, no one will see this email address.<br>Check the <a href=\"https://themes.ghost.org/docs/packagejson\" target=_blank><code>package.json</code> documentation</a> to see which properties are required and which are recommended."}],"score":{"value":67,"level":"error"},"hasFatalErrors":true},"partials":["loop","navigation"],"helpers":{"helperMissing":["author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","author.hbs","default.hbs","page.hbs","page.hbs","page.hbs","partials/loop.hbs","partials/loop.hbs","partials/navigation.hbs","partials/navigation.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","private.hbs"],"name":["author.hbs","author.hbs","post.hbs","post.hbs"],"plural":["author.hbs"],"cover":["author.hbs"],"image":["author.hbs","page.hbs","post.hbs","post.hbs","post.hbs"],"bio":["author.hbs","post.hbs"],"location":["author.hbs","post.hbs"],"website":["author.hbs","author.hbs","post.hbs","post.hbs"],"author":["author.hbs","author.hbs","partials/loop.hbs","post.hbs","post.hbs"],"blockHelperMissing":["author.hbs","page.hbs","post.hbs","post.hbs"],"meta_title":["default.hbs"],"meta_description":["default.hbs"],"asset":["default.hbs","default.hbs","default.hbs","default.hbs","private.hbs","private.hbs"],"ghost_head":["default.hbs"],"body_class":["default.hbs"],"navigation":["default.hbs"],"body":["default.hbs"],"date":["default.hbs","partials/loop.hbs","partials/loop.hbs","post.hbs","post.hbs"],"ghost_foot":["default.hbs"],"post_class":["page.hbs","partials/loop.hbs","post.hbs"],"title":["page.hbs","partials/loop.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs"],"content":["page.hbs","post.hbs"],"post":["page.hbs","page.hbs","post.hbs","post.hbs"],"url":["partials/loop.hbs","partials/loop.hbs","partials/navigation.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs"],"excerpt":["partials/loop.hbs","post.hbs","post.hbs","post.hbs","post.hbs","post.hbs"],"tags":["partials/loop.hbs","post.hbs"],"pagination":["partials/loop.hbs","partials/loop.hbs"],"foreach":["partials/loop.hbs","partials/navigation.hbs"],"slug":["partials/navigation.hbs"],"label":["partials/navigation.hbs"],"next_post":["post.hbs","post.hbs"],"prev_post":["post.hbs","post.hbs"],"input_password":["private.hbs"]}},"stack":"ThemeValidationError: Theme is not compatible or contains errors.\n    at ThemeValidationError.GhostError (/home/www/ghost/core/server/errors.js:9:26)\n    at new ThemeValidationError (/home/www/ghost/core/server/errors.js:52:20)\n    at resultHandler (/home/www/ghost/core/server/themes/validate.js:32:31)\n    at tryCatcher (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:510:31)\n    at Promise._settlePromise (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:567:18)\n    at Promise._settlePromise0 (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:612:10)\n    at Promise._settlePromises (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/promise.js:691:18)\n    at Async._drainQueue (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:138:16)\n    at Async._drainQueues (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:148:10)\n    at Immediate.Async.drainQueues (/home/www/ghost/node_modules/gscan/node_modules/bluebird/js/release/async.js:17:14)\n    at runCallback (timers.js:672:20)\n    at tryOnImmediate (timers.js:645:5)\n    at processImmediate [as _immediateCallback] (timers.js:617:5)","errorDetails":[{"fatal":true,"level":"error","rule":"Replace the <code>{{image}}</code> helper with <code>{{img_url feature_image}}</code> or <code>{{img_url profile_image}}</code>","details":"The <code>{{image}}</code> helper was replaced with <code>{{img_url}}</code>.<br>Depending on the context of the <code>{{img_url}}</code> helper you would need to use e. g. <br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{img_url feature_image}}<br>{{/post}}</code><br><br>to render the feature image of the blog post.<br>Find more information about the <code>{{img_url}}</code> helper <a href=\"https://themes.ghost.org/docs/img_url\" target=_blank>here</a> and read more about Ghost's usage of contexts <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{image}} from this template"}],"code":"GS001-DEPR-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{cover}}</code> helper with <code>{{cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To render the cover image in author context, you need to use<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To render the cover image of your blog, just use <code>{{@blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{cover}} from this template"}],"code":"GS001-DEPR-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{author.image}}</code> helper with <code>{{author.profile_image}}</code>","details":"The <code>image</code> attribute in author context was replaced with <code>profile_image</code>.<br>Instead of <code>{{author.image}}</code> you need to use <code>{{author.profile_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"partials/loop.hbs","message":"Please remove or replace {{author.image}} from this template"}],"code":"GS001-DEPR-AIMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{@blog.cover}}</code> helper with <code>{{@blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{@blog.cover}}</code> you need to use <code>{{@blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"index.hbs","message":"Please remove or replace {{@blog.cover}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{@blog.cover}} from this template"}],"code":"GS001-DEPR-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{tag.image}}</code> helper with <code>{{tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{tag.image}}</code> you need to use <code>{{tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{tag.image}} from this template"}],"code":"GS001-DEPR-TIMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if image}}</code> helper with <code>{{#if feature_image}}</code>, or <code>{{#if profile_image}}</code>","details":"The <code>image</code> attribute was replaced with <code>feature_image</code> and <code>profile_image</code>.<br>Depending on the <a href=\"https://themes.ghost.org/docs/context-overview\" target=_blank>context</a> you will need to replace it like this:<br><br><code>{{#author}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{profile_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/author}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br><br><code>{{#post}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/post}}</code><br><br>See the object attributes of <code>post</code> <a href=\"https://themes.ghost.org/docs/post-context#section-post-object-attributes\" target=_blank>here</a>.<br><br><code>{{#tag}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{#if feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{feature_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{/if}}<br>{{/tag}}</code><br><br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"page.hbs","message":"Please remove or replace {{#if image}} from this template"},{"ref":"post.hbs","message":"Please remove or replace {{#if image}} from this template"}],"code":"GS001-DEPR-CON-IMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if cover}}</code> helper with <code>{{#if cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>. To check for the cover image in author context, you need to use<br><br><code>{{#if cover_image}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{cover_image}}<br>{{/if}}</code><br><br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.<br>To check for the cover image of your blog, just use <code>{{#if @blog.cover_image}}</code>. See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"author.hbs","message":"Please remove or replace {{#if cover}} from this template"}],"code":"GS001-DEPR-CON-COV"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if @blog.cover}}</code> helper with <code>{{#if @blog.cover_image}}</code>","details":"The <code>cover</code> attribute was replaced with <code>cover_image</code>.<br>Instead of <code>{{#if @blog.cover}}</code> you need to use <code>{{#if @blog.cover_image}}</code>.<br>See <a href=\"https://themes.ghost.org/docs/blog\" target=_blank>here</a>.","failures":[{"ref":"index.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"},{"ref":"tag.hbs","message":"Please remove or replace {{#if @blog.cover}} from this template"}],"code":"GS001-DEPR-CON-BC"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if author.image}}</code> helper with <code>{{#if author.profile_image}}</code>","details":"The <code>image</code> attribute in author context was replaced with <code>profile_image</code>.<br>Instead of <code>{{#if author.image}}</code> you need to use <code>{{#if author.profile_image}}</code>.<br>See the object attributes of <code>author</code> <a href=\"https://themes.ghost.org/docs/author-context#section-author-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"partials/loop.hbs","message":"Please remove or replace {{#if author.image}} from this template"}],"code":"GS001-DEPR-CON-AIMG"},{"fatal":true,"level":"error","rule":"Replace the <code>{{#if tag.image}}</code> helper with <code>{{#if tag.feature_image}}</code>","details":"The <code>image</code> attribute in tag context was replaced with <code>feature_image</code>.<br>Instead of <code>{{#if tag.image}}</code> you need to use <code>{{#if tag.feature_image}}</code>.<br>See the object attributes of <code>tags</code> <a href=\"https://themes.ghost.org/docs/tag-context#section-tag-object-attributes\" target=_blank>here</a>.","failures":[{"ref":"tag.hbs","message":"Please remove or replace {{#if tag.image}} from this template"}],"code":"GS001-DEPR-CON-TIMG"}]},"msg":"Theme is not compatible or contains errors.","time":"2017-09-29T03:46:33.216Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ca830c90-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"statusCode":304,"responseTime":"29ms"},"msg":"","time":"2017-09-29T03:46:35.639Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d06d06b0-a4c8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/everblog-master/activate/","method":"PUT","originalUrl":"/ghost/api/v0.1/themes/everblog-master/activate/","params":{"name":"everblog-master"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"2","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","content-length":"270","etag":"W/\"10e-ChHPIndD2zeUqcoWBG9MY3Ygy7I\""},"statusCode":200,"responseTime":"85ms"},"msg":"","time":"2017-09-29T03:46:45.617Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d2142700-a4c8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/settings/","method":"PUT","originalUrl":"/ghost/api/v0.1/settings/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"883","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"settings":{"0":{"key":"title","value":"RPblog"},"1":{"key":"description","value":"Thoughts, stories and ideas."},"2":{"key":"logo","value":"https://casper.ghost.org/v1.0.0/images/ghost-logo.svg"},"3":{"key":"cover_image","value":"https://casper.ghost.org/v1.0.0/images/blog-cover.jpg"},"4":{"key":"icon","value":""},"5":{"key":"default_locale","value":"en"},"6":{"key":"force_i18n","value":"true"},"7":{"key":"permalinks","value":"/:slug/"},"8":{"key":"active_timezone","value":"Asia/Hong_Kong"},"9":{"key":"ghost_head","value":""},"10":{"key":"ghost_foot","value":""},"11":{"key":"facebook","value":""},"12":{"key":"twitter","value":""},"13":{"key":"labs","value":"{\"publicAPI\": true}"},"14":{"key":"navigation","value":"[{\"label\":\"Home\",\"url\":\"/\"}]"},"15":{"key":"is_private","value":"false"},"16":{"key":"password","value":""},"17":{"key":"slack","value":"[{\"url\":\"\"}]"},"18":{"key":"amp","value":"true"},"19":{"key":"unsplash","value":"{\"isActive\":true}"}}},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"1009-eCstuxhhuxpdwj1cRkVGPWXRo4Q\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"157ms"},"msg":"","time":"2017-09-29T03:46:48.465Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5a16c70-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"25cb-L1dJ+bpwHBH39M6uP36HtfL2DKQ\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"211d-rv4MWbyMZeVwSceneLBju8gSBoM\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"58ms"},"msg":"","time":"2017-09-29T03:46:54.321Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5abccb0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/css/bootstrap.min.css?v=dce58bb251","method":"GET","originalUrl":"/assets/css/bootstrap.min.css?v=dce58bb251","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"dce58bb251"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:07 GMT","etag":"W/\"1deac-15ecbb67a6b\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"7ms"},"msg":"","time":"2017-09-29T03:46:54.339Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5afc450-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/css/default.css?v=dce58bb251","method":"GET","originalUrl":"/assets/css/default.css?v=dce58bb251","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"dce58bb251"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:07 GMT","etag":"W/\"2a64-15ecbb67a6a\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T03:46:54.360Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5b14af0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/css/nprogress.css?v=dce58bb251","method":"GET","originalUrl":"/assets/css/nprogress.css?v=dce58bb251","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"dce58bb251"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:07 GMT","etag":"W/\"5b2-15ecbb67a6a\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T03:46:54.369Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5b2aa80-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=dce58bb251","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=dce58bb251","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"dce58bb251"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T03:46:54.377Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5b3e300-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/image/PH_Day_50x50.png","method":"GET","originalUrl":"/assets/image/PH_Day_50x50.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:07 GMT","etag":"W/\"3ea-15ecbb67a6b\"","content-type":"image/png","content-length":1002},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T03:46:54.386Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5b4f470-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T03:46:54.393Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5b54290-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/image/PH_Night_50x50.png","method":"GET","originalUrl":"/assets/image/PH_Night_50x50.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:07 GMT","etag":"W/\"3e6-15ecbb67a6b\"","content-type":"image/png","content-length":998},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T03:46:54.396Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5b569a0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/image/search.svg","method":"GET","originalUrl":"/assets/image/search.svg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:07 GMT","etag":"W/\"28a-15ecbb67a6b\"","content-type":"image/svg+xml","content-length":650,"vary":"Accept-Encoding"},"statusCode":200,"responseTime":"4ms"},"msg":"","time":"2017-09-29T03:46:54.398Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5b5ded0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"2ms"},"msg":"","time":"2017-09-29T03:46:54.399Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5b5ded1-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.min.js?v=dce58bb251","method":"GET","originalUrl":"/assets/js/jquery.min.js?v=dce58bb251","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"dce58bb251"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:07 GMT","etag":"W/\"176d5-15ecbb67a6b\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"8ms"},"msg":"","time":"2017-09-29T03:46:54.406Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5bd7ff0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/bootstrap.min.js?v=dce58bb251","method":"GET","originalUrl":"/assets/js/bootstrap.min.js?v=dce58bb251","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"dce58bb251"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:07 GMT","etag":"W/\"8fd0-15ecbb67a6b\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T03:46:54.451Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5c01800-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/nprogress.js?v=dce58bb251","method":"GET","originalUrl":"/assets/js/nprogress.js?v=dce58bb251","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"dce58bb251"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:07 GMT","etag":"W/\"2d2d-15ecbb67a6b\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T03:46:54.466Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5c17790-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/headroom.min.js?v=dce58bb251","method":"GET","originalUrl":"/assets/js/headroom.min.js?v=dce58bb251","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"dce58bb251"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:07 GMT","etag":"W/\"14ef-15ecbb67a6b\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T03:46:54.475Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5c32540-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/prism.js?v=dce58bb251","method":"GET","originalUrl":"/assets/js/prism.js?v=dce58bb251","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"dce58bb251"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:07 GMT","etag":"W/\"6d48-15ecbb67a6b\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T03:46:54.487Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5cb1480-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/ghostsearch.js?v=dce58bb251","method":"GET","originalUrl":"/assets/js/ghostsearch.js?v=dce58bb251","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"dce58bb251"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:07 GMT","etag":"W/\"111d-15ecbb67a6b\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T03:46:54.539Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5cce940-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/default.js?v=dce58bb251","method":"GET","originalUrl":"/assets/js/default.js?v=dce58bb251","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"dce58bb251"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:07 GMT","etag":"W/\"3316-15ecbb67a6b\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T03:46:54.550Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5cf8150-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/css/grey.css?v=dce58bb251","method":"GET","originalUrl":"/assets/css/grey.css?v=dce58bb251","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"dce58bb251"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:07 GMT","etag":"W/\"11dd-15ecbb67a6a\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T03:46:54.567Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5d1cb42-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/image/search.svg","method":"GET","originalUrl":"/assets/image/search.svg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/xml, text/xml, */*; q=0.01","x-requested-with":"XMLHttpRequest","referer":"http://47.95.197.107/","accept-language":"zh-CN","accept-encoding":"gzip, deflate","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","if-modified-since":"Fri, 29 Sep 2017 03:38:07 GMT","if-none-match":"W/\"28a-15ecbb67a6b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:07 GMT","etag":"W/\"28a-15ecbb67a6b\""},"statusCode":304,"responseTime":"2ms"},"msg":"","time":"2017-09-29T03:46:54.583Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5d1cb41-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/css/prism/prism-okaidia.css","method":"GET","originalUrl":"/assets/css/prism/prism-okaidia.css","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:07 GMT","etag":"W/\"798-15ecbb67a6c\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"9ms"},"msg":"","time":"2017-09-29T03:46:54.590Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d5d092c0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/welcome/","method":"GET","originalUrl":"/welcome/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","x-requested-with":"XMLHttpRequest","referer":"http://47.95.197.107/","accept-language":"zh-CN","accept-encoding":"gzip, deflate","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","if-none-match":"W/\"3ecc-J3Yixi2tQ5Z+4e4MEdH1auFM1R8\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","etag":"W/\"700-eXbh/ooEHWaZ+2N00PBPICYH+XQ\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":404,"responseTime":"18ms"},"msg":"","time":"2017-09-29T03:46:54.591Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d6fbcc50-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","x-requested-with":"XMLHttpRequest","referer":"http://47.95.197.107/","accept-language":"zh-CN","accept-encoding":"gzip, deflate","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","if-none-match":"W/\"8f2b-f7uBGbsRP6yE6MQTdQVeDDeHH2s\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"77de-ff6s7ExaQj5O1Z8N3AgNe7DB3JM\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"32ms"},"msg":"","time":"2017-09-29T03:46:56.566Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d760f6c0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/da-jian-shadowsocksfu-wu-qi/","method":"GET","originalUrl":"/da-jian-shadowsocksfu-wu-qi/","params":{"0":"/da-jian-shadowsocksfu-wu-qi/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","x-requested-with":"XMLHttpRequest","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","accept-encoding":"gzip, deflate","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","if-none-match":"W/\"5f50-7vR5YIaGKYtPJEWzbYQxSyzAlmk\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"5235-pRSFw2rTBx3vvV4FrCR6XQMPvF4\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"19ms"},"msg":"","time":"2017-09-29T03:46:57.217Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d86b88f0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/xin-lu-ji-lu-day1/","method":"GET","originalUrl":"/xin-lu-ji-lu-day1/","params":{"0":"/xin-lu-ji-lu-day1/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","x-requested-with":"XMLHttpRequest","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","accept-encoding":"gzip, deflate","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"2537-bvYOsXwr2O5QW9w1bC+Is0LYHGo\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"18ms"},"msg":"","time":"2017-09-29T03:46:58.962Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d8a0a2b0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","x-requested-with":"XMLHttpRequest","referer":"http://47.95.197.107/xin-lu-ji-lu-day1/","accept-language":"zh-CN","accept-encoding":"gzip, deflate","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","if-none-match":"W/\"77de-ff6s7ExaQj5O1Z8N3AgNe7DB3JM\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"77de-ff6s7ExaQj5O1Z8N3AgNe7DB3JM\""},"statusCode":304,"responseTime":"21ms"},"msg":"","time":"2017-09-29T03:46:59.313Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d8de47f0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/da-jian-shadowsocksfu-wu-qi/","method":"GET","originalUrl":"/da-jian-shadowsocksfu-wu-qi/","params":{"0":"/da-jian-shadowsocksfu-wu-qi/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","x-requested-with":"XMLHttpRequest","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","accept-encoding":"gzip, deflate","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","if-none-match":"W/\"5235-pRSFw2rTBx3vvV4FrCR6XQMPvF4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"5235-pRSFw2rTBx3vvV4FrCR6XQMPvF4\""},"statusCode":304,"responseTime":"16ms"},"msg":"","time":"2017-09-29T03:46:59.712Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"db53b4c0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/da-jian-shadowsocksfu-wu-qi/","method":"GET","originalUrl":"/da-jian-shadowsocksfu-wu-qi/","params":{"0":"/da-jian-shadowsocksfu-wu-qi/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","x-requested-with":"XMLHttpRequest","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","accept-encoding":"gzip, deflate","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","if-none-match":"W/\"5235-pRSFw2rTBx3vvV4FrCR6XQMPvF4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"5235-pRSFw2rTBx3vvV4FrCR6XQMPvF4\""},"statusCode":304,"responseTime":"18ms"},"msg":"","time":"2017-09-29T03:47:03.838Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"db8dd790-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","x-requested-with":"XMLHttpRequest","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","accept-encoding":"gzip, deflate","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","if-none-match":"W/\"77de-ff6s7ExaQj5O1Z8N3AgNe7DB3JM\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"77de-ff6s7ExaQj5O1Z8N3AgNe7DB3JM\""},"statusCode":304,"responseTime":"24ms"},"msg":"","time":"2017-09-29T03:47:04.226Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"dbf0df20-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/da-jian-shadowsocksfu-wu-qi/","method":"GET","originalUrl":"/da-jian-shadowsocksfu-wu-qi/","params":{"0":"/da-jian-shadowsocksfu-wu-qi/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","x-requested-with":"XMLHttpRequest","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","accept-encoding":"gzip, deflate","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","if-none-match":"W/\"5235-pRSFw2rTBx3vvV4FrCR6XQMPvF4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"5235-pRSFw2rTBx3vvV4FrCR6XQMPvF4\""},"statusCode":304,"responseTime":"23ms"},"msg":"","time":"2017-09-29T03:47:04.874Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"dfa69420-a4c8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/mapache-master/activate/","method":"PUT","originalUrl":"/ghost/api/v0.1/themes/mapache-master/activate/","params":{"name":"mapache-master"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"2","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","content-length":"681","etag":"W/\"2a9-p+yhJ+fGreThkY/y92uDeDoNMsM\""},"statusCode":200,"responseTime":"183ms"},"msg":"","time":"2017-09-29T03:47:11.259Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"e0eccfc0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/da-jian-shadowsocksfu-wu-qi/","method":"GET","originalUrl":"/da-jian-shadowsocksfu-wu-qi/","params":{"0":"/da-jian-shadowsocksfu-wu-qi/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"5235-pRSFw2rTBx3vvV4FrCR6XQMPvF4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"7340-RDU7rCV9CKafhKWLhtEG4VLEEVo\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"100ms"},"msg":"","time":"2017-09-29T03:47:13.313Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"e0fe34e0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/styles/main.css?v=4ec76c5177","method":"GET","originalUrl":"/assets/styles/main.css?v=4ec76c5177","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"4ec76c5177"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:45:58 GMT","etag":"W/\"c734-15ecbbda900\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"4ms"},"msg":"","time":"2017-09-29T03:47:13.330Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"e1011b10-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=4ec76c5177","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=4ec76c5177","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"4ec76c5177"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T03:47:13.346Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"e1036500-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T03:47:13.362Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"e103b320-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/vultr.jpg","method":"GET","originalUrl":"/content/images/2017/09/vultr.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:49:09 GMT","if-none-match":"W/\"c7bc-15ec7ace335\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:49:09 GMT","etag":"W/\"c7bc-15ec7ace335\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T03:47:13.363Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"e1044f60-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/fonts/mapache.ttf","method":"GET","originalUrl":"/assets/fonts/mapache.ttf","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","origin":"http://47.95.197.107","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:45:58 GMT","etag":"W/\"202c-15ecbbda900\"","content-type":"application/x-font-ttf","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T03:47:13.369Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"e12ff340-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/scripts/main.js?v=4ec76c5177","method":"GET","originalUrl":"/assets/scripts/main.js?v=4ec76c5177","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"4ec76c5177"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:45:58 GMT","etag":"W/\"d343-15ecbbda900\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"5ms"},"msg":"","time":"2017-09-29T03:47:13.658Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"e9faed40-a4c8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/the-shell-master/activate/","method":"PUT","originalUrl":"/ghost/api/v0.1/themes/the-shell-master/activate/","params":{"name":"the-shell-master"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"2","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","content-length":"762","etag":"W/\"2fa-TJpE4iL4hksnXMMmXlytHjCOzwg\""},"statusCode":200,"responseTime":"90ms"},"msg":"","time":"2017-09-29T03:47:28.496Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"eb9bf310-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/da-jian-shadowsocksfu-wu-qi/","method":"GET","originalUrl":"/da-jian-shadowsocksfu-wu-qi/","params":{"0":"/da-jian-shadowsocksfu-wu-qi/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"7340-RDU7rCV9CKafhKWLhtEG4VLEEVo\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"53d3-6VCr8225IoEavkznU+VvUSmkwOg\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"44ms"},"msg":"","time":"2017-09-29T03:47:31.182Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"eba4a5a0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/highlighter/prettify.css?v=1e653f5e68","method":"GET","originalUrl":"/assets/highlighter/prettify.css?v=1e653f5e68","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"1e653f5e68"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:37:26 GMT","etag":"W/\"625-15ecbb5dbf7\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T03:47:31.198Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"eba716a0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/css/screen.css?v=1e653f5e68","method":"GET","originalUrl":"/assets/css/screen.css?v=1e653f5e68","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"1e653f5e68"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:37:26 GMT","etag":"W/\"437a-15ecbb5dbf7\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T03:47:31.215Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"eba93980-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/css/normalize.css","method":"GET","originalUrl":"/assets/css/normalize.css","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:37:26 GMT","etag":"W/\"1d73-15ecbb5dbf7\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T03:47:31.226Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ebab3550-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=1e653f5e68","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=1e653f5e68","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"1e653f5e68"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T03:47:31.238Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ebad7f40-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/vultr.jpg","method":"GET","originalUrl":"/content/images/2017/09/vultr.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:49:09 GMT","if-none-match":"W/\"c7bc-15ec7ace335\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:49:09 GMT","etag":"W/\"c7bc-15ec7ace335\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T03:47:31.253Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ebae1b80-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/fonts/icons.woff","method":"GET","originalUrl":"/assets/fonts/icons.woff","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","origin":"http://47.95.197.107","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:37:26 GMT","etag":"W/\"a60-15ecbb5dbf7\"","content-type":"application/font-woff","content-length":2656},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T03:47:31.260Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ebadcd60-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/highlighter/prettify.js?v=1e653f5e68","method":"GET","originalUrl":"/assets/highlighter/prettify.js?v=1e653f5e68","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"1e653f5e68"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:37:26 GMT","etag":"W/\"f758-15ecbb5dbf7\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"8ms"},"msg":"","time":"2017-09-29T03:47:31.263Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ebba7790-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/shell.js?v=1e653f5e68","method":"GET","originalUrl":"/assets/js/shell.js?v=1e653f5e68","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"1e653f5e68"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:37:26 GMT","etag":"W/\"44-15ecbb5dbf7\"","content-type":"application/javascript","content-length":68,"vary":"Accept-Encoding"},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T03:47:31.340Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f3b9e430-a4c8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/bleak-master/activate/","method":"PUT","originalUrl":"/ghost/api/v0.1/themes/bleak-master/activate/","params":{"name":"bleak-master"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"2","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","content-length":"704","etag":"W/\"2c0-QRlAUWNMWNaR0bJuNFzcVl5ye8c\""},"statusCode":200,"responseTime":"97ms"},"msg":"","time":"2017-09-29T03:47:44.854Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f7134860-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"211d-rv4MWbyMZeVwSceneLBju8gSBoM\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"35dc-PJ+9K3WZR9tuIR7PP1k2rGdLQ6g\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"66ms"},"msg":"","time":"2017-09-29T03:47:50.441Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f71fa470-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/css/highlight.tomorrow.min.css?v=88930c270b","method":"GET","originalUrl":"/assets/lib/css/highlight.tomorrow.min.css?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"277-15ecbb6ac8e\"","content-type":"text/css; charset=UTF-8","content-length":631,"vary":"Accept-Encoding"},"statusCode":200,"responseTime":"6ms"},"msg":"","time":"2017-09-29T03:47:50.462Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f71f2f40-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/compiled/css/index.css?v=88930c270b","method":"GET","originalUrl":"/assets/compiled/css/index.css?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"21a9-15ecbb6ac8e\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"11ms"},"msg":"","time":"2017-09-29T03:47:50.464Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f71f7d60-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/css/font-awesome.min.css?v=88930c270b","method":"GET","originalUrl":"/assets/lib/css/font-awesome.min.css?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"7918-15ecbb6ac8e\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"11ms"},"msg":"","time":"2017-09-29T03:47:50.466Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f7223c80-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=88930c270b","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T03:47:50.473Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f72067c0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/js/highlight.min.js?v=88930c270b","method":"GET","originalUrl":"/assets/lib/js/highlight.min.js?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"ae91-15ecbb6ac8e\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"15ms"},"msg":"","time":"2017-09-29T03:47:50.475Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f71ff290-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/js/jquery.min.js?v=88930c270b","method":"GET","originalUrl":"/assets/lib/js/jquery.min.js?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"14a2a-15ecbb6ac8f\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"19ms"},"msg":"","time":"2017-09-29T03:47:50.476Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f9a62840-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/xin-lu-ji-lu-day1/","method":"GET","originalUrl":"/xin-lu-ji-lu-day1/","params":{"0":"/xin-lu-ji-lu-day1/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"2537-bvYOsXwr2O5QW9w1bC+Is0LYHGo\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"4039-/9yLVWYqmhjEiL69NhlKOBmqIS0\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"34ms"},"msg":"","time":"2017-09-29T03:47:54.727Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f9ad0610-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/compiled/css/post.css?v=88930c270b","method":"GET","originalUrl":"/assets/compiled/css/post.css?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/xin-lu-ji-lu-day1/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"2182-15ecbb6ac8e\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T03:47:54.740Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f9b54370-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/fonts/fontawesome-webfont.woff2?v=4.7.0","method":"GET","originalUrl":"/assets/lib/fonts/fontawesome-webfont.woff2?v=4.7.0","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","referer":"http://47.95.197.107/xin-lu-ji-lu-day1/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","origin":"http://47.95.197.107","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"4.7.0"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"12d68-15ecbb6ac8f\"","content-type":"application/font-woff2","content-length":77160},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T03:47:54.794Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fb12d7a0-a4c8-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"77de-ff6s7ExaQj5O1Z8N3AgNe7DB3JM\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"92db-pQ9OuZRtteUU5e2tbN+TxnoAsnE\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"24ms"},"msg":"","time":"2017-09-29T03:47:57.107Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d7c58620-a4e2-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/settings/","method":"PUT","originalUrl":"/ghost/api/v0.1/settings/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"906","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"settings":{"0":{"key":"title","value":"RPblog"},"1":{"key":"description","value":"Thoughts, stories and ideas."},"2":{"key":"logo","value":"https://casper.ghost.org/v1.0.0/images/ghost-logo.svg"},"3":{"key":"cover_image","value":"https://casper.ghost.org/v1.0.0/images/blog-cover.jpg"},"4":{"key":"icon","value":""},"5":{"key":"default_locale","value":"en"},"6":{"key":"force_i18n","value":"true"},"7":{"key":"permalinks","value":"/:slug/"},"8":{"key":"active_timezone","value":"Asia/Hong_Kong"},"9":{"key":"ghost_head","value":""},"10":{"key":"ghost_foot","value":""},"11":{"key":"facebook","value":""},"12":{"key":"twitter","value":""},"13":{"key":"labs","value":"{\"publicAPI\": true}"},"14":{"key":"navigation","value":"[{\"label\":\"Home\",\"url\":\"http://47.95.197.107:80/\"}]"},"15":{"key":"is_private","value":"false"},"16":{"key":"password","value":""},"17":{"key":"slack","value":"[{\"url\":\"\"}]"},"18":{"key":"amp","value":"true"},"19":{"key":"unsplash","value":"{\"isActive\":true}"}}},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"1020-aHbSv0ZiEJr1ekaja/izDqTLW+k\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"159ms"},"msg":"","time":"2017-09-29T06:53:04.933Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f9f29bc0-a4e2-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/settings/","method":"PUT","originalUrl":"/ghost/api/v0.1/settings/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"906","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"settings":{"0":{"key":"title","value":"RPblog"},"1":{"key":"description","value":"Thoughts, stories and ideas."},"2":{"key":"logo","value":"https://casper.ghost.org/v1.0.0/images/ghost-logo.svg"},"3":{"key":"cover_image","value":"https://casper.ghost.org/v1.0.0/images/blog-cover.jpg"},"4":{"key":"icon","value":""},"5":{"key":"default_locale","value":"en"},"6":{"key":"force_i18n","value":"true"},"7":{"key":"permalinks","value":"/:slug/"},"8":{"key":"active_timezone","value":"Asia/Hong_Kong"},"9":{"key":"ghost_head","value":""},"10":{"key":"ghost_foot","value":""},"11":{"key":"facebook","value":""},"12":{"key":"twitter","value":""},"13":{"key":"labs","value":"{\"publicAPI\": true}"},"14":{"key":"navigation","value":"[{\"label\":\"Home\",\"url\":\"http://47.95.197.107:80/\"}]"},"15":{"key":"is_private","value":"false"},"16":{"key":"password","value":""},"17":{"key":"slack","value":"[{\"url\":\"\"}]"},"18":{"key":"amp","value":"true"},"19":{"key":"unsplash","value":"{\"isActive\":true}"}}},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"1020-9t0ODnw2g/I3tZaJU5GjRXAr7Pw\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"166ms"},"msg":"","time":"2017-09-29T06:54:02.278Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fc403540-a4e2-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/settings/","method":"PUT","originalUrl":"/ghost/api/v0.1/settings/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"906","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"settings":{"0":{"key":"title","value":"RPblog"},"1":{"key":"description","value":"Thoughts, stories and ideas."},"2":{"key":"logo","value":"https://casper.ghost.org/v1.0.0/images/ghost-logo.svg"},"3":{"key":"cover_image","value":"https://casper.ghost.org/v1.0.0/images/blog-cover.jpg"},"4":{"key":"icon","value":""},"5":{"key":"default_locale","value":"en"},"6":{"key":"force_i18n","value":"true"},"7":{"key":"permalinks","value":"/:slug/"},"8":{"key":"active_timezone","value":"Asia/Hong_Kong"},"9":{"key":"ghost_head","value":""},"10":{"key":"ghost_foot","value":""},"11":{"key":"facebook","value":""},"12":{"key":"twitter","value":""},"13":{"key":"labs","value":"{\"publicAPI\": true}"},"14":{"key":"navigation","value":"[{\"label\":\"Home\",\"url\":\"http://47.95.197.107:80/\"}]"},"15":{"key":"is_private","value":"false"},"16":{"key":"password","value":""},"17":{"key":"slack","value":"[{\"url\":\"\"}]"},"18":{"key":"amp","value":"true"},"19":{"key":"unsplash","value":"{\"isActive\":true}"}}},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"1020-XYWLLXlOicdj4/yduxjfEbbBK1M\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"147ms"},"msg":"","time":"2017-09-29T06:54:06.124Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"069810d0-a4e3-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/settings/","method":"PUT","originalUrl":"/ghost/api/v0.1/settings/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"966","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"settings":{"0":{"key":"title","value":"RPblog"},"1":{"key":"description","value":"Thoughts, stories and ideas."},"2":{"key":"logo","value":"https://casper.ghost.org/v1.0.0/images/ghost-logo.svg"},"3":{"key":"cover_image","value":"https://casper.ghost.org/v1.0.0/images/blog-cover.jpg"},"4":{"key":"icon","value":""},"5":{"key":"default_locale","value":"en"},"6":{"key":"force_i18n","value":"true"},"7":{"key":"permalinks","value":"/:slug/"},"8":{"key":"active_timezone","value":"Asia/Hong_Kong"},"9":{"key":"ghost_head","value":""},"10":{"key":"ghost_foot","value":""},"11":{"key":"facebook","value":""},"12":{"key":"twitter","value":""},"13":{"key":"labs","value":"{\"publicAPI\": true}"},"14":{"key":"navigation","value":"[{\"label\":\"Home\",\"url\":\"http://47.95.197.107:80/\"},{\"label\":\"RPblog\",\"url\":\"http://47.95.197.107:80/\"}]"},"15":{"key":"is_private","value":"false"},"16":{"key":"password","value":""},"17":{"key":"slack","value":"[{\"url\":\"\"}]"},"18":{"key":"amp","value":"true"},"19":{"key":"unsplash","value":"{\"isActive\":true}"}}},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"105c-KUR5yMYATgwNJ15KdS9Dmpphbsw\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"169ms"},"msg":"","time":"2017-09-29T06:54:23.497Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0a3d4b10-a4e3-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"30","page":"1","status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"dde8-KOhIVidlazJxvwUkWLbWKMhrmFI\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"33ms"},"msg":"","time":"2017-09-29T06:54:29.476Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0a47f970-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"2464-YfSBXaRc8EUaKePV5pKo+KVHjDY\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"48ms"},"msg":"","time":"2017-09-29T06:54:29.560Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"11a09ec0-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"92db-pQ9OuZRtteUU5e2tbN+TxnoAsnE\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"936f-7VTpQfgF1cnvKa1RWy9YmNe7YyA\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"33ms"},"msg":"","time":"2017-09-29T06:54:41.870Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"11a7cab0-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/compiled/css/post.css?v=88930c270b","method":"GET","originalUrl":"/assets/compiled/css/post.css?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Fri, 29 Sep 2017 03:38:20 GMT","if-none-match":"W/\"2182-15ecbb6ac8e\""},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"2182-15ecbb6ac8e\""},"statusCode":304,"responseTime":"2ms"},"msg":"","time":"2017-09-29T06:54:41.886Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"11a97860-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/css/font-awesome.min.css?v=88930c270b","method":"GET","originalUrl":"/assets/lib/css/font-awesome.min.css?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Fri, 29 Sep 2017 03:38:20 GMT","if-none-match":"W/\"7918-15ecbb6ac8e\""},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"7918-15ecbb6ac8e\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T06:54:41.896Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"11ab4d20-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/css/highlight.tomorrow.min.css?v=88930c270b","method":"GET","originalUrl":"/assets/lib/css/highlight.tomorrow.min.css?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Fri, 29 Sep 2017 03:38:20 GMT","if-none-match":"W/\"277-15ecbb6ac8e\""},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"277-15ecbb6ac8e\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T06:54:41.907Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"11acfad0-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/js/jquery.min.js?v=88930c270b","method":"GET","originalUrl":"/assets/lib/js/jquery.min.js?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Fri, 29 Sep 2017 03:38:20 GMT","if-none-match":"W/\"14a2a-15ecbb6ac8f\""},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"14a2a-15ecbb6ac8f\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T06:54:41.918Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"11b05630-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/js/highlight.min.js?v=88930c270b","method":"GET","originalUrl":"/assets/lib/js/highlight.min.js?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Fri, 29 Sep 2017 03:38:20 GMT","if-none-match":"W/\"ae91-15ecbb6ac8e\""},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"ae91-15ecbb6ac8e\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T06:54:41.940Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"11b2a020-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=88930c270b","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T06:54:41.955Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"11b4ea10-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T06:54:41.970Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"11b5d470-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T06:54:41.976Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"11b62290-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/fonts/fontawesome-webfont.woff2?v=4.7.0","method":"GET","originalUrl":"/assets/lib/fonts/fontawesome-webfont.woff2?v=4.7.0","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","origin":"http://47.95.197.107","accept-encoding":"gzip, deflate","if-modified-since":"Fri, 29 Sep 2017 03:38:20 GMT","if-none-match":"W/\"12d68-15ecbb6ac8f\""},"body":{},"query":{"v":"4.7.0"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"12d68-15ecbb6ac8f\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T06:54:41.979Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"11c62820-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T06:54:42.083Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"128d96d0-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"35dc-PJ+9K3WZR9tuIR7PP1k2rGdLQ6g\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"30ms"},"msg":"","time":"2017-09-29T06:54:43.420Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"13a79250-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"22ms"},"msg":"","time":"2017-09-29T06:54:45.260Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"14798850-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"22ms"},"msg":"","time":"2017-09-29T06:54:46.636Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"14e4f450-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"23ms"},"msg":"","time":"2017-09-29T06:54:47.341Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"155a2450-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"26ms"},"msg":"","time":"2017-09-29T06:54:48.111Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"15b53ca0-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"21ms"},"msg":"","time":"2017-09-29T06:54:48.704Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"160f6a90-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"21ms"},"msg":"","time":"2017-09-29T06:54:49.295Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"16452090-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"22ms"},"msg":"","time":"2017-09-29T06:54:49.648Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"1690a880-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"24ms"},"msg":"","time":"2017-09-29T06:54:50.145Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"16c6aca0-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"21ms"},"msg":"","time":"2017-09-29T06:54:50.496Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"16f9ca90-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"21ms"},"msg":"","time":"2017-09-29T06:54:50.831Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"1736d390-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"21ms"},"msg":"","time":"2017-09-29T06:54:51.230Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"178800d0-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"25ms"},"msg":"","time":"2017-09-29T06:54:51.767Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"17c298d0-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"21ms"},"msg":"","time":"2017-09-29T06:54:52.147Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"92377950-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/xin-lu-ji-lu-day1/","method":"GET","originalUrl":"/xin-lu-ji-lu-day1/","params":{"0":"/xin-lu-ji-lu-day1/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"4039-/9yLVWYqmhjEiL69NhlKOBmqIS0\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"40cd-0CQ3imnSFuZtuLUnDh/Q/0BAuKw\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"19ms"},"msg":"","time":"2017-09-29T06:58:17.593Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a130f080-a4e3-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59cdb1b5a744810195a3dc0b/?status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/59cdb1b5a744810195a3dc0b/?status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{"id":"59cdb1b5a744810195a3dc0b"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"b20-QuGTbfdLYAaLsFeWxBDyARl15R4\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"20ms"},"msg":"","time":"2017-09-29T06:58:42.717Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a1370b00-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"24ms"},"msg":"","time":"2017-09-29T06:58:42.761Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a13a1840-a4e3-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"27ms"},"msg":"","time":"2017-09-29T06:58:42.784Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a13b9ee0-a4e3-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/tags/?limit=all","method":"GET","originalUrl":"/ghost/api/v0.1/tags/?limit=all","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"658-8Ij8Z/1gdhNH66eXF4QTmNp/WMk\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"23ms"},"msg":"","time":"2017-09-29T06:58:42.790Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a1ff15f0-a4e3-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"18ms"},"msg":"","time":"2017-09-29T06:58:44.066Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a48cecc0-a4e3-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/uploads/","method":"POST","originalUrl":"/ghost/api/v0.1/uploads/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"88632","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"multipart/form-data; boundary=----WebKitFormBoundaryoqvBBcGKxAxQi9vA","accept":"text/plain, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","content-type":"application/json; charset=utf-8","content-length":"49","etag":"W/\"31-N1QnaA5U0qSFncvYYx9/2RuFeNw\""},"statusCode":200,"responseTime":"20ms"},"msg":"","time":"2017-09-29T06:58:48.353Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a492e030-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/----_20170929145803.jpg","method":"GET","originalUrl":"/content/images/2017/09/----_20170929145803.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"image/webp,image/*,*/*;q=0.8","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 06:58:48 GMT","etag":"W/\"15964-15ecc6e359e\"","content-type":"image/jpeg","content-length":88420},"statusCode":200,"responseTime":"10ms"},"msg":"","time":"2017-09-29T06:58:48.382Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a4926b00-a4e3-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59cdb1b5a744810195a3dc0b/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59cdb1b5a744810195a3dc0b/?include=tags","params":{"id":"59cdb1b5a744810195a3dc0b"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"2451","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59cdb1b5a744810195a3dc0b","created_at":"2017-09-29T02:36:37.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/----_20170929145803.jpg","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"经过这一个周的折腾，终于将shadowsocks和ghost基本搭好，也收获了小小的一些成就感，本来不是计算机相关专业，折腾这些有些麻烦，但是还是对Linux、服务器搭建还有编程的这些东西比较感兴趣，作为一个业余爱好吧。好不容易折腾好了，自己应该用起来也比较有动力，在这个自己搭建的小天地里面，记录一些自己的心路历程也好，收获感受也好，甚至于一些好的新的想法，不管是学术上的还是工程上的，都随时写一写，积累下来，到之后拿出来看看，应该也是挺有用的。\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"经过这一个周的折腾，终于将shadowsocks和ghost基本搭好，也收获了小小的一些成就感，本来不是计算机相关专业，折腾这些有些麻烦，但是还是对Linux、服务器搭建还有编程的这些东西比较感兴趣，作为一个业余爱好吧。好不容易折腾好了，自己应该用起来也比较有动力，在这个自己搭建的小天地里面，记录一些自己的心路历程也好，收获感受也好，甚至于一些好的新的想法，不管是学术上的还是工程上的，都随时写一写，积累下来，到之后拿出来看看，应该也是挺有用的。","published_at":"2017-09-29T02:41:45.000Z","slug":"xin-lu-ji-lu-day1","status":"published","title":"心路记录-#day1-20170929","updated_at":"2017-09-29T02:42:30.000Z","updated_by":"1","tags":{"0":{"id":"59cdb316a744810195a3dc0c","name":"心路点滴","slug":"xin-lu-dian-di","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-29T02:42:30.000Z","updated_at":"2017-09-29T02:42:30.000Z","created_by":"1","updated_by":"1","count":{"posts":1}}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"856-0zUsWptxQ806vCkNJxdhyJ+lLJc\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"51ms"},"msg":"","time":"2017-09-29T06:58:48.421Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a6fb54b0-a4e3-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"17ms"},"msg":"","time":"2017-09-29T06:58:52.429Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a81242f0-a4e3-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59cdb1b5a744810195a3dc0b/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59cdb1b5a744810195a3dc0b/?include=tags","params":{"id":"59cdb1b5a744810195a3dc0b"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"2451","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59cdb1b5a744810195a3dc0b","created_at":"2017-09-29T02:36:37.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/----_20170929145803.jpg","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"经过这一个周的折腾，终于将shadowsocks和ghost基本搭好，也收获了小小的一些成就感，本来不是计算机相关专业，折腾这些有些麻烦，但是还是对Linux、服务器搭建还有编程的这些东西比较感兴趣，作为一个业余爱好吧。好不容易折腾好了，自己应该用起来也比较有动力，在这个自己搭建的小天地里面，记录一些自己的心路历程也好，收获感受也好，甚至于一些好的新的想法，不管是学术上的还是工程上的，都随时写一写，积累下来，到之后拿出来看看，应该也是挺有用的。\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"经过这一个周的折腾，终于将shadowsocks和ghost基本搭好，也收获了小小的一些成就感，本来不是计算机相关专业，折腾这些有些麻烦，但是还是对Linux、服务器搭建还有编程的这些东西比较感兴趣，作为一个业余爱好吧。好不容易折腾好了，自己应该用起来也比较有动力，在这个自己搭建的小天地里面，记录一些自己的心路历程也好，收获感受也好，甚至于一些好的新的想法，不管是学术上的还是工程上的，都随时写一写，积累下来，到之后拿出来看看，应该也是挺有用的。","published_at":"2017-09-29T02:41:45.000Z","slug":"xin-lu-ji-lu-day1","status":"published","title":"心路记录-#day1-20170929","updated_at":"2017-09-29T06:58:48.000Z","updated_by":"1","tags":{"0":{"id":"59cdb316a744810195a3dc0c","name":"心路点滴","slug":"xin-lu-dian-di","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-29T02:42:30.000Z","updated_at":"2017-09-29T02:42:30.000Z","created_by":"1","updated_by":"1","count":{"posts":1}}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"856-+ieYQ8fT5uBVkJuYxsQYf2CnDLM\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"38ms"},"msg":"","time":"2017-09-29T06:58:54.279Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ace66040-a4e3-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"37ms"},"msg":"","time":"2017-09-29T06:59:02.378Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"adea89d0-a4e3-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"21ms"},"msg":"","time":"2017-09-29T06:59:04.067Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b0b3e300-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/xin-lu-ji-lu-day1/","method":"GET","originalUrl":"/xin-lu-ji-lu-day1/","params":{"0":"/xin-lu-ji-lu-day1/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"40cd-0CQ3imnSFuZtuLUnDh/Q/0BAuKw\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"42e6-ptytkpso2PMdtG8uSqJabgP26Qs\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"27ms"},"msg":"","time":"2017-09-29T06:59:08.748Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b0b9af60-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/compiled/css/post.css?v=88930c270b","method":"GET","originalUrl":"/assets/compiled/css/post.css?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/xin-lu-ji-lu-day1/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Fri, 29 Sep 2017 03:38:20 GMT","if-none-match":"W/\"2182-15ecbb6ac8e\""},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"2182-15ecbb6ac8e\""},"statusCode":304,"responseTime":"3ms"},"msg":"","time":"2017-09-29T06:59:08.762Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b0bb5d10-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/css/font-awesome.min.css?v=88930c270b","method":"GET","originalUrl":"/assets/lib/css/font-awesome.min.css?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/xin-lu-ji-lu-day1/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Fri, 29 Sep 2017 03:38:20 GMT","if-none-match":"W/\"7918-15ecbb6ac8e\""},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"7918-15ecbb6ac8e\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T06:59:08.771Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b0bce3b0-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/css/highlight.tomorrow.min.css?v=88930c270b","method":"GET","originalUrl":"/assets/lib/css/highlight.tomorrow.min.css?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/xin-lu-ji-lu-day1/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Fri, 29 Sep 2017 03:38:20 GMT","if-none-match":"W/\"277-15ecbb6ac8e\""},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"277-15ecbb6ac8e\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T06:59:08.780Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b0be4340-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/js/jquery.min.js?v=88930c270b","method":"GET","originalUrl":"/assets/lib/js/jquery.min.js?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/xin-lu-ji-lu-day1/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Fri, 29 Sep 2017 03:38:20 GMT","if-none-match":"W/\"14a2a-15ecbb6ac8f\""},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"14a2a-15ecbb6ac8f\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T06:59:08.790Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b0c19ea0-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/js/highlight.min.js?v=88930c270b","method":"GET","originalUrl":"/assets/lib/js/highlight.min.js?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/xin-lu-ji-lu-day1/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Fri, 29 Sep 2017 03:38:20 GMT","if-none-match":"W/\"ae91-15ecbb6ac8e\""},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"ae91-15ecbb6ac8e\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T06:59:08.811Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b0c34c50-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=88930c270b","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/xin-lu-ji-lu-day1/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T06:59:08.823Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b0c5bd50-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/fonts/fontawesome-webfont.woff2?v=4.7.0","method":"GET","originalUrl":"/assets/lib/fonts/fontawesome-webfont.woff2?v=4.7.0","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","referer":"http://47.95.197.107/xin-lu-ji-lu-day1/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","origin":"http://47.95.197.107","accept-encoding":"gzip, deflate","if-modified-since":"Fri, 29 Sep 2017 03:38:20 GMT","if-none-match":"W/\"12d68-15ecbb6ac8f\""},"body":{},"query":{"v":"4.7.0"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"12d68-15ecbb6ac8f\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T06:59:08.839Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b0c6cec0-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/----_20170929145803.jpg","method":"GET","originalUrl":"/content/images/2017/09/----_20170929145803.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/xin-lu-ji-lu-day1/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 06:58:48 GMT","etag":"W/\"15964-15ecc6e359e\"","content-type":"image/jpeg","content-length":88420},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T06:59:08.846Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b6acaa30-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"936f-7VTpQfgF1cnvKa1RWy9YmNe7YyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"936f-7VTpQfgF1cnvKa1RWy9YmNe7YyA\""},"statusCode":304,"responseTime":"25ms"},"msg":"","time":"2017-09-29T06:59:18.765Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d1ea3c90-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"34ms"},"msg":"","time":"2017-09-29T07:00:04.476Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ddca8ce0-a4e3-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/configuration/timezones/","method":"GET","originalUrl":"/ghost/api/v0.1/configuration/timezones/","params":{"key":"timezones"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"1234-3wd8mpTvNypdro3MBdzNo0WkeHY\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"14ms"},"msg":"","time":"2017-09-29T07:00:24.381Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ddc9c990-a4e3-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/settings/?type=blog%2Ctheme%2Cprivate","method":"GET","originalUrl":"/ghost/api/v0.1/settings/?type=blog%2Ctheme%2Cprivate","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"type":"blog,theme,private"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"1152-uzAQ/A2iGwvgaZxLGq1PL/Rbocc\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"23ms"},"msg":"","time":"2017-09-29T07:00:24.385Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ddd08050-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"23ms"},"msg":"","time":"2017-09-29T07:00:24.429Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"de2fde60-a4e3-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/settings/?type=blog%2Ctheme%2Cprivate","method":"GET","originalUrl":"/ghost/api/v0.1/settings/?type=blog%2Ctheme%2Cprivate","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"type":"blog,theme,private"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"1152-uzAQ/A2iGwvgaZxLGq1PL/Rbocc\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T07:00:25.056Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"de30a1b0-a4e3-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"117d-zwKykA3lMrjfi8PWqqjzkzPZi7k\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"23ms"},"msg":"","time":"2017-09-29T07:00:25.059Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"de35d1d0-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"20ms"},"msg":"","time":"2017-09-29T07:00:25.090Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f5831730-a4e3-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"936f-7VTpQfgF1cnvKa1RWy9YmNe7YyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"936f-7VTpQfgF1cnvKa1RWy9YmNe7YyA\""},"statusCode":304,"responseTime":"21ms"},"msg":"","time":"2017-09-29T07:01:04.185Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0ad290c0-a4e4-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"30","page":"1","status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"de15-q3DAkLmuptvsi3YRXXDGnty0Fy0\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"24ms"},"msg":"","time":"2017-09-29T07:01:39.942Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0adb9170-a4e4-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"22ms"},"msg":"","time":"2017-09-29T07:01:39.997Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0bab3d80-a4e4-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"83c0-VZ6nim11M0MF48/aisRlU2Q71Og\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"22ms"},"msg":"","time":"2017-09-29T07:01:41.359Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0bb15800-a4e4-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"21ms"},"msg":"","time":"2017-09-29T07:01:41.398Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0bb4da70-a4e4-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"15ms"},"msg":"","time":"2017-09-29T07:01:41.414Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0bb74b70-a4e4-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/tags/?limit=all","method":"GET","originalUrl":"/ghost/api/v0.1/tags/?limit=all","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"658-8Ij8Z/1gdhNH66eXF4QTmNp/WMk\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"12ms"},"msg":"","time":"2017-09-29T07:01:41.428Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"02c80b20-a4e5-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"34086","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装启动ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n还要安装开发工具包\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n使用时发现无法查找到yarn安装包，查找后采用下面方法安装：\\n```\\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\\nyum install yarn\\n```\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件：\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n配置文件格式参考[**这里**](https://github.com/TryGhost/knex-migrator)：\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n\\n#### 图片和主题过大无法上传\\n> The file you uploaded was larger than the maximum file size your server allows\\n在使用客户端上传主题文件的过程中出现这个问题，后来查阅之后参照[《Solving the maximum file size error on Ghost + NGINX》](https://www.santoshsrinivas.com/solving-the-maximum-file-size-error-on-ghost-nginx/)这篇文章进行了设置，在NGINX的配置文件（/etc/nginx/nginx.conf）中http部分添加了下面语句（使用root用户登录服务器进行更改）：\\n```\\nclient_max_body_size 10m;\\n```\\n使上传图片大小上限调整到10M，\\n并将原来下面的语句中的2048改成了10240\\n```\\ntypes_hash_max_size 2048;\\n```\\n然后重新载入NGINX，使用：\\n```\\nservice nginx reload\\n```\\n\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\\n# 配置ghost\\n本次没有做太多自定义配置，具体可以参考[**这里**](https://www.binarization.com/archive/2016/configuring-ghost/)。\\n主题方面的配置可以参考[《Ghost简介和起步实践》](http://wuyijun.cn/ghostjian-jie-he-qi-bu-shi-jian/)。\\n下载主题到[**这里**](https://www.ghostforbeginners.com/themes/)。\\n# 参考资料：\\n[《基于阿里云ECS的Centos7搭建Ghost》](https://www.itony.net/aliyun-centos7-ghost/)\\n[《NPM 套件管理工具》](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[《Ghost 1.0+ 安装（非ghost-cli方式）》](https://www.ihx.me/ghost1-6insallnocli/)\\n[《knex-migrator-Github》](https://github.com/TryGhost/knex-migrator)\\n[《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\n[《如何在CentOS上安装Ghost？》](https://www.binarization.com/archive/2016/installing-ghost-centos/)\\n[《ghost——Using Ghost as an NPM module》](https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module)\\n[<ghost——Install & Setup (production)》](https://docs.ghost.org/v1/docs/install)\\n[《CentOS Ghost安装教程（PM2+Nginx）》](https://codesky.me/archives/centos-ghost-install-introduce.wind)\\n[《ghost官方帮助文档》](https://themes.ghost.org/docs/author-context#section-author-object-attributes)\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。\n\n安装启动ghost\n需要用到的东西\n * 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\n * 使用 MySQL [https://www.mysql.com/]  做数据库服务；\n * 使用 Nginx [https://nginx.org/]  做网页服务器（Ghost的代理服务）；\n * 使用 NodeJS [https://nodejs.org/]  做后端服务；\n * Ghost [https://ghost.org/]一个开源的博客系统；\n\n基础设置\n查看一下系统信息：\ncat /etc/redhat-release  \n\n\nCentOS Linux release 7.4.1708 (Core)\n\n更新一下系统，安装一些基础工具：\n阿里云的centos已经优化了yum的源，你也可以自行修改\n\nyum update -y && yum upgrage -y && yum clean all\n\n\ncurl, wget都是方便后边的下载\nvim作为一个老牌Linux文本编辑工具，你值得拥有\n还要安装开发工具包\n\nyum groupinstall -y \"Development Tools\"\nyum install curl wget vim -y\n\n\n更新全系统的vim配置\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \n\n\nMySQL安装设置\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL\nRepository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\n[https://dev.mysql.com/downloads/repo/yum/%EF%BC%89:]\n\n安裝 MySQL Repository\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\n\n\n安装MySQL数据库的服务器社区稳定版\nyum install mysql-community-server -y\n\n\n启动MySQL服务\nsystemctl start mysqld.service\n\n\n设置随系统自启动\nsystemctl enable mysqld.service  \n\n\n初始化设置\nmysql_secure_installation\n\n\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\n\ngrep \"password\" /var/log/mysqld.log  \n\n\n创建Ghost需要的用户及数据库：\n运行以后输入刚才拿到的密码\n\nmysql -uroot -p \n\n\n添加新数据库blog，后面Ghost会用到\n\nCREATE DATABASE blog;\n\n\n添加新用户ghost（password替换为你需要的密码）\n\nCREATE USER ghost IDENTIFIED BY 'password';\n\n\n授予ghost用户在blog数据库上的所有权限\n（password就是你刚才创建ghost账户时设置的密码）\n\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\n\n\n刷新权限\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\n\nFLUSH PRIVILEGES;\n\n\nCtrl+D 退出\n\n好了，以上就是MySQL部分\n\nNodeJS安装设置\n推荐使用以下方式安装NodeJS\n本系统使用V6稳定版，如需其它版本，你可以自行调整\n\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \n\n\n安装NodeJS及其依赖包\nyum install gcc-c++ make nodejs -y\n\n\nNodeJS安装以后，默认已经自带的NPM\n不过npm\n[https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst]\n之前一直被吐槽，建议***升级最新版或者用yarn代替***\n\n升级npm至最新版本(^v5.0.4)\nnpm install npm@latest -g\n\n\n安装yarn代替（推荐）\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \nyum install yarn -y\n\n\n使用时发现无法查找到yarn安装包，查找后采用下面方法安装：\n\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\nyum install yarn\n\n\n测试一下\nnode -v\n\n\nv6.11.0\n\nnpm -v\n\n\nv5.1.0\n\nyarn -v\n\n\nv0.27.5\n\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\n\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\n\nNginx安装配置\n直接安装即可\nyum install nginx -y\n\n\n立即启动\nsystemctl start nginx\n\n\n设置开机自启动\nsystemctl enable nginx  \n\n\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\n\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\n\n反向代理80端口\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而\nGhost 博客默认运行在 2368 端口上。\n\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\n\n进入 Nginx 配置目录：\ncd /etc/nginx/conf.d\n新建 Ghost 博客的 Nginx 配置文件：\n\nvim ghost.conf\n\n\n按 i 输入以下内容：\n\nserver {\nlisten 80;\nserver_name loyalsoldier.me [http://loyalsoldier.me]  //修改为域名或服务器 IP 地址;\ngzip on;\ngzip_types text/plain application/xml text/css application/javascript\napplication/json application/font-woff application/font-woff2\napplication/vnd.ms-fontobject application/x-font-ttf font/opentype\napplication/pdf image/png image/bmp image/gif image/jpeg image/webp\nimage/svg+xml;\ngzip_proxied no-cache no-store private expired auth;\ngzip_vary on;\ngzip_min_length 1024;\nlocation / {\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\nproxy_set_header X-Real-IP $remote_addr;\nproxy_set_header Host $http_host;\nproxy_set_header X-Forwarded-Proto $scheme;\nproxy_pass http://127.0.0.1:2368;\n}\nlocation ~* .*.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\nproxy_set_header X-Real-IP $remote_addr;\nproxy_set_header Host $http_host;\nproxy_set_header X-Forwarded-Proto $scheme;\nproxy_pass http://127.0.0.1:2368;\nadd_header Cache-Control max-age=2592000;\nexpires 30d;\netag on;\n}\n}\n\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\n\nsudo nginx -t\n\n\n若输出的结果有 ok、successful 等字样，表示配置正确\n\n如果正确的话，重启Nginx服务\n\nsystemctl restart nginx.service  \n\n\n添加新用户\n创建一个名为www的用户组\n\nadduser www\n\n\n设置密码(请记录下你的密码，以后需要用到)\npasswd www\n\n\n分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\ngpasswd -a www wheel\n\n\n将nginx用户添加入www的用户组，方便后期的权限控制\nusermod -a -G nginx,www nginx  \n\n\n安装ghost\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用www账户登录：\n\nssh www@xxx.xxx.xxx.xxx  \n\n\n然后下载Ghost最新的代码。\n\n下载Ghost最新的稳定版\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\n\n\n解压\nunzip -uo ghost.zip -d ghost\n\n\n进入Ghost的目录并安装生产环境的依赖\ncd ghost && npm install --production\n\n\nnpm install\n--production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\n\n修改Ghost的config，修改数据库配置\nvim config.js  \n\n\n完整的config.js配置如下：\n\nvar path = require('path'),\nconfig;\n\nconfig = {\nproduction: {\nurl: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\nmail: {},\ndatabase: {\nclient: 'mysql',（前面安装的mysql数据库，这里一定要对应）\nconnection: {\nhost : '127.0.0.1',\nuser : 'ghost', //用户名\npassword : 'password', //ghost的密码，之前设置的\ndatabase : 'blog', //数据库名\ncharset : 'utf8'\n},\ndebug: false\n},\nserver: {\nhost: '127.0.0.1',\nport: '2368'\n}\n}\n};\n\nmodule.exports = config;\n\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\n\n安装knex-migrator\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\n\n使用vim编写MigrtorConfig.js文件：\n\nvim MigrtorConfig.js\n\n\n配置文件格式参考这里 [https://github.com/TryGhost/knex-migrator]：\n\nmodule.exports = {\ndatabase: {\nclient: 'mysql',\nconnection: {\nhost: '127.0.0.1',\nuser: 'ghost',（之前mysql设置时建立的用户名）\npassword: 'password',（改成mysql的ghost用户密码）\ncharset: 'utf8',\nname: 'blog'（之前mysql设置时建立的数据库）\n}\n},\nmigrationPath: process.cwd() + '/core/server/data/migrations',\ncurrentVersion: 'your-current-database-version',\n/**\nsubfolder: 'upgrades' [default: versions]\n（这一部分在执行时总出问题，就注释掉了）\n*/\n}\n\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\n\nmodule.exports = {\ndatabase: {\nclient: 'sqlite3',\nconnection: {\nfilename: 'path/to/your.db'\n}\n},\nmigrationPath: process.cwd() + '/core/server/data/migrations',\ncurrentVersion: 'your-current-database-version'\n}\n\n使用下面指令安装：\n\nnpm install -g knex-migrator\n\n\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\n\n运行一下：\n\nnpm start --production\n\n\n如果看到下面的提示，证明你已经完成80%了：\n\nGhost is running in production...\nYour blog is now available on xx.xx.xx.xx\nCtrl+C to shut down\n\n问题及解决方案\n权限问题\n在执行npm start\n--production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\nnpmjs.com网站中的解决方法2\n[https://docs.npmjs.com/getting-started/fixing-npm-permissions]。\n首先检查npm的路径：\n\nnpm config get prefix\n\n\n发现是/usr\n然后改变npm的默认路径：\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\n\nmkdir ~/.npm-global\n\n\n2.设置默认路径：\n\nnpm config set prefix '~/.npm-global'\n\n\n3.加入用户PATH：\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\n\nexport PATH=~/.npm-global/bin:$PATH\n\n\n4.更新profile文件\n\nsource ~/.bash_profile\n\n\n检验：全局下载文件包，不要用sudo，也可以省去检测\n\nnpm install -g jshint\n\n\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\n\nNPM_CONFIG_PREFIX=~/.npm-global\n\n\n语法错误问题\nSyntax error: Unexpected token\n\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\n\n全局安装PM2\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start\n--production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\n\nyarn global add pm2 --prefix /usr/local\n\n\n用PM2来启动Ghost的node服务\n先切到ghost的目录，然后再运行\n\nNODE_ENV=production pm2 start index.js --name \"blog\"\n\n\n检查运行结果\npm2 show blog  \n\n\n配置ghost\n本次没有做太多自定义配置，具体可以参考这里\n[https://www.binarization.com/archive/2016/configuring-ghost/]。\n\n参考资料：\n《基于阿里云ECS的Centos7搭建Ghost》 [https://www.itony.net/aliyun-centos7-ghost/]\n《NPM 套件管理工具》\n[https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst]\n《Ghost 1.0+ 安装（非ghost-cli方式）》 [https://www.ihx.me/ghost1-6insallnocli/]\n《knex-migrator-Github》 [https://github.com/TryGhost/knex-migrator]\n《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》\n[https://loyalsoldier.me/deploy-ghost-on-centos-7/]\n《如何在CentOS上安装Ghost？》\n[https://www.binarization.com/archive/2016/installing-ghost-centos/]\n《ghost——Using Ghost as an NPM module》\n[https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module]\n<ghost——Install & Setup (production)》 [https://docs.ghost.org/v1/docs/install]\n《CentOS Ghost安装教程（PM2+Nginx）》\n[https://codesky.me/archives/centos-ghost-install-introduce.wind]\n《ghost官方帮助文档》","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T03:30:50.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1","count":{"posts":2}},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1","count":{"posts":1}}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"5590-YoSpVj6elwRwFsfbsRscccK0w8o\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"92ms"},"msg":"","time":"2017-09-29T07:08:36.019Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"04ca1cb0-a4e5-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"34086","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装启动ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n还要安装开发工具包\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n使用时发现无法查找到yarn安装包，查找后采用下面方法安装：\\n```\\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\\nyum install yarn\\n```\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件：\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n配置文件格式参考[**这里**](https://github.com/TryGhost/knex-migrator)：\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n\\n#### 图片和主题过大无法上传\\n> The file you uploaded was larger than the maximum file size your server allows\\n在使用客户端上传主题文件的过程中出现这个问题，后来查阅之后参照[《Solving the maximum file size error on Ghost + NGINX》](https://www.santoshsrinivas.com/solving-the-maximum-file-size-error-on-ghost-nginx/)这篇文章进行了设置，在NGINX的配置文件（/etc/nginx/nginx.conf）中http部分添加了下面语句（使用root用户登录服务器进行更改）：\\n```\\nclient_max_body_size 10m;\\n```\\n使上传图片大小上限调整到10M，\\n并将原来下面的语句中的2048改成了10240\\n```\\ntypes_hash_max_size 2048;\\n```\\n然后重新载入NGINX，使用：\\n```\\nservice nginx reload\\n```\\n\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\\n# 配置ghost\\n本次没有做太多自定义配置，具体可以参考[**这里**](https://www.binarization.com/archive/2016/configuring-ghost/)。\\n主题方面的配置可以参考[《Ghost简介和起步实践》](http://wuyijun.cn/ghostjian-jie-he-qi-bu-shi-jian/)。\\n下载主题到[**这里**](https://www.ghostforbeginners.com/themes/)。\\n# 参考资料：\\n[《基于阿里云ECS的Centos7搭建Ghost》](https://www.itony.net/aliyun-centos7-ghost/)\\n[《NPM 套件管理工具》](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[《Ghost 1.0+ 安装（非ghost-cli方式）》](https://www.ihx.me/ghost1-6insallnocli/)\\n[《knex-migrator-Github》](https://github.com/TryGhost/knex-migrator)\\n[《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\n[《如何在CentOS上安装Ghost？》](https://www.binarization.com/archive/2016/installing-ghost-centos/)\\n[《ghost——Using Ghost as an NPM module》](https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module)\\n[<ghost——Install & Setup (production)》](https://docs.ghost.org/v1/docs/install)\\n[《CentOS Ghost安装教程（PM2+Nginx）》](https://codesky.me/archives/centos-ghost-install-introduce.wind)\\n[《ghost官方帮助文档》](https://themes.ghost.org/docs/author-context#section-author-object-attributes)\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。\n\n安装启动ghost\n需要用到的东西\n * 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\n * 使用 MySQL [https://www.mysql.com/]  做数据库服务；\n * 使用 Nginx [https://nginx.org/]  做网页服务器（Ghost的代理服务）；\n * 使用 NodeJS [https://nodejs.org/]  做后端服务；\n * Ghost [https://ghost.org/]一个开源的博客系统；\n\n基础设置\n查看一下系统信息：\ncat /etc/redhat-release  \n\n\nCentOS Linux release 7.4.1708 (Core)\n\n更新一下系统，安装一些基础工具：\n阿里云的centos已经优化了yum的源，你也可以自行修改\n\nyum update -y && yum upgrage -y && yum clean all\n\n\ncurl, wget都是方便后边的下载\nvim作为一个老牌Linux文本编辑工具，你值得拥有\n还要安装开发工具包\n\nyum groupinstall -y \"Development Tools\"\nyum install curl wget vim -y\n\n\n更新全系统的vim配置\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \n\n\nMySQL安装设置\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL\nRepository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\n[https://dev.mysql.com/downloads/repo/yum/%EF%BC%89:]\n\n安裝 MySQL Repository\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\n\n\n安装MySQL数据库的服务器社区稳定版\nyum install mysql-community-server -y\n\n\n启动MySQL服务\nsystemctl start mysqld.service\n\n\n设置随系统自启动\nsystemctl enable mysqld.service  \n\n\n初始化设置\nmysql_secure_installation\n\n\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\n\ngrep \"password\" /var/log/mysqld.log  \n\n\n创建Ghost需要的用户及数据库：\n运行以后输入刚才拿到的密码\n\nmysql -uroot -p \n\n\n添加新数据库blog，后面Ghost会用到\n\nCREATE DATABASE blog;\n\n\n添加新用户ghost（password替换为你需要的密码）\n\nCREATE USER ghost IDENTIFIED BY 'password';\n\n\n授予ghost用户在blog数据库上的所有权限\n（password就是你刚才创建ghost账户时设置的密码）\n\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\n\n\n刷新权限\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\n\nFLUSH PRIVILEGES;\n\n\nCtrl+D 退出\n\n好了，以上就是MySQL部分\n\nNodeJS安装设置\n推荐使用以下方式安装NodeJS\n本系统使用V6稳定版，如需其它版本，你可以自行调整\n\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \n\n\n安装NodeJS及其依赖包\nyum install gcc-c++ make nodejs -y\n\n\nNodeJS安装以后，默认已经自带的NPM\n不过npm\n[https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst]\n之前一直被吐槽，建议***升级最新版或者用yarn代替***\n\n升级npm至最新版本(^v5.0.4)\nnpm install npm@latest -g\n\n\n安装yarn代替（推荐）\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \nyum install yarn -y\n\n\n使用时发现无法查找到yarn安装包，查找后采用下面方法安装：\n\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\nyum install yarn\n\n\n测试一下\nnode -v\n\n\nv6.11.0\n\nnpm -v\n\n\nv5.1.0\n\nyarn -v\n\n\nv0.27.5\n\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\n\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\n\nNginx安装配置\n直接安装即可\nyum install nginx -y\n\n\n立即启动\nsystemctl start nginx\n\n\n设置开机自启动\nsystemctl enable nginx  \n\n\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\n\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\n\n反向代理80端口\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而\nGhost 博客默认运行在 2368 端口上。\n\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\n\n进入 Nginx 配置目录：\ncd /etc/nginx/conf.d\n新建 Ghost 博客的 Nginx 配置文件：\n\nvim ghost.conf\n\n\n按 i 输入以下内容：\n\nserver {\nlisten 80;\nserver_name loyalsoldier.me [http://loyalsoldier.me]  //修改为域名或服务器 IP 地址;\ngzip on;\ngzip_types text/plain application/xml text/css application/javascript\napplication/json application/font-woff application/font-woff2\napplication/vnd.ms-fontobject application/x-font-ttf font/opentype\napplication/pdf image/png image/bmp image/gif image/jpeg image/webp\nimage/svg+xml;\ngzip_proxied no-cache no-store private expired auth;\ngzip_vary on;\ngzip_min_length 1024;\nlocation / {\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\nproxy_set_header X-Real-IP $remote_addr;\nproxy_set_header Host $http_host;\nproxy_set_header X-Forwarded-Proto $scheme;\nproxy_pass http://127.0.0.1:2368;\n}\nlocation ~* .*.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\nproxy_set_header X-Real-IP $remote_addr;\nproxy_set_header Host $http_host;\nproxy_set_header X-Forwarded-Proto $scheme;\nproxy_pass http://127.0.0.1:2368;\nadd_header Cache-Control max-age=2592000;\nexpires 30d;\netag on;\n}\n}\n\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\n\nsudo nginx -t\n\n\n若输出的结果有 ok、successful 等字样，表示配置正确\n\n如果正确的话，重启Nginx服务\n\nsystemctl restart nginx.service  \n\n\n添加新用户\n创建一个名为www的用户组\n\nadduser www\n\n\n设置密码(请记录下你的密码，以后需要用到)\npasswd www\n\n\n分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\ngpasswd -a www wheel\n\n\n将nginx用户添加入www的用户组，方便后期的权限控制\nusermod -a -G nginx,www nginx  \n\n\n安装ghost\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用www账户登录：\n\nssh www@xxx.xxx.xxx.xxx  \n\n\n然后下载Ghost最新的代码。\n\n下载Ghost最新的稳定版\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\n\n\n解压\nunzip -uo ghost.zip -d ghost\n\n\n进入Ghost的目录并安装生产环境的依赖\ncd ghost && npm install --production\n\n\nnpm install\n--production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\n\n修改Ghost的config，修改数据库配置\nvim config.js  \n\n\n完整的config.js配置如下：\n\nvar path = require('path'),\nconfig;\n\nconfig = {\nproduction: {\nurl: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\nmail: {},\ndatabase: {\nclient: 'mysql',（前面安装的mysql数据库，这里一定要对应）\nconnection: {\nhost : '127.0.0.1',\nuser : 'ghost', //用户名\npassword : 'password', //ghost的密码，之前设置的\ndatabase : 'blog', //数据库名\ncharset : 'utf8'\n},\ndebug: false\n},\nserver: {\nhost: '127.0.0.1',\nport: '2368'\n}\n}\n};\n\nmodule.exports = config;\n\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\n\n安装knex-migrator\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\n\n使用vim编写MigrtorConfig.js文件：\n\nvim MigrtorConfig.js\n\n\n配置文件格式参考这里 [https://github.com/TryGhost/knex-migrator]：\n\nmodule.exports = {\ndatabase: {\nclient: 'mysql',\nconnection: {\nhost: '127.0.0.1',\nuser: 'ghost',（之前mysql设置时建立的用户名）\npassword: 'password',（改成mysql的ghost用户密码）\ncharset: 'utf8',\nname: 'blog'（之前mysql设置时建立的数据库）\n}\n},\nmigrationPath: process.cwd() + '/core/server/data/migrations',\ncurrentVersion: 'your-current-database-version',\n/**\nsubfolder: 'upgrades' [default: versions]\n（这一部分在执行时总出问题，就注释掉了）\n*/\n}\n\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\n\nmodule.exports = {\ndatabase: {\nclient: 'sqlite3',\nconnection: {\nfilename: 'path/to/your.db'\n}\n},\nmigrationPath: process.cwd() + '/core/server/data/migrations',\ncurrentVersion: 'your-current-database-version'\n}\n\n使用下面指令安装：\n\nnpm install -g knex-migrator\n\n\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\n\n运行一下：\n\nnpm start --production\n\n\n如果看到下面的提示，证明你已经完成80%了：\n\nGhost is running in production...\nYour blog is now available on xx.xx.xx.xx\nCtrl+C to shut down\n\n问题及解决方案\n权限问题\n在执行npm start\n--production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\nnpmjs.com网站中的解决方法2\n[https://docs.npmjs.com/getting-started/fixing-npm-permissions]。\n首先检查npm的路径：\n\nnpm config get prefix\n\n\n发现是/usr\n然后改变npm的默认路径：\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\n\nmkdir ~/.npm-global\n\n\n2.设置默认路径：\n\nnpm config set prefix '~/.npm-global'\n\n\n3.加入用户PATH：\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\n\nexport PATH=~/.npm-global/bin:$PATH\n\n\n4.更新profile文件\n\nsource ~/.bash_profile\n\n\n检验：全局下载文件包，不要用sudo，也可以省去检测\n\nnpm install -g jshint\n\n\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\n\nNPM_CONFIG_PREFIX=~/.npm-global\n\n\n语法错误问题\nSyntax error: Unexpected token\n\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\n\n全局安装PM2\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start\n--production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\n\nyarn global add pm2 --prefix /usr/local\n\n\n用PM2来启动Ghost的node服务\n先切到ghost的目录，然后再运行\n\nNODE_ENV=production pm2 start index.js --name \"blog\"\n\n\n检查运行结果\npm2 show blog  \n\n\n配置ghost\n本次没有做太多自定义配置，具体可以参考这里\n[https://www.binarization.com/archive/2016/configuring-ghost/]。\n\n参考资料：\n《基于阿里云ECS的Centos7搭建Ghost》 [https://www.itony.net/aliyun-centos7-ghost/]\n《NPM 套件管理工具》\n[https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst]\n《Ghost 1.0+ 安装（非ghost-cli方式）》 [https://www.ihx.me/ghost1-6insallnocli/]\n《knex-migrator-Github》 [https://github.com/TryGhost/knex-migrator]\n《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》\n[https://loyalsoldier.me/deploy-ghost-on-centos-7/]\n《如何在CentOS上安装Ghost？》\n[https://www.binarization.com/archive/2016/installing-ghost-centos/]\n《ghost——Using Ghost as an NPM module》\n[https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module]\n<ghost——Install & Setup (production)》 [https://docs.ghost.org/v1/docs/install]\n《CentOS Ghost安装教程（PM2+Nginx）》\n[https://codesky.me/archives/centos-ghost-install-introduce.wind]\n《ghost官方帮助文档》","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T07:08:35.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1","count":{"posts":2}},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1","count":{"posts":1}}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"5590-AtDvz4r+ridZUY7coSNQ4H5k5iQ\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"46ms"},"msg":"","time":"2017-09-29T07:08:39.341Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"102c1540-a4e5-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"34234","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装启动ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n还要安装开发工具包\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n使用时发现无法查找到yarn安装包，查找后采用下面方法安装：\\n```\\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\\nyum install yarn\\n```\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件：\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n配置文件格式参考[**这里**](https://github.com/TryGhost/knex-migrator)：\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n\\n#### 图片和主题过大无法上传\\n> The file you uploaded was larger than the maximum file size your server allows\\n在使用客户端上传主题文件的过程中出现这个问题，后来查阅之后参照[《Solving the maximum file size error on Ghost + NGINX》](https://www.santoshsrinivas.com/solving-the-maximum-file-size-error-on-ghost-nginx/)这篇文章进行了设置，在NGINX的配置文件（/etc/nginx/nginx.conf）中http部分添加了下面语句（使用root用户登录服务器进行更改）：\\n```\\nclient_max_body_size 10m;\\n```\\n使上传图片大小上限调整到10M，\\n并将原来下面的语句中的2048改成了10240\\n```\\ntypes_hash_max_size 2048;\\n```\\n然后重新载入NGINX，使用：\\n```\\nservice nginx reload\\n```\\n\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\\n# 配置ghost\\n本次没有做太多自定义配置，具体可以参考[**这里**](https://www.binarization.com/archive/2016/configuring-ghost/)。\\n主题方面的配置可以参考[《Ghost简介和起步实践》](http://wuyijun.cn/ghostjian-jie-he-qi-bu-shi-jian/)。\\n下载主题到[**这里**](https://www.ghostforbeginners.com/themes/)。\\n# 参考资料：\\n[《基于阿里云ECS的Centos7搭建Ghost》](https://www.itony.net/aliyun-centos7-ghost/)\\n[《NPM 套件管理工具》](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[《Ghost 1.0+ 安装（非ghost-cli方式）》](https://www.ihx.me/ghost1-6insallnocli/)\\n[《knex-migrator-Github》](https://github.com/TryGhost/knex-migrator)\\n[《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\n[《如何在CentOS上安装Ghost？》](https://www.binarization.com/archive/2016/installing-ghost-centos/)\\n[《ghost——Using Ghost as an NPM module》](https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module)\\n[<ghost——Install & Setup (production)》](https://docs.ghost.org/v1/docs/install)\\n[《CentOS Ghost安装教程（PM2+Nginx）》](https://codesky.me/archives/centos-ghost-install-introduce.wind)\\n[《ghost官方帮助文档》](https://themes.ghost.org/docs/author-context#section-author-object-attributes)\\n[《Solving the maximum file size error on Ghost + NGINX》](https://www.santoshsrinivas.com/solving-the-maximum-file-size-error-on-ghost-nginx/)\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。\n\n安装启动ghost\n需要用到的东西\n * 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\n * 使用 MySQL [https://www.mysql.com/]  做数据库服务；\n * 使用 Nginx [https://nginx.org/]  做网页服务器（Ghost的代理服务）；\n * 使用 NodeJS [https://nodejs.org/]  做后端服务；\n * Ghost [https://ghost.org/]一个开源的博客系统；\n\n基础设置\n查看一下系统信息：\ncat /etc/redhat-release  \n\n\nCentOS Linux release 7.4.1708 (Core)\n\n更新一下系统，安装一些基础工具：\n阿里云的centos已经优化了yum的源，你也可以自行修改\n\nyum update -y && yum upgrage -y && yum clean all\n\n\ncurl, wget都是方便后边的下载\nvim作为一个老牌Linux文本编辑工具，你值得拥有\n还要安装开发工具包\n\nyum groupinstall -y \"Development Tools\"\nyum install curl wget vim -y\n\n\n更新全系统的vim配置\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \n\n\nMySQL安装设置\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL\nRepository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\n[https://dev.mysql.com/downloads/repo/yum/%EF%BC%89:]\n\n安裝 MySQL Repository\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\n\n\n安装MySQL数据库的服务器社区稳定版\nyum install mysql-community-server -y\n\n\n启动MySQL服务\nsystemctl start mysqld.service\n\n\n设置随系统自启动\nsystemctl enable mysqld.service  \n\n\n初始化设置\nmysql_secure_installation\n\n\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\n\ngrep \"password\" /var/log/mysqld.log  \n\n\n创建Ghost需要的用户及数据库：\n运行以后输入刚才拿到的密码\n\nmysql -uroot -p \n\n\n添加新数据库blog，后面Ghost会用到\n\nCREATE DATABASE blog;\n\n\n添加新用户ghost（password替换为你需要的密码）\n\nCREATE USER ghost IDENTIFIED BY 'password';\n\n\n授予ghost用户在blog数据库上的所有权限\n（password就是你刚才创建ghost账户时设置的密码）\n\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\n\n\n刷新权限\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\n\nFLUSH PRIVILEGES;\n\n\nCtrl+D 退出\n\n好了，以上就是MySQL部分\n\nNodeJS安装设置\n推荐使用以下方式安装NodeJS\n本系统使用V6稳定版，如需其它版本，你可以自行调整\n\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \n\n\n安装NodeJS及其依赖包\nyum install gcc-c++ make nodejs -y\n\n\nNodeJS安装以后，默认已经自带的NPM\n不过npm\n[https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst]\n之前一直被吐槽，建议***升级最新版或者用yarn代替***\n\n升级npm至最新版本(^v5.0.4)\nnpm install npm@latest -g\n\n\n安装yarn代替（推荐）\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \nyum install yarn -y\n\n\n使用时发现无法查找到yarn安装包，查找后采用下面方法安装：\n\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\nyum install yarn\n\n\n测试一下\nnode -v\n\n\nv6.11.0\n\nnpm -v\n\n\nv5.1.0\n\nyarn -v\n\n\nv0.27.5\n\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\n\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\n\nNginx安装配置\n直接安装即可\nyum install nginx -y\n\n\n立即启动\nsystemctl start nginx\n\n\n设置开机自启动\nsystemctl enable nginx  \n\n\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\n\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\n\n反向代理80端口\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而\nGhost 博客默认运行在 2368 端口上。\n\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\n\n进入 Nginx 配置目录：\ncd /etc/nginx/conf.d\n新建 Ghost 博客的 Nginx 配置文件：\n\nvim ghost.conf\n\n\n按 i 输入以下内容：\n\nserver {\nlisten 80;\nserver_name loyalsoldier.me [http://loyalsoldier.me]  //修改为域名或服务器 IP 地址;\ngzip on;\ngzip_types text/plain application/xml text/css application/javascript\napplication/json application/font-woff application/font-woff2\napplication/vnd.ms-fontobject application/x-font-ttf font/opentype\napplication/pdf image/png image/bmp image/gif image/jpeg image/webp\nimage/svg+xml;\ngzip_proxied no-cache no-store private expired auth;\ngzip_vary on;\ngzip_min_length 1024;\nlocation / {\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\nproxy_set_header X-Real-IP $remote_addr;\nproxy_set_header Host $http_host;\nproxy_set_header X-Forwarded-Proto $scheme;\nproxy_pass http://127.0.0.1:2368;\n}\nlocation ~* .*.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\nproxy_set_header X-Real-IP $remote_addr;\nproxy_set_header Host $http_host;\nproxy_set_header X-Forwarded-Proto $scheme;\nproxy_pass http://127.0.0.1:2368;\nadd_header Cache-Control max-age=2592000;\nexpires 30d;\netag on;\n}\n}\n\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\n\nsudo nginx -t\n\n\n若输出的结果有 ok、successful 等字样，表示配置正确\n\n如果正确的话，重启Nginx服务\n\nsystemctl restart nginx.service  \n\n\n添加新用户\n创建一个名为www的用户组\n\nadduser www\n\n\n设置密码(请记录下你的密码，以后需要用到)\npasswd www\n\n\n分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\ngpasswd -a www wheel\n\n\n将nginx用户添加入www的用户组，方便后期的权限控制\nusermod -a -G nginx,www nginx  \n\n\n安装ghost\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用www账户登录：\n\nssh www@xxx.xxx.xxx.xxx  \n\n\n然后下载Ghost最新的代码。\n\n下载Ghost最新的稳定版\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\n\n\n解压\nunzip -uo ghost.zip -d ghost\n\n\n进入Ghost的目录并安装生产环境的依赖\ncd ghost && npm install --production\n\n\nnpm install\n--production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\n\n修改Ghost的config，修改数据库配置\nvim config.js  \n\n\n完整的config.js配置如下：\n\nvar path = require('path'),\nconfig;\n\nconfig = {\nproduction: {\nurl: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\nmail: {},\ndatabase: {\nclient: 'mysql',（前面安装的mysql数据库，这里一定要对应）\nconnection: {\nhost : '127.0.0.1',\nuser : 'ghost', //用户名\npassword : 'password', //ghost的密码，之前设置的\ndatabase : 'blog', //数据库名\ncharset : 'utf8'\n},\ndebug: false\n},\nserver: {\nhost: '127.0.0.1',\nport: '2368'\n}\n}\n};\n\nmodule.exports = config;\n\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\n\n安装knex-migrator\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\n\n使用vim编写MigrtorConfig.js文件：\n\nvim MigrtorConfig.js\n\n\n配置文件格式参考这里 [https://github.com/TryGhost/knex-migrator]：\n\nmodule.exports = {\ndatabase: {\nclient: 'mysql',\nconnection: {\nhost: '127.0.0.1',\nuser: 'ghost',（之前mysql设置时建立的用户名）\npassword: 'password',（改成mysql的ghost用户密码）\ncharset: 'utf8',\nname: 'blog'（之前mysql设置时建立的数据库）\n}\n},\nmigrationPath: process.cwd() + '/core/server/data/migrations',\ncurrentVersion: 'your-current-database-version',\n/**\nsubfolder: 'upgrades' [default: versions]\n（这一部分在执行时总出问题，就注释掉了）\n*/\n}\n\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\n\nmodule.exports = {\ndatabase: {\nclient: 'sqlite3',\nconnection: {\nfilename: 'path/to/your.db'\n}\n},\nmigrationPath: process.cwd() + '/core/server/data/migrations',\ncurrentVersion: 'your-current-database-version'\n}\n\n使用下面指令安装：\n\nnpm install -g knex-migrator\n\n\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\n\n运行一下：\n\nnpm start --production\n\n\n如果看到下面的提示，证明你已经完成80%了：\n\nGhost is running in production...\nYour blog is now available on xx.xx.xx.xx\nCtrl+C to shut down\n\n问题及解决方案\n权限问题\n在执行npm start\n--production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\nnpmjs.com网站中的解决方法2\n[https://docs.npmjs.com/getting-started/fixing-npm-permissions]。\n首先检查npm的路径：\n\nnpm config get prefix\n\n\n发现是/usr\n然后改变npm的默认路径：\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\n\nmkdir ~/.npm-global\n\n\n2.设置默认路径：\n\nnpm config set prefix '~/.npm-global'\n\n\n3.加入用户PATH：\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\n\nexport PATH=~/.npm-global/bin:$PATH\n\n\n4.更新profile文件\n\nsource ~/.bash_profile\n\n\n检验：全局下载文件包，不要用sudo，也可以省去检测\n\nnpm install -g jshint\n\n\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\n\nNPM_CONFIG_PREFIX=~/.npm-global\n\n\n语法错误问题\nSyntax error: Unexpected token\n\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\n\n全局安装PM2\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start\n--production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\n\nyarn global add pm2 --prefix /usr/local\n\n\n用PM2来启动Ghost的node服务\n先切到ghost的目录，然后再运行\n\nNODE_ENV=production pm2 start index.js --name \"blog\"\n\n\n检查运行结果\npm2 show blog  \n\n\n配置ghost\n本次没有做太多自定义配置，具体可以参考这里\n[https://www.binarization.com/archive/2016/configuring-ghost/]。\n\n参考资料：\n《基于阿里云ECS的Centos7搭建Ghost》 [https://www.itony.net/aliyun-centos7-ghost/]\n《NPM 套件管理工具》\n[https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst]\n《Ghost 1.0+ 安装（非ghost-cli方式）》 [https://www.ihx.me/ghost1-6insallnocli/]\n《knex-migrator-Github》 [https://github.com/TryGhost/knex-migrator]\n《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》\n[https://loyalsoldier.me/deploy-ghost-on-centos-7/]\n《如何在CentOS上安装Ghost？》\n[https://www.binarization.com/archive/2016/installing-ghost-centos/]\n《ghost——Using Ghost as an NPM module》\n[https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module]\n<ghost——Install & Setup (production)》 [https://docs.ghost.org/v1/docs/install]\n《CentOS Ghost安装教程（PM2+Nginx）》\n[https://codesky.me/archives/centos-ghost-install-introduce.wind]\n《ghost官方帮助文档》","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T07:08:39.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1","count":{"posts":2}},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1","count":{"posts":1}}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"5634-0Gj08N++ygIuIeN1xDMoeoJn9tc\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"56ms"},"msg":"","time":"2017-09-29T07:08:58.448Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"6e9f01f0-a4e5-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"34328","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装启动ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n还要安装开发工具包\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n使用时发现无法查找到yarn安装包，查找后采用下面方法安装：\\n```\\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\\nyum install yarn\\n```\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件：\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n配置文件格式参考[**这里**](https://github.com/TryGhost/knex-migrator)：\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n\\n#### 图片和主题过大无法上传\\n> The file you uploaded was larger than the maximum file size your server allows\\n在使用客户端上传主题文件的过程中出现这个问题，后来查阅之后参照[《Solving the maximum file size error on Ghost + NGINX》](https://www.santoshsrinivas.com/solving-the-maximum-file-size-error-on-ghost-nginx/)这篇文章进行了设置，在NGINX的配置文件（/etc/nginx/nginx.conf）中http部分添加了下面语句（使用root用户登录服务器进行更改）：\\n```\\nclient_max_body_size 10m;\\n```\\n使上传图片大小上限调整到10M，\\n并将原来下面的语句中的2048改成了10240\\n```\\ntypes_hash_max_size 2048;\\n```\\n然后重新载入NGINX，使用：\\n```\\nservice nginx reload\\n```\\n\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\\n# 配置ghost\\n本次没有做太多自定义配置，具体可以参考[**这里**](https://www.binarization.com/archive/2016/configuring-ghost/)。\\n主题方面的配置可以参考[《Ghost简介和起步实践》](http://wuyijun.cn/ghostjian-jie-he-qi-bu-shi-jian/)。\\n下载主题到[**《List of Ghost Themes》**](https://www.ghostforbeginners.com/themes/)。\\n# 参考资料：\\n[《基于阿里云ECS的Centos7搭建Ghost》](https://www.itony.net/aliyun-centos7-ghost/)\\n[《NPM 套件管理工具》](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[《Ghost 1.0+ 安装（非ghost-cli方式）》](https://www.ihx.me/ghost1-6insallnocli/)\\n[《knex-migrator-Github》](https://github.com/TryGhost/knex-migrator)\\n[《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\n[《如何在CentOS上安装Ghost？》](https://www.binarization.com/archive/2016/installing-ghost-centos/)\\n[《ghost——Using Ghost as an NPM module》](https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module)\\n[<ghost——Install & Setup (production)》](https://docs.ghost.org/v1/docs/install)\\n[《CentOS Ghost安装教程（PM2+Nginx）》](https://codesky.me/archives/centos-ghost-install-introduce.wind)\\n[《ghost官方帮助文档》](https://themes.ghost.org/docs/author-context#section-author-object-attributes)\\n[《Solving the maximum file size error on Ghost + NGINX》](https://www.santoshsrinivas.com/solving-the-maximum-file-size-error-on-ghost-nginx/)\\n[《List of Ghost Themes》](https://www.ghostforbeginners.com/themes/)\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。\n\n安装启动ghost\n需要用到的东西\n * 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\n * 使用 MySQL [https://www.mysql.com/]  做数据库服务；\n * 使用 Nginx [https://nginx.org/]  做网页服务器（Ghost的代理服务）；\n * 使用 NodeJS [https://nodejs.org/]  做后端服务；\n * Ghost [https://ghost.org/]一个开源的博客系统；\n\n基础设置\n查看一下系统信息：\ncat /etc/redhat-release  \n\n\nCentOS Linux release 7.4.1708 (Core)\n\n更新一下系统，安装一些基础工具：\n阿里云的centos已经优化了yum的源，你也可以自行修改\n\nyum update -y && yum upgrage -y && yum clean all\n\n\ncurl, wget都是方便后边的下载\nvim作为一个老牌Linux文本编辑工具，你值得拥有\n还要安装开发工具包\n\nyum groupinstall -y \"Development Tools\"\nyum install curl wget vim -y\n\n\n更新全系统的vim配置\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \n\n\nMySQL安装设置\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL\nRepository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\n[https://dev.mysql.com/downloads/repo/yum/%EF%BC%89:]\n\n安裝 MySQL Repository\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\n\n\n安装MySQL数据库的服务器社区稳定版\nyum install mysql-community-server -y\n\n\n启动MySQL服务\nsystemctl start mysqld.service\n\n\n设置随系统自启动\nsystemctl enable mysqld.service  \n\n\n初始化设置\nmysql_secure_installation\n\n\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\n\ngrep \"password\" /var/log/mysqld.log  \n\n\n创建Ghost需要的用户及数据库：\n运行以后输入刚才拿到的密码\n\nmysql -uroot -p \n\n\n添加新数据库blog，后面Ghost会用到\n\nCREATE DATABASE blog;\n\n\n添加新用户ghost（password替换为你需要的密码）\n\nCREATE USER ghost IDENTIFIED BY 'password';\n\n\n授予ghost用户在blog数据库上的所有权限\n（password就是你刚才创建ghost账户时设置的密码）\n\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\n\n\n刷新权限\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\n\nFLUSH PRIVILEGES;\n\n\nCtrl+D 退出\n\n好了，以上就是MySQL部分\n\nNodeJS安装设置\n推荐使用以下方式安装NodeJS\n本系统使用V6稳定版，如需其它版本，你可以自行调整\n\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \n\n\n安装NodeJS及其依赖包\nyum install gcc-c++ make nodejs -y\n\n\nNodeJS安装以后，默认已经自带的NPM\n不过npm\n[https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst]\n之前一直被吐槽，建议***升级最新版或者用yarn代替***\n\n升级npm至最新版本(^v5.0.4)\nnpm install npm@latest -g\n\n\n安装yarn代替（推荐）\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \nyum install yarn -y\n\n\n使用时发现无法查找到yarn安装包，查找后采用下面方法安装：\n\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\nyum install yarn\n\n\n测试一下\nnode -v\n\n\nv6.11.0\n\nnpm -v\n\n\nv5.1.0\n\nyarn -v\n\n\nv0.27.5\n\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\n\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\n\nNginx安装配置\n直接安装即可\nyum install nginx -y\n\n\n立即启动\nsystemctl start nginx\n\n\n设置开机自启动\nsystemctl enable nginx  \n\n\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\n\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\n\n反向代理80端口\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而\nGhost 博客默认运行在 2368 端口上。\n\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\n\n进入 Nginx 配置目录：\ncd /etc/nginx/conf.d\n新建 Ghost 博客的 Nginx 配置文件：\n\nvim ghost.conf\n\n\n按 i 输入以下内容：\n\nserver {\nlisten 80;\nserver_name loyalsoldier.me [http://loyalsoldier.me]  //修改为域名或服务器 IP 地址;\ngzip on;\ngzip_types text/plain application/xml text/css application/javascript\napplication/json application/font-woff application/font-woff2\napplication/vnd.ms-fontobject application/x-font-ttf font/opentype\napplication/pdf image/png image/bmp image/gif image/jpeg image/webp\nimage/svg+xml;\ngzip_proxied no-cache no-store private expired auth;\ngzip_vary on;\ngzip_min_length 1024;\nlocation / {\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\nproxy_set_header X-Real-IP $remote_addr;\nproxy_set_header Host $http_host;\nproxy_set_header X-Forwarded-Proto $scheme;\nproxy_pass http://127.0.0.1:2368;\n}\nlocation ~* .*.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\nproxy_set_header X-Real-IP $remote_addr;\nproxy_set_header Host $http_host;\nproxy_set_header X-Forwarded-Proto $scheme;\nproxy_pass http://127.0.0.1:2368;\nadd_header Cache-Control max-age=2592000;\nexpires 30d;\netag on;\n}\n}\n\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\n\nsudo nginx -t\n\n\n若输出的结果有 ok、successful 等字样，表示配置正确\n\n如果正确的话，重启Nginx服务\n\nsystemctl restart nginx.service  \n\n\n添加新用户\n创建一个名为www的用户组\n\nadduser www\n\n\n设置密码(请记录下你的密码，以后需要用到)\npasswd www\n\n\n分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\ngpasswd -a www wheel\n\n\n将nginx用户添加入www的用户组，方便后期的权限控制\nusermod -a -G nginx,www nginx  \n\n\n安装ghost\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用www账户登录：\n\nssh www@xxx.xxx.xxx.xxx  \n\n\n然后下载Ghost最新的代码。\n\n下载Ghost最新的稳定版\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\n\n\n解压\nunzip -uo ghost.zip -d ghost\n\n\n进入Ghost的目录并安装生产环境的依赖\ncd ghost && npm install --production\n\n\nnpm install\n--production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\n\n修改Ghost的config，修改数据库配置\nvim config.js  \n\n\n完整的config.js配置如下：\n\nvar path = require('path'),\nconfig;\n\nconfig = {\nproduction: {\nurl: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\nmail: {},\ndatabase: {\nclient: 'mysql',（前面安装的mysql数据库，这里一定要对应）\nconnection: {\nhost : '127.0.0.1',\nuser : 'ghost', //用户名\npassword : 'password', //ghost的密码，之前设置的\ndatabase : 'blog', //数据库名\ncharset : 'utf8'\n},\ndebug: false\n},\nserver: {\nhost: '127.0.0.1',\nport: '2368'\n}\n}\n};\n\nmodule.exports = config;\n\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\n\n安装knex-migrator\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\n\n使用vim编写MigrtorConfig.js文件：\n\nvim MigrtorConfig.js\n\n\n配置文件格式参考这里 [https://github.com/TryGhost/knex-migrator]：\n\nmodule.exports = {\ndatabase: {\nclient: 'mysql',\nconnection: {\nhost: '127.0.0.1',\nuser: 'ghost',（之前mysql设置时建立的用户名）\npassword: 'password',（改成mysql的ghost用户密码）\ncharset: 'utf8',\nname: 'blog'（之前mysql设置时建立的数据库）\n}\n},\nmigrationPath: process.cwd() + '/core/server/data/migrations',\ncurrentVersion: 'your-current-database-version',\n/**\nsubfolder: 'upgrades' [default: versions]\n（这一部分在执行时总出问题，就注释掉了）\n*/\n}\n\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\n\nmodule.exports = {\ndatabase: {\nclient: 'sqlite3',\nconnection: {\nfilename: 'path/to/your.db'\n}\n},\nmigrationPath: process.cwd() + '/core/server/data/migrations',\ncurrentVersion: 'your-current-database-version'\n}\n\n使用下面指令安装：\n\nnpm install -g knex-migrator\n\n\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\n\n运行一下：\n\nnpm start --production\n\n\n如果看到下面的提示，证明你已经完成80%了：\n\nGhost is running in production...\nYour blog is now available on xx.xx.xx.xx\nCtrl+C to shut down\n\n问题及解决方案\n权限问题\n在执行npm start\n--production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\nnpmjs.com网站中的解决方法2\n[https://docs.npmjs.com/getting-started/fixing-npm-permissions]。\n首先检查npm的路径：\n\nnpm config get prefix\n\n\n发现是/usr\n然后改变npm的默认路径：\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\n\nmkdir ~/.npm-global\n\n\n2.设置默认路径：\n\nnpm config set prefix '~/.npm-global'\n\n\n3.加入用户PATH：\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\n\nexport PATH=~/.npm-global/bin:$PATH\n\n\n4.更新profile文件\n\nsource ~/.bash_profile\n\n\n检验：全局下载文件包，不要用sudo，也可以省去检测\n\nnpm install -g jshint\n\n\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\n\nNPM_CONFIG_PREFIX=~/.npm-global\n\n\n语法错误问题\nSyntax error: Unexpected token\n\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\n\n全局安装PM2\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start\n--production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\n\nyarn global add pm2 --prefix /usr/local\n\n\n用PM2来启动Ghost的node服务\n先切到ghost的目录，然后再运行\n\nNODE_ENV=production pm2 start index.js --name \"blog\"\n\n\n检查运行结果\npm2 show blog  \n\n\n配置ghost\n本次没有做太多自定义配置，具体可以参考这里\n[https://www.binarization.com/archive/2016/configuring-ghost/]。\n\n参考资料：\n《基于阿里云ECS的Centos7搭建Ghost》 [https://www.itony.net/aliyun-centos7-ghost/]\n《NPM 套件管理工具》\n[https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst]\n《Ghost 1.0+ 安装（非ghost-cli方式）》 [https://www.ihx.me/ghost1-6insallnocli/]\n《knex-migrator-Github》 [https://github.com/TryGhost/knex-migrator]\n《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》\n[https://loyalsoldier.me/deploy-ghost-on-centos-7/]\n《如何在CentOS上安装Ghost？》\n[https://www.binarization.com/archive/2016/installing-ghost-centos/]\n《ghost——Using Ghost as an NPM module》\n[https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module]\n<ghost——Install & Setup (production)》 [https://docs.ghost.org/v1/docs/install]\n《CentOS Ghost安装教程（PM2+Nginx）》\n[https://codesky.me/archives/centos-ghost-install-introduce.wind]\n《ghost官方帮助文档》","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T07:08:58.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1","count":{"posts":2}},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1","count":{"posts":1}}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"56a2-RDv1WrCEQLYUS7ysQHqcFN2IIBI\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"101ms"},"msg":"","time":"2017-09-29T07:11:36.955Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"777127e0-a4e5-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"936f-7VTpQfgF1cnvKa1RWy9YmNe7YyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"97ea-ZjxZq5D2eCZLIoEzoQ6mJ+BZvXk\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"30ms"},"msg":"","time":"2017-09-29T07:11:51.677Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"77782cc0-a4e5-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/compiled/css/post.css?v=88930c270b","method":"GET","originalUrl":"/assets/compiled/css/post.css?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Fri, 29 Sep 2017 03:38:20 GMT","if-none-match":"W/\"2182-15ecbb6ac8e\""},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"2182-15ecbb6ac8e\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T07:11:51.694Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"777a0180-a4e5-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/css/font-awesome.min.css?v=88930c270b","method":"GET","originalUrl":"/assets/lib/css/font-awesome.min.css?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Fri, 29 Sep 2017 03:38:20 GMT","if-none-match":"W/\"7918-15ecbb6ac8e\""},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"7918-15ecbb6ac8e\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T07:11:51.705Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"777c4b70-a4e5-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/css/highlight.tomorrow.min.css?v=88930c270b","method":"GET","originalUrl":"/assets/lib/css/highlight.tomorrow.min.css?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Fri, 29 Sep 2017 03:38:20 GMT","if-none-match":"W/\"277-15ecbb6ac8e\""},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"277-15ecbb6ac8e\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T07:11:51.721Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"777df920-a4e5-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/js/jquery.min.js?v=88930c270b","method":"GET","originalUrl":"/assets/lib/js/jquery.min.js?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Fri, 29 Sep 2017 03:38:20 GMT","if-none-match":"W/\"14a2a-15ecbb6ac8f\""},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"14a2a-15ecbb6ac8f\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T07:11:51.732Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"77817b90-a4e5-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/js/highlight.min.js?v=88930c270b","method":"GET","originalUrl":"/assets/lib/js/highlight.min.js?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Fri, 29 Sep 2017 03:38:20 GMT","if-none-match":"W/\"ae91-15ecbb6ac8e\""},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"ae91-15ecbb6ac8e\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T07:11:51.754Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"7783ec90-a4e5-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=88930c270b","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T07:11:51.770Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"778684a0-a4e5-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T07:11:51.787Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"77879610-a4e5-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T07:11:51.794Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"7787e430-a4e5-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/fonts/fontawesome-webfont.woff2?v=4.7.0","method":"GET","originalUrl":"/assets/lib/fonts/fontawesome-webfont.woff2?v=4.7.0","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","origin":"http://47.95.197.107","accept-encoding":"gzip, deflate","if-modified-since":"Fri, 29 Sep 2017 03:38:20 GMT","if-none-match":"W/\"12d68-15ecbb6ac8f\""},"body":{},"query":{"v":"4.7.0"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"12d68-15ecbb6ac8f\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T07:11:51.796Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"779aa8e0-a4e5-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T07:11:51.919Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"7808d400-a4e5-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"25ms"},"msg":"","time":"2017-09-29T07:11:52.666Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"7915fe40-a4e5-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"97ea-ZjxZq5D2eCZLIoEzoQ6mJ+BZvXk\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"97ea-ZjxZq5D2eCZLIoEzoQ6mJ+BZvXk\""},"statusCode":304,"responseTime":"17ms"},"msg":"","time":"2017-09-29T07:11:54.422Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"88c4bbb0-a4e5-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"34332","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装启动ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n还要安装开发工具包\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n使用时发现无法查找到yarn安装包，查找后采用下面方法安装：\\n```\\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\\nyum install yarn\\n```\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件：\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n配置文件格式参考[**这里**](https://github.com/TryGhost/knex-migrator)：\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n\\n#### 图片和主题过大无法上传\\n> The file you uploaded was larger than the maximum file size your server allows\\n在使用客户端上传主题文件的过程中出现这个问题，后来查阅之后参照[《Solving the maximum file size error on Ghost + NGINX》](https://www.santoshsrinivas.com/solving-the-maximum-file-size-error-on-ghost-nginx/)这篇文章进行了设置，在NGINX的配置文件（/etc/nginx/nginx.conf）中http部分添加了下面语句（使用root用户登录服务器进行更改）：\\n```\\nclient_max_body_size 10m;\\n```\\n使上传图片大小上限调整到10M，\\n并将原来下面的语句中的2048改成了10240\\n```\\ntypes_hash_max_size 2048;\\n```\\n然后重新载入NGINX，使用：\\n```\\nservice nginx reload\\n```\\n\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\\n# 配置ghost\\n本次没有做太多自定义配置，具体可以参考[**这里**](https://www.binarization.com/archive/2016/configuring-ghost/)。\\n主题方面的配置可以参考[**《Ghost简介和起步实践》**](http://wuyijun.cn/ghostjian-jie-he-qi-bu-shi-jian/)。\\n下载主题到[**《List of Ghost Themes》**](https://www.ghostforbeginners.com/themes/)。\\n# 参考资料：\\n[《基于阿里云ECS的Centos7搭建Ghost》](https://www.itony.net/aliyun-centos7-ghost/)\\n[《NPM 套件管理工具》](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[《Ghost 1.0+ 安装（非ghost-cli方式）》](https://www.ihx.me/ghost1-6insallnocli/)\\n[《knex-migrator-Github》](https://github.com/TryGhost/knex-migrator)\\n[《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\n[《如何在CentOS上安装Ghost？》](https://www.binarization.com/archive/2016/installing-ghost-centos/)\\n[《ghost——Using Ghost as an NPM module》](https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module)\\n[<ghost——Install & Setup (production)》](https://docs.ghost.org/v1/docs/install)\\n[《CentOS Ghost安装教程（PM2+Nginx）》](https://codesky.me/archives/centos-ghost-install-introduce.wind)\\n[《ghost官方帮助文档》](https://themes.ghost.org/docs/author-context#section-author-object-attributes)\\n[《Solving the maximum file size error on Ghost + NGINX》](https://www.santoshsrinivas.com/solving-the-maximum-file-size-error-on-ghost-nginx/)\\n[《List of Ghost Themes》](https://www.ghostforbeginners.com/themes/)\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。\n\n安装启动ghost\n需要用到的东西\n * 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\n * 使用 MySQL [https://www.mysql.com/]  做数据库服务；\n * 使用 Nginx [https://nginx.org/]  做网页服务器（Ghost的代理服务）；\n * 使用 NodeJS [https://nodejs.org/]  做后端服务；\n * Ghost [https://ghost.org/]一个开源的博客系统；\n\n基础设置\n查看一下系统信息：\ncat /etc/redhat-release  \n\n\nCentOS Linux release 7.4.1708 (Core)\n\n更新一下系统，安装一些基础工具：\n阿里云的centos已经优化了yum的源，你也可以自行修改\n\nyum update -y && yum upgrage -y && yum clean all\n\n\ncurl, wget都是方便后边的下载\nvim作为一个老牌Linux文本编辑工具，你值得拥有\n还要安装开发工具包\n\nyum groupinstall -y \"Development Tools\"\nyum install curl wget vim -y\n\n\n更新全系统的vim配置\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \n\n\nMySQL安装设置\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL\nRepository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\n[https://dev.mysql.com/downloads/repo/yum/%EF%BC%89:]\n\n安裝 MySQL Repository\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\n\n\n安装MySQL数据库的服务器社区稳定版\nyum install mysql-community-server -y\n\n\n启动MySQL服务\nsystemctl start mysqld.service\n\n\n设置随系统自启动\nsystemctl enable mysqld.service  \n\n\n初始化设置\nmysql_secure_installation\n\n\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\n\ngrep \"password\" /var/log/mysqld.log  \n\n\n创建Ghost需要的用户及数据库：\n运行以后输入刚才拿到的密码\n\nmysql -uroot -p \n\n\n添加新数据库blog，后面Ghost会用到\n\nCREATE DATABASE blog;\n\n\n添加新用户ghost（password替换为你需要的密码）\n\nCREATE USER ghost IDENTIFIED BY 'password';\n\n\n授予ghost用户在blog数据库上的所有权限\n（password就是你刚才创建ghost账户时设置的密码）\n\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\n\n\n刷新权限\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\n\nFLUSH PRIVILEGES;\n\n\nCtrl+D 退出\n\n好了，以上就是MySQL部分\n\nNodeJS安装设置\n推荐使用以下方式安装NodeJS\n本系统使用V6稳定版，如需其它版本，你可以自行调整\n\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \n\n\n安装NodeJS及其依赖包\nyum install gcc-c++ make nodejs -y\n\n\nNodeJS安装以后，默认已经自带的NPM\n不过npm\n[https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst]\n之前一直被吐槽，建议***升级最新版或者用yarn代替***\n\n升级npm至最新版本(^v5.0.4)\nnpm install npm@latest -g\n\n\n安装yarn代替（推荐）\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \nyum install yarn -y\n\n\n使用时发现无法查找到yarn安装包，查找后采用下面方法安装：\n\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\nyum install yarn\n\n\n测试一下\nnode -v\n\n\nv6.11.0\n\nnpm -v\n\n\nv5.1.0\n\nyarn -v\n\n\nv0.27.5\n\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\n\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\n\nNginx安装配置\n直接安装即可\nyum install nginx -y\n\n\n立即启动\nsystemctl start nginx\n\n\n设置开机自启动\nsystemctl enable nginx  \n\n\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\n\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\n\n反向代理80端口\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而\nGhost 博客默认运行在 2368 端口上。\n\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\n\n进入 Nginx 配置目录：\ncd /etc/nginx/conf.d\n新建 Ghost 博客的 Nginx 配置文件：\n\nvim ghost.conf\n\n\n按 i 输入以下内容：\n\nserver {\nlisten 80;\nserver_name loyalsoldier.me [http://loyalsoldier.me]  //修改为域名或服务器 IP 地址;\ngzip on;\ngzip_types text/plain application/xml text/css application/javascript\napplication/json application/font-woff application/font-woff2\napplication/vnd.ms-fontobject application/x-font-ttf font/opentype\napplication/pdf image/png image/bmp image/gif image/jpeg image/webp\nimage/svg+xml;\ngzip_proxied no-cache no-store private expired auth;\ngzip_vary on;\ngzip_min_length 1024;\nlocation / {\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\nproxy_set_header X-Real-IP $remote_addr;\nproxy_set_header Host $http_host;\nproxy_set_header X-Forwarded-Proto $scheme;\nproxy_pass http://127.0.0.1:2368;\n}\nlocation ~* .*.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\nproxy_set_header X-Real-IP $remote_addr;\nproxy_set_header Host $http_host;\nproxy_set_header X-Forwarded-Proto $scheme;\nproxy_pass http://127.0.0.1:2368;\nadd_header Cache-Control max-age=2592000;\nexpires 30d;\netag on;\n}\n}\n\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\n\nsudo nginx -t\n\n\n若输出的结果有 ok、successful 等字样，表示配置正确\n\n如果正确的话，重启Nginx服务\n\nsystemctl restart nginx.service  \n\n\n添加新用户\n创建一个名为www的用户组\n\nadduser www\n\n\n设置密码(请记录下你的密码，以后需要用到)\npasswd www\n\n\n分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\ngpasswd -a www wheel\n\n\n将nginx用户添加入www的用户组，方便后期的权限控制\nusermod -a -G nginx,www nginx  \n\n\n安装ghost\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用www账户登录：\n\nssh www@xxx.xxx.xxx.xxx  \n\n\n然后下载Ghost最新的代码。\n\n下载Ghost最新的稳定版\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\n\n\n解压\nunzip -uo ghost.zip -d ghost\n\n\n进入Ghost的目录并安装生产环境的依赖\ncd ghost && npm install --production\n\n\nnpm install\n--production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\n\n修改Ghost的config，修改数据库配置\nvim config.js  \n\n\n完整的config.js配置如下：\n\nvar path = require('path'),\nconfig;\n\nconfig = {\nproduction: {\nurl: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\nmail: {},\ndatabase: {\nclient: 'mysql',（前面安装的mysql数据库，这里一定要对应）\nconnection: {\nhost : '127.0.0.1',\nuser : 'ghost', //用户名\npassword : 'password', //ghost的密码，之前设置的\ndatabase : 'blog', //数据库名\ncharset : 'utf8'\n},\ndebug: false\n},\nserver: {\nhost: '127.0.0.1',\nport: '2368'\n}\n}\n};\n\nmodule.exports = config;\n\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\n\n安装knex-migrator\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\n\n使用vim编写MigrtorConfig.js文件：\n\nvim MigrtorConfig.js\n\n\n配置文件格式参考这里 [https://github.com/TryGhost/knex-migrator]：\n\nmodule.exports = {\ndatabase: {\nclient: 'mysql',\nconnection: {\nhost: '127.0.0.1',\nuser: 'ghost',（之前mysql设置时建立的用户名）\npassword: 'password',（改成mysql的ghost用户密码）\ncharset: 'utf8',\nname: 'blog'（之前mysql设置时建立的数据库）\n}\n},\nmigrationPath: process.cwd() + '/core/server/data/migrations',\ncurrentVersion: 'your-current-database-version',\n/**\nsubfolder: 'upgrades' [default: versions]\n（这一部分在执行时总出问题，就注释掉了）\n*/\n}\n\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\n\nmodule.exports = {\ndatabase: {\nclient: 'sqlite3',\nconnection: {\nfilename: 'path/to/your.db'\n}\n},\nmigrationPath: process.cwd() + '/core/server/data/migrations',\ncurrentVersion: 'your-current-database-version'\n}\n\n使用下面指令安装：\n\nnpm install -g knex-migrator\n\n\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\n\n运行一下：\n\nnpm start --production\n\n\n如果看到下面的提示，证明你已经完成80%了：\n\nGhost is running in production...\nYour blog is now available on xx.xx.xx.xx\nCtrl+C to shut down\n\n问题及解决方案\n权限问题\n在执行npm start\n--production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\nnpmjs.com网站中的解决方法2\n[https://docs.npmjs.com/getting-started/fixing-npm-permissions]。\n首先检查npm的路径：\n\nnpm config get prefix\n\n\n发现是/usr\n然后改变npm的默认路径：\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\n\nmkdir ~/.npm-global\n\n\n2.设置默认路径：\n\nnpm config set prefix '~/.npm-global'\n\n\n3.加入用户PATH：\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\n\nexport PATH=~/.npm-global/bin:$PATH\n\n\n4.更新profile文件\n\nsource ~/.bash_profile\n\n\n检验：全局下载文件包，不要用sudo，也可以省去检测\n\nnpm install -g jshint\n\n\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\n\nNPM_CONFIG_PREFIX=~/.npm-global\n\n\n语法错误问题\nSyntax error: Unexpected token\n\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\n\n全局安装PM2\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start\n--production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\n\nyarn global add pm2 --prefix /usr/local\n\n\n用PM2来启动Ghost的node服务\n先切到ghost的目录，然后再运行\n\nNODE_ENV=production pm2 start index.js --name \"blog\"\n\n\n检查运行结果\npm2 show blog  \n\n\n配置ghost\n本次没有做太多自定义配置，具体可以参考这里\n[https://www.binarization.com/archive/2016/configuring-ghost/]。\n\n参考资料：\n《基于阿里云ECS的Centos7搭建Ghost》 [https://www.itony.net/aliyun-centos7-ghost/]\n《NPM 套件管理工具》\n[https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst]\n《Ghost 1.0+ 安装（非ghost-cli方式）》 [https://www.ihx.me/ghost1-6insallnocli/]\n《knex-migrator-Github》 [https://github.com/TryGhost/knex-migrator]\n《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》\n[https://loyalsoldier.me/deploy-ghost-on-centos-7/]\n《如何在CentOS上安装Ghost？》\n[https://www.binarization.com/archive/2016/installing-ghost-centos/]\n《ghost——Using Ghost as an NPM module》\n[https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module]\n<ghost——Install & Setup (production)》 [https://docs.ghost.org/v1/docs/install]\n《CentOS Ghost安装教程（PM2+Nginx）》\n[https://codesky.me/archives/centos-ghost-install-introduce.wind]\n《ghost官方帮助文档》","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T07:11:36.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1","count":{"posts":2}},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1","count":{"posts":1}}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"56b3-DC9PU7PkhVyB6FX3SZjvMWPXPjk\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"87ms"},"msg":"","time":"2017-09-29T07:12:20.806Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"89d149b0-a4e5-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"34332","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\\n什么是ghost？\\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\\n但是这并不影响我们搭建ghost服务器。吼吼吼~\\n\\n# 搭建准备\\n在[**阿里云**](https://www.aliyun.com/)上购买了一年的ECS服务器，配置如下:\\nCPU 1核；\\n内存 2G；\\n带宽 1Mbps；\\n硬盘 40G。\\n系统 CentOS 7.3 64位\\n\\n# 云服务器配置\\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\\n> 云服务器ECS——网络和安全——安全组——配置规则\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\\n这里的设置主要是参考了[**阿里云的官方帮助文档**](https://help.aliyun.com/knowledge_detail/34403.html)。\\n# 安装启动ghost\\n\\n## 需要用到的东西\\n\\n* 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\\n* 使用 [**MySQL**](https://www.mysql.com/) 做数据库服务；\\n* 使用 [**Nginx**](https://nginx.org/) 做网页服务器（Ghost的代理服务）；\\n* 使用 [**NodeJS**](https://nodejs.org/) 做后端服务；\\n* [**Ghost**](https://ghost.org/)一个开源的博客系统；\\n\\n## 基础设置\\n\\n### 查看一下系统信息：\\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### 更新一下系统，安装一些基础工具：\\n\\n阿里云的centos已经优化了yum的源，你也可以自行修改\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget都是方便后边的下载\\nvim作为一个老牌Linux文本编辑工具，你值得拥有\\n还要安装开发工具包\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### 更新全系统的vim配置\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL安装设置\\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL Repository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\\n\\n### 安裝 MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### 安装MySQL数据库的服务器社区稳定版\\n```\\nyum install mysql-community-server -y\\n```\\n### 启动MySQL服务\\n```\\nsystemctl start mysqld.service\\n```\\n### 设置随系统自启动\\n```\\nsystemctl enable mysqld.service  \\n```\\n### 初始化设置\\n```\\nmysql_secure_installation\\n```\\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### 创建Ghost需要的用户及数据库：\\n\\n运行以后输入刚才拿到的密码\\n```\\nmysql -uroot -p \\n```\\n添加新数据库blog，后面Ghost会用到\\n```\\nCREATE DATABASE blog;\\n```\\n添加新用户ghost（password替换为你需要的密码）\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\n授予ghost用户在blog数据库上的所有权限\\n（password就是你刚才创建ghost账户时设置的密码）\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n刷新权限\\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D 退出\\n\\n好了，以上就是MySQL部分\\n\\n## NodeJS安装设置\\n\\n推荐使用以下方式安装NodeJS\\n本系统使用V6稳定版，如需其它版本，你可以自行调整\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### 安装NodeJS及其依赖包\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJS安装以后，默认已经自带的NPM\\n不过[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)之前一直被吐槽，建议***升级最新版或者用yarn代替***\\n### 升级npm至最新版本(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### 安装yarn代替（推荐）\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n使用时发现无法查找到yarn安装包，查找后采用下面方法安装：\\n```\\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\\nyum install yarn\\n```\\n### 测试一下\\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\\n\\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\\n## Nginx安装配置\\n\\n### 直接安装即可\\n```\\nyum install nginx -y\\n```\\n### 立即启动\\n```\\nsystemctl start nginx\\n```\\n### 设置开机自启动\\n```\\nsystemctl enable nginx  \\n```\\n\\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\\n\\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\\n\\n### 反向代理80端口\\n\\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而 Ghost 博客默认运行在 2368 端口上。\\n\\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\\n\\n进入 Nginx 配置目录：\\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n新建 Ghost 博客的 Nginx 配置文件：\\n```\\nvim ghost.conf\\n```\\n按 i 输入以下内容：\\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me //修改为域名或服务器 IP 地址;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\\n\\n```\\nsudo nginx -t\\n```\\n若输出的结果有 ok、successful 等字样，表示配置正确\\n\\n如果正确的话，重启Nginx服务\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## 添加新用户\\n创建一个名为www的用户组\\n```\\nadduser www\\n```\\n\\n### 设置密码(请记录下你的密码，以后需要用到)\\n```\\npasswd www\\n```\\n\\n### 分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\\n```\\ngpasswd -a www wheel\\n```\\n### 将nginx用户添加入www的用户组，方便后期的权限控制\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## 安装ghost\\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用**www**账户登录：\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\n然后下载Ghost最新的代码。\\n\\n### 下载Ghost最新的稳定版\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### 解压\\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### 进入Ghost的目录并安装生产环境的依赖\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\\n### 修改Ghost的config，修改数据库配置\\n```\\nvim config.js  \\n```\\n完整的config.js配置如下：\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',（前面安装的mysql数据库，这里一定要对应）\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //用户名\\n>                 password : 'password', //ghost的密码，之前设置的\\n>                 database : 'blog', //数据库名\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\\n\\n### 安装knex-migrator\\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\\n\\n\\n使用vim编写MigrtorConfig.js文件：\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n配置文件格式参考[**这里**](https://github.com/TryGhost/knex-migrator)：\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',（之前mysql设置时建立的用户名）\\n>             password: 'password',（改成mysql的ghost用户密码）\\n>             charset: 'utf8',\\n>             name: 'blog'（之前mysql设置时建立的数据库）\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     （这一部分在执行时总出问题，就注释掉了）\\n>  */\\n> }\\n\\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n使用下面指令安装：\\n```\\nnpm install -g knex-migrator\\n```\\n\\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\\n\\n\\n运行一下：\\n```\\nnpm start --production\\n```\\n如果看到下面的提示，证明你已经完成80%了：\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### 问题及解决方案\\n\\n#### 权限问题\\n在执行npm start --production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\\nnpmjs.com网站中的[解决方法2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)。\\n首先检查npm的路径：\\n```\\nnpm config get prefix\\n```\\n发现是/usr\\n然后改变npm的默认路径：\\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\\n```\\nmkdir ~/.npm-global\\n```\\n2.设置默认路径：\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.加入用户PATH：\\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.更新profile文件\\n```\\nsource ~/.bash_profile\\n```\\n**检验**：全局下载文件包，**不要用sudo**，也可以省去检测\\n``` \\nnpm install -g jshint\\n```\\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### 语法错误问题\\n> Syntax error: Unexpected token\\n\\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\\n\\n#### 图片和主题过大无法上传\\n> The file you uploaded was larger than the maximum file size your server allows\\n在使用客户端上传主题文件的过程中出现这个问题，后来查阅之后参照[《Solving the maximum file size error on Ghost + NGINX》](https://www.santoshsrinivas.com/solving-the-maximum-file-size-error-on-ghost-nginx/)这篇文章进行了设置，在NGINX的配置文件（/etc/nginx/nginx.conf）中http部分添加了下面语句（使用root用户登录服务器进行更改）：\\n```\\nclient_max_body_size 10m;\\n```\\n使上传图片大小上限调整到10M，\\n并将原来下面的语句中的2048改成了10240\\n```\\ntypes_hash_max_size 2048;\\n```\\n然后重新载入NGINX，使用：\\n```\\nservice nginx reload\\n```\\n\\n## 全局安装PM2\\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start --production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### 用PM2来启动Ghost的node服务\\n先切到ghost的目录，然后再运行\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### 检查运行结果\\n```\\npm2 show blog  \\n```\\n\\n# 配置ghost\\n本次没有做太多自定义配置，具体可以参考[**这里**](https://www.binarization.com/archive/2016/configuring-ghost/)。\\n主题方面的配置可以参考[**《Ghost简介和起步实践》**](http://wuyijun.cn/ghostjian-jie-he-qi-bu-shi-jian/)。\\n下载主题到[**《List of Ghost Themes》**](https://www.ghostforbeginners.com/themes/)。\\n# 参考资料：\\n[《基于阿里云ECS的Centos7搭建Ghost》](https://www.itony.net/aliyun-centos7-ghost/)\\n[《NPM 套件管理工具》](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[《Ghost 1.0+ 安装（非ghost-cli方式）》](https://www.ihx.me/ghost1-6insallnocli/)\\n[《knex-migrator-Github》](https://github.com/TryGhost/knex-migrator)\\n[《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\n[《如何在CentOS上安装Ghost？》](https://www.binarization.com/archive/2016/installing-ghost-centos/)\\n[《ghost——Using Ghost as an NPM module》](https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module)\\n[<ghost——Install & Setup (production)》](https://docs.ghost.org/v1/docs/install)\\n[《CentOS Ghost安装教程（PM2+Nginx）》](https://codesky.me/archives/centos-ghost-install-introduce.wind)\\n[《ghost官方帮助文档》](https://themes.ghost.org/docs/author-context#section-author-object-attributes)\\n[《Solving the maximum file size error on Ghost + NGINX》](https://www.santoshsrinivas.com/solving-the-maximum-file-size-error-on-ghost-nginx/)\\n[《List of Ghost Themes》](https://www.ghostforbeginners.com/themes/)\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"很早就想找一个可以很舒心的记录点自己东西的地方，各大网站的博客也都尝试过，用起来感觉还是停留上世纪一样的体验阶段，原来试过一段时间的蚂蚁笔记（Leanote），虽然挺好，但是也要收费了，而且免费版的使用起来也不是很方便，关键是界面不是那么漂亮，使用客户端写东西，感觉也不是那么清爽。\n认识ghost是在尝试搭建shadowsocks服务器的时候偶然看到的，搜索了一下，感觉博客形式比较好看，关键还可以自己打架博客服务器，因此想要在自己购买的云服务器上搭建shadowsocks服务的同时搭建一个自己的博客空间，由于自己并不是计算机专业学生，因此鼓捣了大概一个周时间，终于能把ghost跑起来。\n什么是ghost？\nGhost是一个基于Node.js的博客程序，那么问题来了，什么又是Node.js呢？然而我并不清楚……\n但是这并不影响我们搭建ghost服务器。吼吼吼~\n\n搭建准备\n在阿里云 [https://www.aliyun.com/]上购买了一年的ECS服务器，配置如下:\nCPU 1核；\n内存 2G；\n带宽 1Mbps；\n硬盘 40G。\n系统 CentOS 7.3 64位\n\n云服务器配置\n搭建好了服务器之后发现不能像vultr的云服务器一样直接使用Xshell连接上，最先想到的时候防火墙没有开放22端口，使用阿里云网站上提供的管理终端（console）连接上服务器之后，暂时关闭了firewalld服务，发现仍然连接不上。\n之后尝试在本地windows系统的cmd中ping云服务器的ip，发现也ping不通，经过查找之后，发现是阿里云管理中有相应的安全管控，需要以下位置设置开通相应的端口：\n\n云服务器ECS——网络和安全——安全组——配置规则\n\n\n这样就可以使用Xshell等ssh链接工具连接到云服务器了。\n这里的设置主要是参考了阿里云的官方帮助文档 [https://help.aliyun.com/knowledge_detail/34403.html]。\n\n安装启动ghost\n需要用到的东西\n * 一个完成A记录解析设置的域名（建议做好ICP备案）；（可选）\n * 使用 MySQL [https://www.mysql.com/]  做数据库服务；\n * 使用 Nginx [https://nginx.org/]  做网页服务器（Ghost的代理服务）；\n * 使用 NodeJS [https://nodejs.org/]  做后端服务；\n * Ghost [https://ghost.org/]一个开源的博客系统；\n\n基础设置\n查看一下系统信息：\ncat /etc/redhat-release  \n\n\nCentOS Linux release 7.4.1708 (Core)\n\n更新一下系统，安装一些基础工具：\n阿里云的centos已经优化了yum的源，你也可以自行修改\n\nyum update -y && yum upgrage -y && yum clean all\n\n\ncurl, wget都是方便后边的下载\nvim作为一个老牌Linux文本编辑工具，你值得拥有\n还要安装开发工具包\n\nyum groupinstall -y \"Development Tools\"\nyum install curl wget vim -y\n\n\n更新全系统的vim配置\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \n\n\nMySQL安装设置\n由于CentOS7已经不带Mysql数据库了（默认的数据库是MariaDB，Mysql的一个分支），所以需要先安裝MySQL\nRepository（具体的版本号，可以参考 https://dev.mysql.com/downloads/repo/yum/）:\n[https://dev.mysql.com/downloads/repo/yum/%EF%BC%89:]\n\n安裝 MySQL Repository\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\n\n\n安装MySQL数据库的服务器社区稳定版\nyum install mysql-community-server -y\n\n\n启动MySQL服务\nsystemctl start mysqld.service\n\n\n设置随系统自启动\nsystemctl enable mysqld.service  \n\n\n初始化设置\nmysql_secure_installation\n\n\n由于MySQL5.7默认会初始化Root用户的密码，所以在执行之前需要获取这个初始密码：\n（本次设置中并没有执行如下操作，应为默认安装后第一次运行时不需密码，在初始化过程中会提示设置密码）\n\ngrep \"password\" /var/log/mysqld.log  \n\n\n创建Ghost需要的用户及数据库：\n运行以后输入刚才拿到的密码\n\nmysql -uroot -p \n\n\n添加新数据库blog，后面Ghost会用到\n\nCREATE DATABASE blog;\n\n\n添加新用户ghost（password替换为你需要的密码）\n\nCREATE USER ghost IDENTIFIED BY 'password';\n\n\n授予ghost用户在blog数据库上的所有权限\n（password就是你刚才创建ghost账户时设置的密码）\n\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\n\n\n刷新权限\n（当执行过GRANT，CREATE USER，REVOKE命令之后，必须要执行刷新权限才能生效）\n\nFLUSH PRIVILEGES;\n\n\nCtrl+D 退出\n\n好了，以上就是MySQL部分\n\nNodeJS安装设置\n推荐使用以下方式安装NodeJS\n本系统使用V6稳定版，如需其它版本，你可以自行调整\n\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \n\n\n安装NodeJS及其依赖包\nyum install gcc-c++ make nodejs -y\n\n\nNodeJS安装以后，默认已经自带的NPM\n不过npm\n[https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst]\n之前一直被吐槽，建议***升级最新版或者用yarn代替***\n\n升级npm至最新版本(^v5.0.4)\nnpm install npm@latest -g\n\n\n安装yarn代替（推荐）\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \nyum install yarn -y\n\n\n使用时发现无法查找到yarn安装包，查找后采用下面方法安装：\n\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\nyum install yarn\n\n\n测试一下\nnode -v\n\n\nv6.11.0\n\nnpm -v\n\n\nv5.1.0\n\nyarn -v\n\n\nv0.27.5\n\n这里有个坑，如果直接使用yum install nodejs -y也是可以安装NodeJS的，不过nodesource维护的更加好，而且可以升级npm。\n\n如果你已经看到了最后输出的信息，那么久代表NodeJS已经就绪了。\n\nNginx安装配置\n直接安装即可\nyum install nginx -y\n\n\n立即启动\nsystemctl start nginx\n\n\n设置开机自启动\nsystemctl enable nginx  \n\n\n现在，打开你的浏览器，输入你的公网IP，不出意外，你就已经可以看到一个Nginx的欢迎页面了。\n\n不过，出于后期的扩展或者安全性考虑，我们需要为系统创建一个名为www的用户，专门用于管理网站.\n\n反向代理80端口\n众所周知，网站基本都以 80 端口作为默认端口（除非你不想让别人访问你的网站），也就是说：访问域名或服务器 IP 地址，实际上是在访问该服务器的 80 端口。而\nGhost 博客默认运行在 2368 端口上。\n\n为了输入域名或服务器 IP 地址就可以访问到你的 Ghost 博客，需要将访问 80 端口的请求，反向代理到 Ghost 的 2368 端口上。\n\n进入 Nginx 配置目录：\ncd /etc/nginx/conf.d\n新建 Ghost 博客的 Nginx 配置文件：\n\nvim ghost.conf\n\n\n按 i 输入以下内容：\n\nserver {\nlisten 80;\nserver_name loyalsoldier.me [http://loyalsoldier.me]  //修改为域名或服务器 IP 地址;\ngzip on;\ngzip_types text/plain application/xml text/css application/javascript\napplication/json application/font-woff application/font-woff2\napplication/vnd.ms-fontobject application/x-font-ttf font/opentype\napplication/pdf image/png image/bmp image/gif image/jpeg image/webp\nimage/svg+xml;\ngzip_proxied no-cache no-store private expired auth;\ngzip_vary on;\ngzip_min_length 1024;\nlocation / {\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\nproxy_set_header X-Real-IP $remote_addr;\nproxy_set_header Host $http_host;\nproxy_set_header X-Forwarded-Proto $scheme;\nproxy_pass http://127.0.0.1:2368;\n}\nlocation ~* .*.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\nproxy_set_header X-Real-IP $remote_addr;\nproxy_set_header Host $http_host;\nproxy_set_header X-Forwarded-Proto $scheme;\nproxy_pass http://127.0.0.1:2368;\nadd_header Cache-Control max-age=2592000;\nexpires 30d;\netag on;\n}\n}\n\n按 ESC 键结束编辑，输入 :wq 保存文件并退出编辑\n使用 nginx -t 测试 Nginx 配置文件是否语法正确：\n\nsudo nginx -t\n\n\n若输出的结果有 ok、successful 等字样，表示配置正确\n\n如果正确的话，重启Nginx服务\n\nsystemctl restart nginx.service  \n\n\n添加新用户\n创建一个名为www的用户组\n\nadduser www\n\n\n设置密码(请记录下你的密码，以后需要用到)\npasswd www\n\n\n分配Root权限 - 让我们新创建的www用户拥有Root用户的权限\ngpasswd -a www wheel\n\n\n将nginx用户添加入www的用户组，方便后期的权限控制\nusermod -a -G nginx,www nginx  \n\n\n安装ghost\n以上就是Ghost需要用到的基础系统了，下面就来安装Ghost，新开一个Terminal窗口，用www账户登录：\n\nssh www@xxx.xxx.xxx.xxx  \n\n\n然后下载Ghost最新的代码。\n\n下载Ghost最新的稳定版\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\n\n\n解压\nunzip -uo ghost.zip -d ghost\n\n\n进入Ghost的目录并安装生产环境的依赖\ncd ghost && npm install --production\n\n\nnpm install\n--production这个命令可能需要执行多次，也是由于国内网络的原因，导致下载速度很慢，每次都下载不完全，需要多次执行，直到成功安装完成。\n\n修改Ghost的config，修改数据库配置\nvim config.js  \n\n\n完整的config.js配置如下：\n\nvar path = require('path'),\nconfig;\n\nconfig = {\nproduction: {\nurl: 'https://www.xxxx.xxx',（换成服务器ip或者申请的域名）\nmail: {},\ndatabase: {\nclient: 'mysql',（前面安装的mysql数据库，这里一定要对应）\nconnection: {\nhost : '127.0.0.1',\nuser : 'ghost', //用户名\npassword : 'password', //ghost的密码，之前设置的\ndatabase : 'blog', //数据库名\ncharset : 'utf8'\n},\ndebug: false\n},\nserver: {\nhost: '127.0.0.1',\nport: '2368'\n}\n}\n};\n\nmodule.exports = config;\n\n除了ghost安装根目录下的这个配置文件，还要检查一下/ghost/core/server/config下面的相应的配置文件，将相应的项更改正确，端口由于使用反向代理，因此不要更改，主要看一下url和database下面相应的设置。\n\n安装knex-migrator\n实际上这个时候用生产模式运行ghost会报错，提示没有安装knex-migrator。\n安装之前需要先编辑ghost安装文件夹下的***MigrtorConfig.js***文件。\n\n使用vim编写MigrtorConfig.js文件：\n\nvim MigrtorConfig.js\n\n\n配置文件格式参考这里 [https://github.com/TryGhost/knex-migrator]：\n\nmodule.exports = {\ndatabase: {\nclient: 'mysql',\nconnection: {\nhost: '127.0.0.1',\nuser: 'ghost',（之前mysql设置时建立的用户名）\npassword: 'password',（改成mysql的ghost用户密码）\ncharset: 'utf8',\nname: 'blog'（之前mysql设置时建立的数据库）\n}\n},\nmigrationPath: process.cwd() + '/core/server/data/migrations',\ncurrentVersion: 'your-current-database-version',\n/**\nsubfolder: 'upgrades' [default: versions]\n（这一部分在执行时总出问题，就注释掉了）\n*/\n}\n\n（下面应该是数据库使用sqlite3时的设置，由于本方案使用的mysql，所以可以不用写进去）\n\nmodule.exports = {\ndatabase: {\nclient: 'sqlite3',\nconnection: {\nfilename: 'path/to/your.db'\n}\n},\nmigrationPath: process.cwd() + '/core/server/data/migrations',\ncurrentVersion: 'your-current-database-version'\n}\n\n使用下面指令安装：\n\nnpm install -g knex-migrator\n\n\n由于国内网络的原因，这个命令也可能需要执行多次才能安装完，中间会提示校验错误，这个应该是下载没有完成，而网络链接断开了的原因，再执行一次就行，直到最后完成安装。\n\n运行一下：\n\nnpm start --production\n\n\n如果看到下面的提示，证明你已经完成80%了：\n\nGhost is running in production...\nYour blog is now available on xx.xx.xx.xx\nCtrl+C to shut down\n\n问题及解决方案\n权限问题\n在执行npm start\n--production的时候，遇到npm权限的问题，提示没有node_modules文件夹的写权限，这个时候使用sudo命令进行安装时又提示别的错误，最终采用\nnpmjs.com网站中的解决方法2\n[https://docs.npmjs.com/getting-started/fixing-npm-permissions]。\n首先检查npm的路径：\n\nnpm config get prefix\n\n\n发现是/usr\n然后改变npm的默认路径：\n1.为全局安装路径建立文件夹：（操作均在www用户下完成）\n\nmkdir ~/.npm-global\n\n\n2.设置默认路径：\n\nnpm config set prefix '~/.npm-global'\n\n\n3.加入用户PATH：\n打开用户家目录下面的profile文件，这里是.bash_profile，加入下面的语句：\n\nexport PATH=~/.npm-global/bin:$PATH\n\n\n4.更新profile文件\n\nsource ~/.bash_profile\n\n\n检验：全局下载文件包，不要用sudo，也可以省去检测\n\nnpm install -g jshint\n\n\n也可以使用下面更改环境变量的方式代替2-4步：（如果不想更改profile文件的话）\n\nNPM_CONFIG_PREFIX=~/.npm-global\n\n\n语法错误问题\nSyntax error: Unexpected token\n\n出现上面的语句就要检查一下相应的配置文件的语法是否有错误。\n\n全局安装PM2\n目前你是开着远程连接到你的服务器，一旦你把窗口关闭了，那么你刚才起的npm start\n--production可就悲剧了，如何避免呢，这时候我们就需要一个能帮我们在后台稳定运行node服务的工具了，目前比较火热的要数PM2了：\n\nyarn global add pm2 --prefix /usr/local\n\n\n用PM2来启动Ghost的node服务\n先切到ghost的目录，然后再运行\n\nNODE_ENV=production pm2 start index.js --name \"blog\"\n\n\n检查运行结果\npm2 show blog  \n\n\n配置ghost\n本次没有做太多自定义配置，具体可以参考这里\n[https://www.binarization.com/archive/2016/configuring-ghost/]。\n\n参考资料：\n《基于阿里云ECS的Centos7搭建Ghost》 [https://www.itony.net/aliyun-centos7-ghost/]\n《NPM 套件管理工具》\n[https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst]\n《Ghost 1.0+ 安装（非ghost-cli方式）》 [https://www.ihx.me/ghost1-6insallnocli/]\n《knex-migrator-Github》 [https://github.com/TryGhost/knex-migrator]\n《在阿里云 CentOS 7 系统上部署 Ghost 博客（已过时）》\n[https://loyalsoldier.me/deploy-ghost-on-centos-7/]\n《如何在CentOS上安装Ghost？》\n[https://www.binarization.com/archive/2016/installing-ghost-centos/]\n《ghost——Using Ghost as an NPM module》\n[https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module]\n<ghost——Install & Setup (production)》 [https://docs.ghost.org/v1/docs/install]\n《CentOS Ghost安装教程（PM2+Nginx）》\n[https://codesky.me/archives/centos-ghost-install-introduce.wind]\n《ghost官方帮助文档》","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"搭建Ghost服务器","updated_at":"2017-09-29T07:12:20.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"技术","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1","count":{"posts":2}},"1":{"id":"59cd12bfa744810195a3dc06","name":"博客","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1","count":{"posts":1}}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"56b3-HoNpn3SbtOaPBCTPXMt47a4y++Y\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"43ms"},"msg":"","time":"2017-09-29T07:12:22.522Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"be11a760-a4ea-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"30","page":"1","status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"e220-PnwRP4ChwW1dGtWdcjPELowtO8g\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"27ms"},"msg":"","time":"2017-09-29T07:49:37.650Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"be21acf0-a4ea-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"33ms"},"msg":"","time":"2017-09-29T07:49:37.761Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"c057ede0-a4ea-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59cdb1b5a744810195a3dc0b/?status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/59cdb1b5a744810195a3dc0b/?status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{"id":"59cdb1b5a744810195a3dc0b"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"b4d-nNCC12wysFF/4idOsn9vsUPUbns\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"19ms"},"msg":"","time":"2017-09-29T07:49:41.458Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"c05e0860-a4ea-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"statusCode":304,"responseTime":"22ms"},"msg":"","time":"2017-09-29T07:49:41.501Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"c0618ad0-a4ea-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"26ms"},"msg":"","time":"2017-09-29T07:49:41.528Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"c0627530-a4ea-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/tags/?limit=all","method":"GET","originalUrl":"/ghost/api/v0.1/tags/?limit=all","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"658-8Ij8Z/1gdhNH66eXF4QTmNp/WMk\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T07:49:41.532Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"1e682120-a4eb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59cdb1b5a744810195a3dc0b/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59cdb1b5a744810195a3dc0b/?include=tags","params":{"id":"59cdb1b5a744810195a3dc0b"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"2760","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59cdb1b5a744810195a3dc0b","created_at":"2017-09-29T02:36:37.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/----_20170929145803.jpg","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"经过这一个周的折腾，终于将shadowsocks和ghost基本搭好，也收获了小小的一些成就感，本来不是计算机相关专业，折腾这些有些麻烦，但是还是对Linux、服务器搭建还有编程的这些东西比较感兴趣，作为一个业余爱好吧。好不容易折腾好了，自己应该用起来也比较有动力，在这个自己搭建的小天地里面，记录一些自己的心路历程也好，收获感受也好，甚至于一些好的新的想法，不管是学术上的还是工程上的，都随时写一写，积累下来，到之后拿出来看看，应该也是挺有用的。\\n做这些东西可以说算是有点不务正业吧，但是确实能从中获得不少的了却，尤其是解决一些错误之后的那种喜悦感，这可能是研究所有科学类问题的通性吧，成就感使人产生的幸福感远比物质带给人的满足感所能产生的幸福感更浓。\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"经过这一个周的折腾，终于将shadowsocks和ghost基本搭好，也收获了小小的一些成就感，本来不是计算机相关专业，折腾这些有些麻烦，但是还是对Linux、服务器搭建还有编程的这些东西比较感兴趣，作为一个业余爱好吧。好不容易折腾好了，自己应该用起来也比较有动力，在这个自己搭建的小天地里面，记录一些自己的心路历程也好，收获感受也好，甚至于一些好的新的想法，不管是学术上的还是工程上的，都随时写一写，积累下来，到之后拿出来看看，应该也是挺有用的。","published_at":"2017-09-29T02:41:45.000Z","slug":"xin-lu-ji-lu-day1","status":"published","title":"心路记录-#day1-20170929","updated_at":"2017-09-29T06:58:54.000Z","updated_by":"1","tags":{"0":{"id":"59cdb316a744810195a3dc0c","name":"心路点滴","slug":"xin-lu-dian-di","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-29T02:42:30.000Z","updated_at":"2017-09-29T02:42:30.000Z","created_by":"1","updated_by":"1","count":{"posts":1}}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"98e-bXNijC8iOqRj/uBp/Br6cF2eL1M\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"40ms"},"msg":"","time":"2017-09-29T07:52:19.292Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"1ff85e10-a4eb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59cdb1b5a744810195a3dc0b/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59cdb1b5a744810195a3dc0b/?include=tags","params":{"id":"59cdb1b5a744810195a3dc0b"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"2760","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59cdb1b5a744810195a3dc0b","created_at":"2017-09-29T02:36:37.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/----_20170929145803.jpg","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"经过这一个周的折腾，终于将shadowsocks和ghost基本搭好，也收获了小小的一些成就感，本来不是计算机相关专业，折腾这些有些麻烦，但是还是对Linux、服务器搭建还有编程的这些东西比较感兴趣，作为一个业余爱好吧。好不容易折腾好了，自己应该用起来也比较有动力，在这个自己搭建的小天地里面，记录一些自己的心路历程也好，收获感受也好，甚至于一些好的新的想法，不管是学术上的还是工程上的，都随时写一写，积累下来，到之后拿出来看看，应该也是挺有用的。\\n做这些东西可以说算是有点不务正业吧，但是确实能从中获得不少的了却，尤其是解决一些错误之后的那种喜悦感，这可能是研究所有科学类问题的通性吧，成就感使人产生的幸福感远比物质带给人的满足感所能产生的幸福感更浓。\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"经过这一个周的折腾，终于将shadowsocks和ghost基本搭好，也收获了小小的一些成就感，本来不是计算机相关专业，折腾这些有些麻烦，但是还是对Linux、服务器搭建还有编程的这些东西比较感兴趣，作为一个业余爱好吧。好不容易折腾好了，自己应该用起来也比较有动力，在这个自己搭建的小天地里面，记录一些自己的心路历程也好，收获感受也好，甚至于一些好的新的想法，不管是学术上的还是工程上的，都随时写一写，积累下来，到之后拿出来看看，应该也是挺有用的。","published_at":"2017-09-29T02:41:45.000Z","slug":"xin-lu-ji-lu-day1","status":"published","title":"心路记录-#day1-20170929","updated_at":"2017-09-29T07:52:19.000Z","updated_by":"1","tags":{"0":{"id":"59cdb316a744810195a3dc0c","name":"心路点滴","slug":"xin-lu-dian-di","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-29T02:42:30.000Z","updated_at":"2017-09-29T02:42:30.000Z","created_by":"1","updated_by":"1","count":{"posts":1}}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"98e-3NwPa/oJUy+kOmHb1cijcdeu06U\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"34ms"},"msg":"","time":"2017-09-29T07:52:21.909Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"21906330-a4eb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"30","page":"1","status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"e355-q0BKKE+/5+V94nS6yb6UzEit95o\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"24ms"},"msg":"","time":"2017-09-29T07:52:24.572Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"219bd4e0-a4eb-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T07:52:24.648Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2511c1c0-a4eb-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"3669-+0t/1noY8eYfpLr2560dy07hoyA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"28ms"},"msg":"","time":"2017-09-29T07:52:30.457Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"266bfa90-a4eb-11e7-ad29-7b3837c864ae","userId":null},"url":"/xin-lu-ji-lu-day1/","method":"GET","originalUrl":"/xin-lu-ji-lu-day1/","params":{"0":"/xin-lu-ji-lu-day1/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"42e6-ptytkpso2PMdtG8uSqJabgP26Qs\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"47b6-xXlUuI09vPKc2u0EKxJezv7eW60\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"22ms"},"msg":"","time":"2017-09-29T07:52:32.720Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"27c45ea0-a4eb-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/xin-lu-ji-lu-day1/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"statusCode":304,"responseTime":"24ms"},"msg":"","time":"2017-09-29T07:52:34.979Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2843c7d0-a4eb-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"97ea-ZjxZq5D2eCZLIoEzoQ6mJ+BZvXk\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"97fb-GrJrKz687jC7Tiir/P8bl19g2zg\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"23ms"},"msg":"","time":"2017-09-29T07:52:35.813Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2b1fe5b0-a4eb-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"statusCode":304,"responseTime":"28ms"},"msg":"","time":"2017-09-29T07:52:40.617Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2ba123a0-a4eb-11e7-ad29-7b3837c864ae","userId":null},"url":"/da-jian-shadowsocksfu-wu-qi/","method":"GET","originalUrl":"/da-jian-shadowsocksfu-wu-qi/","params":{"0":"/da-jian-shadowsocksfu-wu-qi/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"53d3-6VCr8225IoEavkznU+VvUSmkwOg\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"6d8e-gQ1tKvUvdQUzhbz48sNxPsqvXxk\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"28ms"},"msg":"","time":"2017-09-29T07:52:41.464Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"32c9b840-a4eb-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"statusCode":304,"responseTime":"27ms"},"msg":"","time":"2017-09-29T07:52:53.472Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3334fd30-a4eb-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"97fb-GrJrKz687jC7Tiir/P8bl19g2zg\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"97fb-GrJrKz687jC7Tiir/P8bl19g2zg\""},"statusCode":304,"responseTime":"19ms"},"msg":"","time":"2017-09-29T07:52:54.167Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"384b53a0-a4eb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/settings/?type=blog%2Ctheme%2Cprivate","method":"GET","originalUrl":"/ghost/api/v0.1/settings/?type=blog%2Ctheme%2Cprivate","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"type":"blog,theme,private"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"1152-uzAQ/A2iGwvgaZxLGq1PL/Rbocc\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"18ms"},"msg":"","time":"2017-09-29T07:53:02.702Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"385035a0-a4eb-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"statusCode":304,"responseTime":"32ms"},"msg":"","time":"2017-09-29T07:53:02.747Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"38b8bb70-a4eb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/settings/?type=blog%2Ctheme%2Cprivate","method":"GET","originalUrl":"/ghost/api/v0.1/settings/?type=blog%2Ctheme%2Cprivate","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"type":"blog,theme,private"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"1152-uzAQ/A2iGwvgaZxLGq1PL/Rbocc\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"49ms"},"msg":"","time":"2017-09-29T07:53:03.449Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"38bd9d70-a4eb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/themes/","method":"GET","originalUrl":"/ghost/api/v0.1/themes/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"117d-zwKykA3lMrjfi8PWqqjzkzPZi7k\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"22ms"},"msg":"","time":"2017-09-29T07:53:03.453Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"38c27f70-a4eb-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"statusCode":304,"responseTime":"24ms"},"msg":"","time":"2017-09-29T07:53:03.487Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"394dcf80-a4eb-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"statusCode":304,"responseTime":"34ms"},"msg":"","time":"2017-09-29T07:53:04.411Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"394bfac0-a4eb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/tags/?limit=all&include=count.posts","method":"GET","originalUrl":"/ghost/api/v0.1/tags/?limit=all&include=count.posts","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"count.posts"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"6bc-MwQbIfofNpI8QeGOwCvrzF3aOAU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"47ms"},"msg":"","time":"2017-09-29T07:53:04.412Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"39b78dd0-a4eb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/settings/?type=blog%2Ctheme%2Cprivate","method":"GET","originalUrl":"/ghost/api/v0.1/settings/?type=blog%2Ctheme%2Cprivate","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"type":"blog,theme,private"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"1152-uzAQ/A2iGwvgaZxLGq1PL/Rbocc\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"15ms"},"msg":"","time":"2017-09-29T07:53:05.085Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"39bbd390-a4eb-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"statusCode":304,"responseTime":"30ms"},"msg":"","time":"2017-09-29T07:53:05.128Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3a7ba120-a4eb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/invites/?limit=all","method":"GET","originalUrl":"/ghost/api/v0.1/invites/?limit=all","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"102","etag":"W/\"66-sOX4mOGvIzARC+CuIiE6bGahqSc\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"45ms"},"msg":"","time":"2017-09-29T07:53:06.400Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3a7893e0-a4eb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=15&page=1&filter=status%3A-inactive&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=15&page=1&filter=status%3A-inactive&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"15","page":"1","filter":"status:-inactive","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"884","etag":"W/\"374-0sBkOpmUAcA8VLKdK6m9TPooiiA\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"70ms"},"msg":"","time":"2017-09-29T07:53:06.405Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3a7ba121-a4eb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&filter=status%3Ainactive&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&filter=status%3Ainactive&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","filter":"status:inactive","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"103","etag":"W/\"67-VNXdFIjB/AV7xacOs957ogm32Vs\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"51ms"},"msg":"","time":"2017-09-29T07:53:06.405Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3a7bc830-a4eb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/roles/","method":"GET","originalUrl":"/ghost/api/v0.1/roles/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"779","etag":"W/\"30b-srAtAuvYV4JCD4oLbaCE0meY8og\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"50ms"},"msg":"","time":"2017-09-29T07:53:06.406Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3a862870-a4eb-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"statusCode":304,"responseTime":"27ms"},"msg":"","time":"2017-09-29T07:53:06.451Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3b7fa3a0-a4eb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/roles/?permissions=assign","method":"GET","originalUrl":"/ghost/api/v0.1/roles/?permissions=assign","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"permissions":"assign"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"589","etag":"W/\"24d-bgMbbdhiSjqOVsgj1DoJZD9I/Y4\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"35ms"},"msg":"","time":"2017-09-29T07:53:08.094Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"40431f20-a4eb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"30","page":"1","status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"e355-q0BKKE+/5+V94nS6yb6UzEit95o\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T07:53:16.076Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"404ac040-a4eb-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"statusCode":304,"responseTime":"21ms"},"msg":"","time":"2017-09-29T07:53:16.122Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4267d3e0-a4eb-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"statusCode":304,"responseTime":"24ms"},"msg":"","time":"2017-09-29T07:53:19.671Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3e292de0-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","upgrade-insecure-requests":"1","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T08:07:31.543Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3e7a0d00-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/compiled/css/index.css?v=88930c270b","method":"GET","originalUrl":"/assets/compiled/css/index.css?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"text/css,*/*;q=0.1","referer":"http://47.95.197.107/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8"},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"21a9-15ecbb6ac8e\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"7ms"},"msg":"","time":"2017-09-29T08:07:32.056Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3e7a8230-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/css/font-awesome.min.css?v=88930c270b","method":"GET","originalUrl":"/assets/lib/css/font-awesome.min.css?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"text/css,*/*;q=0.1","referer":"http://47.95.197.107/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8"},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"7918-15ecbb6ac8e\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"13ms"},"msg":"","time":"2017-09-29T08:07:32.064Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3e7ca511-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=88930c270b","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"*/*","referer":"http://47.95.197.107/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8"},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T08:07:32.066Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3e7b6c90-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/css/highlight.tomorrow.min.css?v=88930c270b","method":"GET","originalUrl":"/assets/lib/css/highlight.tomorrow.min.css?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"text/css,*/*;q=0.1","referer":"http://47.95.197.107/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8"},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"277-15ecbb6ac8e\"","content-type":"text/css; charset=UTF-8","content-length":631,"vary":"Accept-Encoding"},"statusCode":200,"responseTime":"10ms"},"msg":"","time":"2017-09-29T08:07:32.068Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3e7bbab0-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/js/jquery.min.js?v=88930c270b","method":"GET","originalUrl":"/assets/lib/js/jquery.min.js?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"*/*","referer":"http://47.95.197.107/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8"},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"14a2a-15ecbb6ac8f\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"17ms"},"msg":"","time":"2017-09-29T08:07:32.076Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3e7ca510-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/js/highlight.min.js?v=88930c270b","method":"GET","originalUrl":"/assets/lib/js/highlight.min.js?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"*/*","referer":"http://47.95.197.107/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8"},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"ae91-15ecbb6ac8e\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"12ms"},"msg":"","time":"2017-09-29T08:07:32.078Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3f65a580-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/favicon.ico","method":"GET","originalUrl":"/favicon.ico","params":{},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"image/webp,image/apng,image/*,*/*;q=0.8","referer":"http://47.95.197.107/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","content-type":"image/x-icon","etag":"\"36e47e74810a0d8c32a77f495c49cf8e\"","cache-control":"public, max-age=86400","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T08:07:33.596Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4a8eb3c0-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","referer":"http://47.95.197.107/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8","if-none-match":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"statusCode":304,"responseTime":"26ms"},"msg":"","time":"2017-09-29T08:07:52.343Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4bf8f220-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","referer":"http://47.95.197.107/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8","if-none-match":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\""},"statusCode":304,"responseTime":"23ms"},"msg":"","time":"2017-09-29T08:07:54.714Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4d91ba90-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/xin-lu-ji-lu-day1/","method":"GET","originalUrl":"/xin-lu-ji-lu-day1/","params":{"0":"/xin-lu-ji-lu-day1/"},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","referer":"http://47.95.197.107/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"47b6-xXlUuI09vPKc2u0EKxJezv7eW60\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"19ms"},"msg":"","time":"2017-09-29T08:07:57.389Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4d9d5350-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/compiled/css/post.css?v=88930c270b","method":"GET","originalUrl":"/assets/compiled/css/post.css?v=88930c270b","params":{},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"text/css,*/*;q=0.1","referer":"http://47.95.197.107/xin-lu-ji-lu-day1/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8"},"body":{},"query":{"v":"88930c270b"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"2182-15ecbb6ac8e\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T08:07:57.448Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4da123e0-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/lib/fonts/fontawesome-webfont.woff2?v=4.7.0","method":"GET","originalUrl":"/assets/lib/fonts/fontawesome-webfont.woff2?v=4.7.0","params":{},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","origin":"http://47.95.197.107","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"*/*","referer":"http://47.95.197.107/assets/lib/css/font-awesome.min.css?v=88930c270b","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8"},"body":{},"query":{"v":"4.7.0"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 03:38:20 GMT","etag":"W/\"12d68-15ecbb6ac8f\"","content-type":"application/font-woff2","content-length":77160},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T08:07:57.472Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4da17200-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/----_20170929145803.jpg","method":"GET","originalUrl":"/content/images/2017/09/----_20170929145803.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"image/webp,image/apng,image/*,*/*;q=0.8","referer":"http://47.95.197.107/xin-lu-ji-lu-day1/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Fri, 29 Sep 2017 06:58:48 GMT","etag":"W/\"15964-15ecc6e359e\"","content-type":"image/jpeg","content-length":88420},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T08:07:57.474Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4f708cb0-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","referer":"http://47.95.197.107/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"97fb-GrJrKz687jC7Tiir/P8bl19g2zg\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T08:08:00.533Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4f791830-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"image/webp,image/apng,image/*,*/*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\"","content-type":"image/jpeg","content-length":59735},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T08:08:00.565Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4f7b1400-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"image/webp,image/apng,image/*,*/*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\"","content-type":"image/jpeg","content-length":54204},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T08:08:00.578Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4f7bd750-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"image/webp,image/apng,image/*,*/*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\"","content-type":"image/png","content-length":227974},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T08:08:00.583Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"60ad8b40-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/da-jian-shadowsocksfu-wu-qi/","method":"GET","originalUrl":"/da-jian-shadowsocksfu-wu-qi/","params":{"0":"/da-jian-shadowsocksfu-wu-qi/"},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","referer":"http://47.95.197.107/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"6d8e-gQ1tKvUvdQUzhbz48sNxPsqvXxk\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"19ms"},"msg":"","time":"2017-09-29T08:08:29.448Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"60bbe320-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/vultr.jpg","method":"GET","originalUrl":"/content/images/2017/09/vultr.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"image/webp,image/apng,image/*,*/*;q=0.8","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:49:09 GMT","etag":"W/\"c7bc-15ec7ace335\"","content-type":"image/jpeg","content-length":51132},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T08:08:29.524Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"60bdb7e0-a4ed-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.248","x-real-ip":"219.239.227.248","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36","accept":"image/webp,image/apng,image/*,*/*;q=0.8","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\"","content-type":"image/jpeg","content-length":21595},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T08:08:29.535Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"dcb1cc10-a4f2-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"106.186.82.168","x-real-ip":"106.186.82.168","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3","user-agent":"Mozilla/5.0 (compatible; ArcticFission)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"26ms"},"msg":"","time":"2017-09-29T08:47:45.004Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d6ff7f90-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"28ms"},"msg":"","time":"2017-09-29T09:37:41.926Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d710e4b0-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"51","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"2ms"},"msg":"","time":"2017-09-29T09:37:42.015Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d71a3380-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"5ms"},"msg":"","time":"2017-09-29T09:37:42.078Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d72752e0-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"55","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"3ms"},"msg":"","time":"2017-09-29T09:37:42.162Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d7305390-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"5ms"},"msg":"","time":"2017-09-29T09:37:42.223Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d73e3640-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"56","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"2ms"},"msg":"","time":"2017-09-29T09:37:42.312Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d7475e00-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"4ms"},"msg":"","time":"2017-09-29T09:37:42.373Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d7542f40-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"57","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"2ms"},"msg":"","time":"2017-09-29T09:37:42.455Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d75ce1d0-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"6ms"},"msg":"","time":"2017-09-29T09:37:42.516Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d76a7660-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"58","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"3ms"},"msg":"","time":"2017-09-29T09:37:42.601Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d77328f0-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"5ms"},"msg":"","time":"2017-09-29T09:37:42.661Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d7804850-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"51","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"2ms"},"msg":"","time":"2017-09-29T09:37:42.743Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d788fae0-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"8ms"},"msg":"","time":"2017-09-29T09:37:42.807Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d79704a0-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"55","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"3ms"},"msg":"","time":"2017-09-29T09:37:42.893Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d79fb730-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"5ms"},"msg":"","time":"2017-09-29T09:37:42.953Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d7acd690-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"56","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"3ms"},"msg":"","time":"2017-09-29T09:37:43.036Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d7b58920-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"5ms"},"msg":"","time":"2017-09-29T09:37:43.097Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d7c2a880-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"57","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"2ms"},"msg":"","time":"2017-09-29T09:37:43.178Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d7cb3400-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"GET","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"5ms"},"msg":"","time":"2017-09-29T09:37:43.238Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d7d7de30-a4f9-11e7-ad29-7b3837c864ae","userId":null},"url":"/phpmyadmin/","method":"POST","originalUrl":"/phpmyadmin/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"58","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379.phpmyadmin_login_weak)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"4ms"},"msg":"","time":"2017-09-29T09:37:43.320Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"72db1870-a4fa-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"POST","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"431","accept-encoding":"identity","content-type":"multipart/form-data; boundary=-333053153","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379.struts-s2-046)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"3ms"},"msg":"","time":"2017-09-29T09:42:03.387Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ff9b0c20-a4fa-11e7-ad29-7b3837c864ae","userId":null},"url":"/showcase/integration/saveGangster.action","method":"POST","originalUrl":"/showcase/integration/saveGangster.action","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"1261","content-type":"application/x-www-form-urlencoded","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/showcase/integration/savegangster.action","vary":"Accept, Accept-Encoding","content-type":"text/plain; charset=utf-8","content-length":"75"},"statusCode":301,"responseTime":"2ms"},"msg":"","time":"2017-09-29T09:45:59.525Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ffa40cd0-a4fa-11e7-ad29-7b3837c864ae","userId":null},"url":"/showcase/integration/savegangster.action","method":"GET","originalUrl":"/showcase/integration/savegangster.action","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/showcase/integration/savegangster.action/"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T09:45:59.583Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ffac9850-a4fa-11e7-ad29-7b3837c864ae","userId":null},"url":"/showcase/integration/savegangster.action/","method":"GET","originalUrl":"/showcase/integration/savegangster.action/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"4ms"},"msg":"","time":"2017-09-29T09:45:59.642Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ffba05d0-a4fa-11e7-ad29-7b3837c864ae","userId":null},"url":"/struts2-showcase/integration/saveGangster.action","method":"POST","originalUrl":"/struts2-showcase/integration/saveGangster.action","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"1261","content-type":"application/x-www-form-urlencoded","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/struts2-showcase/integration/savegangster.action","vary":"Accept, Accept-Encoding","content-type":"text/plain; charset=utf-8","content-length":"83"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T09:45:59.727Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ffc2df70-a4fa-11e7-ad29-7b3837c864ae","userId":null},"url":"/struts2-showcase/integration/savegangster.action","method":"GET","originalUrl":"/struts2-showcase/integration/savegangster.action","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/struts2-showcase/integration/savegangster.action/"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T09:45:59.785Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ffcb6af0-a4fa-11e7-ad29-7b3837c864ae","userId":null},"url":"/struts2-showcase/integration/savegangster.action/","method":"GET","originalUrl":"/struts2-showcase/integration/savegangster.action/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"5ms"},"msg":"","time":"2017-09-29T09:45:59.844Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ffd88a50-a4fa-11e7-ad29-7b3837c864ae","userId":null},"url":"/integration/saveGangster.action","method":"POST","originalUrl":"/integration/saveGangster.action","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"1261","content-type":"application/x-www-form-urlencoded","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/integration/savegangster.action","vary":"Accept, Accept-Encoding","content-type":"text/plain; charset=utf-8","content-length":"66"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T09:45:59.927Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ffe115d0-a4fa-11e7-ad29-7b3837c864ae","userId":null},"url":"/integration/savegangster.action","method":"GET","originalUrl":"/integration/savegangster.action","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/integration/savegangster.action/"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T09:45:59.983Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ffe92c20-a4fa-11e7-ad29-7b3837c864ae","userId":null},"url":"/integration/savegangster.action/","method":"GET","originalUrl":"/integration/savegangster.action/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","user-agent":"Python-urllib/2.6"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"6ms"},"msg":"","time":"2017-09-29T09:46:00.041Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"10a3db50-a4fb-11e7-ad29-7b3837c864ae","userId":null},"url":"/master-status","method":"GET","originalUrl":"/master-status","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/master-status/"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T09:46:28.103Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"7cd1a4b0-a4fb-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379.wordpress-restapi-editpost)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"14236","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"31ms"},"msg":"","time":"2017-09-29T09:49:29.627Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"7cdec410-a4fb-11e7-ad29-7b3837c864ae","userId":null},"url":"/wp-json/wp/v2/posts","method":"GET","originalUrl":"/wp-json/wp/v2/posts","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379.wordpress-restapi-editpost)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/wp-json/wp/v2/posts/"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T09:49:29.683Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"7ce776a0-a4fb-11e7-ad29-7b3837c864ae","userId":null},"url":"/wp-json/wp/v2/posts/","method":"GET","originalUrl":"/wp-json/wp/v2/posts/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379.wordpress-restapi-editpost)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"3ms"},"msg":"","time":"2017-09-29T09:49:29.742Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"dfe78c90-a4fb-11e7-ad29-7b3837c864ae","userId":null},"url":"/rs-status","method":"GET","originalUrl":"/rs-status","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/rs-status/"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T09:52:15.835Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"330b9380-a4fc-11e7-ad29-7b3837c864ae","userId":null},"url":"/ganglia/index.php","method":"GET","originalUrl":"/ganglia/index.php","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/ganglia/index.php/"},"statusCode":301,"responseTime":"2ms"},"msg":"","time":"2017-09-29T09:54:35.323Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4357c970-a4fc-11e7-ad29-7b3837c864ae","userId":null},"url":"/index.php","method":"GET","originalUrl":"/index.php","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/index.php/"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T09:55:02.665Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"88171f20-a4fc-11e7-ad29-7b3837c864ae","userId":null},"url":"/jobs/","method":"GET","originalUrl":"/jobs/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"7ms"},"msg":"","time":"2017-09-29T09:56:58.009Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a83d6840-a4fc-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"14236","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"26ms"},"msg":"","time":"2017-09-29T09:57:51.967Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b031b150-a4fc-11e7-ad29-7b3837c864ae","userId":null},"url":"/dkunathvpbjy","method":"POST","originalUrl":"/dkunathvpbjy","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","content-length":"22","accept-encoding":"identity","content-type":"application/x-www-form-urlencoded","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379.elasticsearch_unauthorized)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"3ms"},"msg":"","time":"2017-09-29T09:58:05.289Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b03a63e0-a4fc-11e7-ad29-7b3837c864ae","userId":null},"url":"/dkunathvpbjy","method":"GET","originalUrl":"/dkunathvpbjy","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379.elasticsearch_unauthorized)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/dkunathvpbjy/"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T09:58:05.345Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b042ef60-a4fc-11e7-ad29-7b3837c864ae","userId":null},"url":"/dkunathvpbjy/","method":"GET","originalUrl":"/dkunathvpbjy/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379.elasticsearch_unauthorized)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"7ms"},"msg":"","time":"2017-09-29T09:58:05.406Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b04c3e30-a4fc-11e7-ad29-7b3837c864ae","userId":null},"url":"/dkunathvpbjy","method":"DELETE","originalUrl":"/dkunathvpbjy","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379.elasticsearch_unauthorized)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"2ms"},"msg":"","time":"2017-09-29T09:58:05.462Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d8a18f70-a4fc-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"14236","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"24ms"},"msg":"","time":"2017-09-29T09:59:13.153Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"e592b380-a4fc-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"14236","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"26ms"},"msg":"","time":"2017-09-29T09:59:34.867Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f62c1f10-a4fc-11e7-ad29-7b3837c864ae","userId":null},"url":"/hwi/","method":"GET","originalUrl":"/hwi/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"5ms"},"msg":"","time":"2017-09-29T10:00:02.695Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"327b1de0-a4fd-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"14236","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"27ms"},"msg":"","time":"2017-09-29T10:01:43.898Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"374d6670-a4fd-11e7-ad29-7b3837c864ae","userId":null},"url":"/dfshealth.html","method":"GET","originalUrl":"/dfshealth.html","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/dfshealth.html/"},"statusCode":301,"responseTime":"1ms"},"msg":"","time":"2017-09-29T10:01:51.961Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"40be3d60-a4fd-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","content-type":"${(\\u0023a1=333053153\\u0029\\u002e(#a2=1234567890).(#a3=#a1+#a2).(#a4='ttpS\\u0065rvletR\\u0065sponse').(#a6='com.op\\u0065nsympho').(#a5='ny.x\\u0077ork2.disp\\u0061tcher.H').(#a7=#a6+#a5+#a4).(#a8='un').(#a9='_\\u0061liy').(#a10=#a9+#a8).(#x1=#cont\\u0065xt[#a7].getWr\\u0069ter()).(#x1.pr\\u0069nt(#a3+#a10)).(#x1.cl\\u006fse())}%0d%0a%20multipart/form-data","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"14236","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"24ms"},"msg":"","time":"2017-09-29T10:02:07.822Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4713ca90-a4fd-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"POST","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"1","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","content-type":"${(\\u0023a1=333053153\\u0029\\u002e(#a2=1234567890).(#a3=#a1+#a2).(#a4='ttpS\\u0065rvletR\\u0065sponse').(#a6='com.op\\u0065nsympho').(#a5='ny.x\\u0077ork2.disp\\u0061tcher.H').(#a7=#a6+#a5+#a4).(#a8='un').(#a9='_\\u0061liy').(#a10=#a9+#a8).(#x1=#cont\\u0065xt[#a7].getWr\\u0069ter()).(#x1.pr\\u0069nt(#a3+#a10)).(#x1.cl\\u006fse())}%0d%0a%20multipart/form-data","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"2ms"},"msg":"","time":"2017-09-29T10:02:18.428Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"55397700-a4fd-11e7-ad29-7b3837c864ae","userId":null},"url":"/struts2-showcase/integration/saveGangster.action","method":"POST","originalUrl":"/struts2-showcase/integration/saveGangster.action","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"409","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","content-type":"application/x-www-form-urlencoded","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/struts2-showcase/integration/savegangster.action","vary":"Accept, Accept-Encoding","content-type":"text/plain; charset=utf-8","content-length":"83"},"statusCode":301,"responseTime":"2ms"},"msg":"","time":"2017-09-29T10:02:42.163Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"5d8e7db0-a4fd-11e7-ad29-7b3837c864ae","userId":null},"url":"/clusters.jsf","method":"GET","originalUrl":"/clusters.jsf","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/clusters.jsf/"},"statusCode":301,"responseTime":"2ms"},"msg":"","time":"2017-09-29T10:02:56.142Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"5f450750-a4fd-11e7-ad29-7b3837c864ae","userId":null},"url":"/info","method":"GET","originalUrl":"/info","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/info/"},"statusCode":301,"responseTime":"3ms"},"msg":"","time":"2017-09-29T10:02:59.017Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"6ca80000-a4fd-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"14236","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T10:03:21.497Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"7030b190-a4fd-11e7-ad29-7b3837c864ae","userId":null},"url":"/jenkins/","method":"GET","originalUrl":"/jenkins/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"22ms"},"msg":"","time":"2017-09-29T10:03:27.425Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"71f56c00-a4fd-11e7-ad29-7b3837c864ae","userId":null},"url":"/zabbix/","method":"GET","originalUrl":"/zabbix/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"7ms"},"msg":"","time":"2017-09-29T10:03:30.376Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"7242c8b0-a4fd-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"14236","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"27ms"},"msg":"","time":"2017-09-29T10:03:30.903Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"72f88420-a4fd-11e7-ad29-7b3837c864ae","userId":null},"url":"/solr/","method":"GET","originalUrl":"/solr/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"5ms"},"msg":"","time":"2017-09-29T10:03:32.072Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"732a6990-a4fd-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"14236","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T10:03:32.419Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"79f0b9f0-a4fd-11e7-ad29-7b3837c864ae","userId":null},"url":"/about/","method":"GET","originalUrl":"/about/","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","content-length":"1792","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding"},"statusCode":404,"responseTime":"10ms"},"msg":"","time":"2017-09-29T10:03:43.770Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8021f640-a4fd-11e7-ad29-7b3837c864ae","userId":null},"url":"/warning","method":"GET","originalUrl":"/warning","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/warning/"},"statusCode":301,"responseTime":"3ms"},"msg":"","time":"2017-09-29T10:03:54.152Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"843bc440-a4fd-11e7-ad29-7b3837c864ae","userId":null},"url":"/pleasereadthis","method":"GET","originalUrl":"/pleasereadthis","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/pleasereadthis/"},"statusCode":301,"responseTime":"2ms"},"msg":"","time":"2017-09-29T10:04:01.031Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8a4d91b0-a4fd-11e7-ad29-7b3837c864ae","userId":null},"url":"/please_read/_search","method":"GET","originalUrl":"/please_read/_search","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/please_read/_search/"},"statusCode":301,"responseTime":"2ms"},"msg":"","time":"2017-09-29T10:04:11.213Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"bc3858e0-a4fd-11e7-ad29-7b3837c864ae","userId":null},"url":"/dfshealth.jsp","method":"GET","originalUrl":"/dfshealth.jsp","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/dfshealth.jsp/"},"statusCode":301,"responseTime":"2ms"},"msg":"","time":"2017-09-29T10:05:34.962Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"c0fd5b00-a4fd-11e7-ad29-7b3837c864ae","userId":null},"url":"/hadoop/dfshealth.jsp","method":"GET","originalUrl":"/hadoop/dfshealth.jsp","params":{},"headers":{"x-forwarded-for":"140.205.201.35","x-real-ip":"140.205.201.35","host":"47.95.197.107:80","x-forwarded-proto":"http","connection":"close","referer":"http://47.95.197.107/","user-agent":"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;Alibaba.Security.Heimdall.8380379)","accept":"*/*"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/hadoop/dfshealth.jsp/"},"statusCode":301,"responseTime":"2ms"},"msg":"","time":"2017-09-29T10:05:42.963Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"87328220-a515-11e7-ad29-7b3837c864ae","userId":null},"url":"/currentsetting.htm","method":"GET","originalUrl":"/currentsetting.htm","params":{},"headers":{"x-forwarded-for":"221.13.12.89","x-real-ip":"221.13.12.89","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/currentsetting.htm/"},"statusCode":301,"responseTime":"3ms"},"msg":"","time":"2017-09-29T12:55:53.926Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"dba7eaa0-a549-11e7-ad29-7b3837c864ae","userId":null},"url":"/UserMgr.asp","method":"GET","originalUrl":"/UserMgr.asp","params":{},"headers":{"x-forwarded-for":"106.186.82.168","x-real-ip":"106.186.82.168","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3","accept-encoding":"gzip, deflate","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","user-agent":"Mozilla/5.0 (compatible; ArcticFission)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/UserMgr.asp/"},"statusCode":301,"responseTime":"10ms"},"msg":"","time":"2017-09-29T19:10:29.465Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"dbbea6f0-a549-11e7-ad29-7b3837c864ae","userId":null},"url":"/UserMgr.asp/","method":"GET","originalUrl":"/UserMgr.asp/","params":{},"headers":{"x-forwarded-for":"106.186.82.168","x-real-ip":"106.186.82.168","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3","accept-encoding":"gzip, deflate","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","user-agent":"Mozilla/5.0 (compatible; ArcticFission)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=31536000","location":"/usermgr.asp/","vary":"Accept, Accept-Encoding","content-type":"text/html; charset=utf-8","content-length":"82"},"statusCode":301,"responseTime":"5ms"},"msg":"","time":"2017-09-29T19:10:29.607Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"dbd58a50-a549-11e7-ad29-7b3837c864ae","userId":null},"url":"/usermgr.asp/","method":"GET","originalUrl":"/usermgr.asp/","params":{},"headers":{"x-forwarded-for":"106.186.82.168","x-real-ip":"106.186.82.168","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3","accept-encoding":"gzip, deflate","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","user-agent":"Mozilla/5.0 (compatible; ArcticFission)"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"text/html; charset=utf-8","etag":"W/\"700-FAVDu35FV2Xnx+h+/OCm+os98VE\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":404,"responseTime":"31ms"},"msg":"","time":"2017-09-29T19:10:29.781Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"66b3bb50-a56e-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"80.82.77.33","x-real-ip":"80.82.77.33","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","user-agent":"Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2228.0 Safari/537.36"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","content-length":"14236","etag":"W/\"379c-TLRX3dxpk8OS/ozFj4WMIkaP14k\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"81ms"},"msg":"","time":"2017-09-29T23:32:04.699Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"67bf8600-a56e-11e7-ad29-7b3837c864ae","userId":null},"url":"/robots.txt","method":"GET","originalUrl":"/robots.txt","params":{},"headers":{"x-forwarded-for":"80.82.77.33","x-real-ip":"80.82.77.33","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","content-type":"text/plain","content-length":79,"etag":"\"ca6a67962b6a636f7200c99683523f20\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"4ms"},"msg":"","time":"2017-09-29T23:32:06.373Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"682d6300-a56e-11e7-ad29-7b3837c864ae","userId":null},"url":"/sitemap.xml","method":"GET","originalUrl":"/sitemap.xml","params":{},"headers":{"x-forwarded-for":"80.82.77.33","x-real-ip":"80.82.77.33","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept-encoding":"identity"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=3600","content-type":"text/xml; charset=utf-8","content-length":"658","etag":"W/\"292-Wv2uv8LbtvOBrxH74LuGeD/RVzc\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"38ms"},"msg":"","time":"2017-09-29T23:32:07.127Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"68deffc0-a56e-11e7-ad29-7b3837c864ae","userId":null},"url":"/favicon.ico","method":"GET","originalUrl":"/favicon.ico","params":{},"headers":{"x-forwarded-for":"80.82.77.33","x-real-ip":"80.82.77.33","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept-encoding":"gzip, deflate","accept":"*/*","user-agent":"python-requests/2.13.0"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","content-type":"image/x-icon","etag":"\"36e47e74810a0d8c32a77f495c49cf8e\"","cache-control":"public, max-age=86400","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"4ms"},"msg":"","time":"2017-09-29T23:32:08.256Z","v":0}
