{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2e479f40-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","method":"GET","originalUrl":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","params":{},"headers":{"x-forwarded-for":"14.17.37.68","x-real-ip":"14.17.37.68","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","accept-encoding":"gzip","user-agent":"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/534.13 (KHTML, like Gecko) Chrome/9.0.597.107 Safari/534.13","x-busid":"0","x-openfrequencylimit":"0","x-openshield":"0","x-requestfrom":"0"},"body":{},"query":{"nsukey":"o85Kvugp/zuPjeoq/8rxbpmFuLCvbfw+Vel/VF4oe4YjfmplO1zT+pbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y/Zh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE+r9rMtx+hw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"83ms"},"msg":"","time":"2017-09-29T00:36:06.666Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2ed53940-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","method":"GET","originalUrl":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","params":{},"headers":{"x-forwarded-for":"113.108.11.50","x-real-ip":"113.108.11.50","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","accept-charset":"iso-8859-1,*,utf-8","accept-encoding":"gzip","accept-language":"en-us,en","user-agent":"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36","useragent":"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36"},"body":{},"query":{"nsukey":"o85Kvugp/zuPjeoq/8rxbpmFuLCvbfw+Vel/VF4oe4YjfmplO1zT+pbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y/Zh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE+r9rMtx+hw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T00:36:07.534Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2edc1710-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"163.177.93.241","x-real-ip":"163.177.93.241","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/vnd.wap.wml,text/html,application/vnd.wap.xhtml+xml,application/xhtml+xml","accept-charset":"gb2312,iso8859-1,utf-8","accept-encoding":"gzip,deflate","q-ua":"KQB22_GA/220020&KMTT_3/200020&JV2&151920&SunMicrosystemswtk&0&4309&V3","user-agent":"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9b4) Gecko/2008030317 Firefox/3.0b4"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"24ms"},"msg":"","time":"2017-09-29T00:36:07.577Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2edfe7a0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"183.232.118.14","x-real-ip":"183.232.118.14","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/vnd.wap.wml,text/html,application/vnd.wap.xhtml+xml,application/xhtml+xml","accept-charset":"gb2312,iso8859-1,utf-8","accept-encoding":"gzip,deflate","q-ua":"KQB22_GA/220020&KMTT_3/200020&JV2&151920&SunMicrosystemswtk&0&4309&V3","user-agent":"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9b4) Gecko/2008030317 Firefox/3.0b4"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"18ms"},"msg":"","time":"2017-09-29T00:36:07.597Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2ee65040-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"14.17.44.216","x-real-ip":"14.17.44.216","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","accept-charset":"iso-8859-1,*,utf-8","accept-encoding":"gzip","accept-language":"en-us,en","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","user-agent":"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T00:36:07.621Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2ee5db10-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"113.108.0.15","x-real-ip":"113.108.0.15","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","accept-charset":"iso-8859-1,*,utf-8","accept-encoding":"gzip","accept-language":"en-us,en","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","user-agent":"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"7ms"},"msg":"","time":"2017-09-29T00:36:07.625Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2ee69e60-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/infinitescroll.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/infinitescroll.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"14.17.44.106","x-real-ip":"14.17.44.106","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","accept-charset":"iso-8859-1,*,utf-8","accept-encoding":"gzip","accept-language":"en-us,en","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","user-agent":"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"8d6-15ec766fb30\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"6ms"},"msg":"","time":"2017-09-29T00:36:07.628Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2ee761b0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"14.17.34.237","x-real-ip":"14.17.34.237","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css,*/*;q=0.1","accept-charset":"iso-8859-1,*,utf-8","accept-encoding":"gzip","accept-language":"en-us,en","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","user-agent":"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T00:36:07.631Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2f45d560-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","method":"GET","originalUrl":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","upgrade-insecure-requests":"1","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_3 like Mac OS X) AppleWebKit/603.3.8 (KHTML, like Gecko) Mobile/14G60 MicroMessenger/6.5.15 NetType/WIFI Language/zh_CN","accept-language":"zh-cn","accept-encoding":"gzip, deflate"},"body":{},"query":{"nsukey":"o85Kvugp/zuPjeoq/8rxbpmFuLCvbfw+Vel/VF4oe4YjfmplO1zT+pbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y/Zh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE+r9rMtx+hw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"23ms"},"msg":"","time":"2017-09-29T00:36:08.270Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2f4debb0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css,*/*;q=0.1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_3 like Mac OS X) AppleWebKit/603.3.8 (KHTML, like Gecko) Mobile/14G60 MicroMessenger/6.5.15 NetType/WIFI Language/zh_CN","accept-language":"zh-cn","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\"","content-type":"text/css; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T00:36:08.303Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2f5035a0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_3 like Mac OS X) AppleWebKit/603.3.8 (KHTML, like Gecko) Mobile/14G60 MicroMessenger/6.5.15 NetType/WIFI Language/zh_CN","accept-language":"zh-cn","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T00:36:08.315Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2f50aad0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/infinitescroll.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/infinitescroll.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_3 like Mac OS X) AppleWebKit/603.3.8 (KHTML, like Gecko) Mobile/14G60 MicroMessenger/6.5.15 NetType/WIFI Language/zh_CN","accept-language":"zh-cn","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"8d6-15ec766fb30\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T00:36:08.319Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2f519530-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"*/*","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_3 like Mac OS X) AppleWebKit/603.3.8 (KHTML, like Gecko) Mobile/14G60 MicroMessenger/6.5.15 NetType/WIFI Language/zh_CN","accept-language":"zh-cn","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-encoding":"gzip, deflate"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T00:36:08.325Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2f52a6a0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png,image/svg+xml,image/*;q=0.8,*/*;q=0.5","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_3 like Mac OS X) AppleWebKit/603.3.8 (KHTML, like Gecko) Mobile/14G60 MicroMessenger/6.5.15 NetType/WIFI Language/zh_CN","accept-language":"zh-cn","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\"","content-type":"image/jpeg","content-length":21595},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T00:36:08.332Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2f52cdb0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png,image/svg+xml,image/*;q=0.8,*/*;q=0.5","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_3 like Mac OS X) AppleWebKit/603.3.8 (KHTML, like Gecko) Mobile/14G60 MicroMessenger/6.5.15 NetType/WIFI Language/zh_CN","accept-language":"zh-cn","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\"","content-type":"image/png","content-length":227974},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T00:36:08.335Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3fac4a10-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","method":"GET","originalUrl":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","params":{},"headers":{"x-forwarded-for":"117.185.27.114","x-real-ip":"117.185.27.114","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Linux; U; Android 4.4.4; zh-CN; Coolpad Y82-520 Build/KTU84P) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 UCBrowser/10.9.8.738 U3/0.8.0 Mobile Safari/534.30","accept":"*/*","accept-encoding":"gzip, deflate, sdch, br","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4"},"body":{},"query":{"nsukey":"o85Kvugp/zuPjeoq/8rxbpmFuLCvbfw+Vel/VF4oe4YjfmplO1zT+pbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y/Zh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE+r9rMtx+hw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"26ms"},"msg":"","time":"2017-09-29T00:36:35.788Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3fc8d2c0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"117.185.27.114","x-real-ip":"117.185.27.114","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Linux; U; Android 6.0.1; zh-cn; OPPO R9s Build/MMB29M) AppleWebKit/537.36 (KHTML, like Gecko)Version/4.0 Chrome/37.0.0.0 MQQBrowser/7.2 Mobile Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate, sdch, br","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T00:36:35.950Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"40003670-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"117.185.27.114","x-real-ip":"117.185.27.114","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Linux; U; Android 4.4.4; zh-CN; Coolpad Y82-520 Build/KTU84P) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 UCBrowser/10.9.8.738 U3/0.8.0 Mobile Safari/534.30","accept":"*/*","accept-encoding":"gzip, deflate, sdch, br","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T00:36:36.315Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"401963c0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/infinitescroll.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/infinitescroll.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"117.185.27.114","x-real-ip":"117.185.27.114","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Linux; U; Android 4.4.4; zh-CN; HUAWEI ALE-CL00 Build/HuaweiALE-CL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 UCBrowser/11.3.0.907 Mobile Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate, sdch, br","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"8d6-15ec766fb30\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T00:36:36.480Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8212bba0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"18ec-REm7EI5PRNQBPOX3tazx112V2MA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"47ms"},"msg":"","time":"2017-09-29T00:38:27.210Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8210bfd0-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/authentication/revoke","method":"POST","originalUrl":"/ghost/api/v0.1/authentication/revoke","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"275","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/x-www-form-urlencoded","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"token_type_hint":"access_token","token":"T5OllfaDNrfpJadEh4P5xnjhurUsjKDl9u7U263FG3rRhm6g6GjsJ1RmeXn5Jrwb8NRzOgmOoiTanf9jfrAQC4KlTyPOskl4wSdI1ZlyolIk1huTnCo9ZYBRQAutDJfPHNz3Vq7PoNzIvrMF6N4Uy95yaFDLVObYcMinp28MBpXSvUsPM5LZBpFzZcxGT4p","client_id":"ghost-admin","client_secret":"e7e8e511f0c9"},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","content-type":"application/json; charset=utf-8","content-length":"203","etag":"W/\"cb-TXPk/1BmAHE0FKIcWCLUsEECOsE\""},"statusCode":200,"responseTime":"64ms"},"msg":"","time":"2017-09-29T00:38:27.213Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"82121f60-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/authentication/revoke","method":"POST","originalUrl":"/ghost/api/v0.1/authentication/revoke","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"276","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/x-www-form-urlencoded","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"token_type_hint":"refresh_token","token":"HqX32tAssD2Gdx9t3o7PF5cjtdUPt89HdkDvkpkZaqtsITEWKhIdEEHVNzdO3SQaRgVLBYHvYG5LdeJR5wsK8icrmTUB32LDTz3nEwp2JNRGm6pRpxmlGYuDB5yYg4KNiYOrbewehsLqXqsiNEuHjlnkSO1ge2lNikmEkdUVOHqaH3CLUJbUxrSihApQePD","client_id":"ghost-admin","client_secret":"e7e8e511f0c9"},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","content-type":"application/json; charset=utf-8","content-length":"203","etag":"W/\"cb-0VaVp5RlAkVtYeGCYVD36zwy8tk\""},"statusCode":200,"responseTime":"58ms"},"msg":"","time":"2017-09-29T00:38:27.216Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"821d9110-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"statusCode":304,"responseTime":"23ms"},"msg":"","time":"2017-09-29T00:38:27.257Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"82258050-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/ghost/","params":{"0":"/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","accept-ranges":"bytes","last-modified":"Tue, 26 Sep 2017 05:55:30 GMT","etag":"W/\"d3e-15ebcc12c50\"","content-type":"text/html; charset=UTF-8","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"4ms"},"msg":"","time":"2017-09-29T00:38:27.290Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"828ec970-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/configuration/","method":"GET","originalUrl":"/ghost/api/v0.1/configuration/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","app-pragma":"no-cache","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","content-type":"application/json; charset=UTF-8","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"332","etag":"W/\"14c-weLJ0SrbCHNnBbxCHcrQWt9PAc8\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"4ms"},"msg":"","time":"2017-09-29T00:38:27.980Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"82955920-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/authentication/setup/","method":"GET","originalUrl":"/ghost/api/v0.1/authentication/setup/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","app-pragma":"no-cache","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","content-type":"application/json; charset=UTF-8","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"27","etag":"W/\"1b-06ef8FdrIIahUXEQyo6H3V0+dJg\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"7ms"},"msg":"","time":"2017-09-29T00:38:28.026Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"829902a0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"statusCode":304,"responseTime":"20ms"},"msg":"","time":"2017-09-29T00:38:28.063Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":50,"req":{"meta":{"requestId":"8802a930-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/authentication/token","method":"POST","originalUrl":"/ghost/api/v0.1/authentication/token","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"123","origin":"http://47.95.197.107","app-pragma":"no-cache","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","content-type":"application/x-www-form-urlencoded","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"grant_type":"password","username":"10041051@buaa.edu.cn"},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"124","etag":"W/\"7c-ivmlgJsSiTOhqS5rH3IOo3nuoXE\"","vary":"Accept-Encoding"},"statusCode":422,"responseTime":"165ms"},"err":{"id":"881baf70-a4ae-11e7-ad29-7b3837c864ae","domain":"http://47.95.197.107:2368","code":"PASSWORD_INCORRECT","name":"ValidationError","statusCode":422,"level":"normal","message":"Your password is incorrect.","context":"Your password is incorrect.","help":"Visit and save your profile after logging in to check for problems.","stack":"ValidationError: Your password is incorrect.\n    at new ValidationError (/home/www/ghost/node_modules/ghost-ignition/lib/errors/index.js:115:23)\n    at /home/www/ghost/core/server/models/user.js:718:39\n    at tryCatcher (/home/www/ghost/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/home/www/ghost/node_modules/bluebird/js/release/promise.js:512:31)\n    at Promise._settlePromise (/home/www/ghost/node_modules/bluebird/js/release/promise.js:569:18)\n    at Promise._settlePromise0 (/home/www/ghost/node_modules/bluebird/js/release/promise.js:614:10)\n    at Promise._settlePromises (/home/www/ghost/node_modules/bluebird/js/release/promise.js:693:18)\n    at Promise._fulfill (/home/www/ghost/node_modules/bluebird/js/release/promise.js:638:18)\n    at /home/www/ghost/node_modules/bluebird/js/release/nodeback.js:42:21\n    at /home/www/ghost/node_modules/bcryptjs/dist/bcrypt.js:297:21\n    at /home/www/ghost/node_modules/bcryptjs/dist/bcrypt.js:1353:21\n    at Immediate.next (/home/www/ghost/node_modules/bcryptjs/dist/bcrypt.js:1233:21)\n    at runCallback (timers.js:672:20)\n    at tryOnImmediate (timers.js:645:5)\n    at processImmediate [as _immediateCallback] (timers.js:617:5)"},"msg":"Your password is incorrect.","time":"2017-09-29T00:38:37.292Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8b2b1250-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/authentication/token","method":"POST","originalUrl":"/ghost/api/v0.1/authentication/token","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"121","origin":"http://47.95.197.107","app-pragma":"no-cache","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","content-type":"application/x-www-form-urlencoded","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"grant_type":"password","username":"10041051@buaa.edu.cn"},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-store","content-type":"application/json","pragma":"no-cache","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"144ms"},"msg":"","time":"2017-09-29T00:38:42.567Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8b443fa0-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/me/?include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/me/?include=roles","params":{"id":"me"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"796","etag":"W/\"31c-KzL2Lq8M8Shuc1f662Y7uBD9IxQ\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"29ms"},"msg":"","time":"2017-09-29T00:38:42.616Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8b45ed50-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/settings/?type=blog%2Ctheme%2Cprivate","method":"GET","originalUrl":"/ghost/api/v0.1/settings/?type=blog%2Ctheme%2Cprivate","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"type":"blog,theme,private"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"10f9-XUW7FwCmrbQLro66S0+SS7DhAZM\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"20ms"},"msg":"","time":"2017-09-29T00:38:42.618Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8b5c8290-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/notifications/","method":"GET","originalUrl":"/ghost/api/v0.1/notifications/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"20","etag":"W/\"14-rGnko0plFblBZ6cCxL9htMA8NKo\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"20ms"},"msg":"","time":"2017-09-29T00:38:42.766Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8b5b7120-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"30","page":"1","status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"8819-qS0l6kQoxkfUwBhBPI+ayxXmX/s\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"34ms"},"msg":"","time":"2017-09-29T00:38:42.773Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8b697ae0-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/configuration/private/","method":"GET","originalUrl":"/ghost/api/v0.1/configuration/private/","params":{"key":"private"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"20","etag":"W/\"14-PQTWA9/xhQpZZaiEQQdpzDore8A\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"4ms"},"msg":"","time":"2017-09-29T00:38:42.835Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8b6ed210-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/tags/?limit=all","method":"GET","originalUrl":"/ghost/api/v0.1/tags/?limit=all","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"520-YgcdWaNwvap4C2937J2+86Q0fY8\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"29ms"},"msg":"","time":"2017-09-29T00:38:42.895Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8b711c00-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"statusCode":304,"responseTime":"36ms"},"msg":"","time":"2017-09-29T00:38:42.917Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8b707fc0-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"43ms"},"msg":"","time":"2017-09-29T00:38:42.919Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8c6f5220-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"38f2-Y6+aOlfbXd+nNjwRLZT1nWU2bxo\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"21ms"},"msg":"","time":"2017-09-29T00:38:44.568Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8c754590-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"statusCode":304,"responseTime":"18ms"},"msg":"","time":"2017-09-29T00:38:44.604Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8c7a2790-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"16ms"},"msg":"","time":"2017-09-29T00:38:44.633Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8c7fa5d0-a4ae-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/tags/?limit=all","method":"GET","originalUrl":"/ghost/api/v0.1/tags/?limit=all","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"520-YgcdWaNwvap4C2937J2+86Q0fY8\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"12ms"},"msg":"","time":"2017-09-29T00:38:44.665Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"8cc00a30-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"image/webp,image/*,*/*;q=0.8","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\"","content-type":"image/png","content-length":227974},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T00:38:45.078Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"cb111a90-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","method":"GET","originalUrl":"/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","params":{},"headers":{"x-forwarded-for":"101.226.33.225","x-real-ip":"101.226.33.225","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_2_1 like Mac OS X) AppleWebKit/602.4.6 (KHTML, like Gecko) Mobile/14D27 MicroMessenger/6.5.5 NetType/WIFI Language/zh_CN","accept":"*/*","accept-encoding":"gzip, deflate, sdch, br","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4"},"body":{},"query":{"nsukey":"o85Kvugp/zuPjeoq/8rxbpmFuLCvbfw+Vel/VF4oe4YjfmplO1zT+pbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y/Zh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE+r9rMtx+hw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T00:40:29.650Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"cd121ab0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"101.226.33.225","x-real-ip":"101.226.33.225","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.95 Safari/537.36 MicroMessenger/6.5.2.501 NetType/WIFI WindowsWechat QBCore/3.43.27.400 QQBrowser/9.0.2524.400","accept":"*/*","accept-encoding":"gzip, deflate, sdch, br","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T00:40:32.988Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d1698df0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"101.226.33.225","x-real-ip":"101.226.33.225","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.95 Safari/537.36 MicroMessenger/6.5.2.501 NetType/WIFI WindowsWechat QBCore/3.43.27.400 QQBrowser/9.0.2524.400","accept":"*/*","accept-encoding":"gzip, deflate, sdch, br","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T00:40:40.274Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d3820db0-a4ae-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/infinitescroll.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/infinitescroll.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"101.226.33.225","x-real-ip":"101.226.33.225","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_2_1 like Mac OS X) AppleWebKit/602.4.6 (KHTML, like Gecko) Mobile/14D27 MicroMessenger/6.5.5 NetType/WIFI Language/en","accept":"*/*","accept-encoding":"gzip, deflate, sdch, br","referer":"http://47.95.197.107/?nsukey=o85Kvugp%2FzuPjeoq%2F8rxbpmFuLCvbfw%2BVel%2FVF4oe4YjfmplO1zT%2Bpbhr1K5SBxidoTNqO0zY92q4m7fefYGmS0A9DgTIf9EcSq0k2Y%2FZh9lAjfLnNL4iwPCXpfaJOoO5qV3E2r6Qi81bUkfEBE%2Br9rMtx%2Bhw8VmXR3tcCtTnfA2inn7r4Xr08pA8ihKffHu","accept-language":"zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4"},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"8d6-15ec766fb30\"","content-type":"application/javascript","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T00:40:43.789Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"9a8833b0-a4b6-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"15555","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminalwww\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\nnpm start --production\\n\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-28T15:50:35.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"3d3e-EChjXLA07J4C3X5fliTCQJRoxcQ\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"73ms"},"msg":"","time":"2017-09-29T01:36:24.247Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fefb1380-a4b6-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"16375","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminalwww\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>     subfolder: 'upgrades'  [default: versions]\\n> }\\n> \\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\nnpm start --production\\n\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T01:36:24.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"400b-kUfo3/XeBItSuYWNsRWRSf3Mu+I\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"55ms"},"msg":"","time":"2017-09-29T01:39:12.753Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4860bfc0-a4b7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"16625","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminalwww\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n> sqlite3\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\nnpm start --production\\n\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T01:39:12.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4105-ih9gYk3pF36qN5c8z5/KWMkqc2g\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"60ms"},"msg":"","time":"2017-09-29T01:41:15.898Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"52e5c5d0-a4b7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"16666","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminalwww\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n> sqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\nnpm start --production\\n\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T01:41:15.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"412e-q9WqgKHENXJtDcs48/USJy6p+Cs\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"55ms"},"msg":"","time":"2017-09-29T01:41:33.543Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"88b1bed0-a4b7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"16645","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminalwww\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n> sqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\nnpm start --production\\n\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T01:41:33.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"411c-5mv8u73eYfi6afuIZVnJj8lFtfA\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"48ms"},"msg":"","time":"2017-09-29T01:43:03.791Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"c45bcb10-a4b7-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"16888","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminalwww\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n> sqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\nnpm start --production\\n\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T01:43:03.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4212-XtcLwrIO3Noju98Yr7uEVI/omEU\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"55ms"},"msg":"","time":"2017-09-29T01:44:43.899Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a0bf0360-a4b8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"17160","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminalwww\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n> sqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\nnpm start --productionnpm\\n\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T01:44:43.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"432b-/hy78GOWVhuni33HUXbjhvKaczI\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"56ms"},"msg":"","time":"2017-09-29T01:50:53.650Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a2586810-a4b8-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"17160","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminalwww\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n> sqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\nnpm start --productionnpm\\n\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T01:50:53.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"432b-V7wETVSLt0gLTy99hNjta2DLgZA\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"54ms"},"msg":"","time":"2017-09-29T01:50:56.331Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"1d91dba0-a4ba-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18203","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n> sqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T01:50:56.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4808-J+Xw7sazERozsw/X9EVelqpXMcY\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"78ms"},"msg":"","time":"2017-09-29T02:01:32.587Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"29b43e00-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"71.6.202.198","x-real-ip":"71.6.202.198","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64)","accept-encoding":"gzip"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"54ms"},"msg":"","time":"2017-09-29T02:01:52.919Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"782d3370-a4ba-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18507","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/config\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n> sqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:01:32.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"496f-jad3lN0E84frSLzfUHAmSPpCq3g\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"84ms"},"msg":"","time":"2017-09-29T02:04:04.605Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"868c3f60-a4ba-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18561","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/config\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n> sqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:04:04.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"49a5-b7WtL3itPBhK141BKPQF3/rtik8\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"59ms"},"msg":"","time":"2017-09-29T02:04:28.692Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"9a9b49b0-a4ba-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18614","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n> sqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:04:28.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"49da-9EDcm9i8Ke5mBcNqgne3pAegC/Q\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"49ms"},"msg":"","time":"2017-09-29T02:05:02.335Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a3702ec0-a4ba-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18614","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n> sqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:05:02.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"49da-JFUAMwU78Wd0KIHnQtuFmtU18Aw\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"45ms"},"msg":"","time":"2017-09-29T02:05:17.148Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a4e9af60-a4ba-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18614","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> #>>> v6.11.0\\n```\\nnpm -v\\n```\\n> #>>> v5.1.0\\n```\\nyarn -v\\n```\\n> #>>> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n> sqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:05:17.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"49da-2OUrijqyEbr0ONcy/R+c8qBbVm0\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"49ms"},"msg":"","time":"2017-09-29T02:05:19.626Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ae980480-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"160e-aecQubg4g7upMtGGxomWW3DV/LA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T02:05:35.841Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"aea1c880-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\"","content-type":"image/png","content-length":227974},"statusCode":200,"responseTime":"5ms"},"msg":"","time":"2017-09-29T02:05:35.887Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"aea30100-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\"","content-type":"image/jpeg","content-length":21595},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T02:05:35.891Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b2000eb0-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"8894-5uxeWVoBoNl8uUW4mBHWcJye5RA\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"87ms"},"msg":"","time":"2017-09-29T02:05:41.620Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b20f50f0-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\"","content-type":"image/jpeg","content-length":54204},"statusCode":200,"responseTime":"2ms"},"msg":"","time":"2017-09-29T02:05:41.634Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"b20f7800-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\"","content-type":"image/jpeg","content-length":59735},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T02:05:41.635Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d0907590-a4ba-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18599","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n> \\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n> sqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:05:19.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4987-oBGGlZkOyXaqNc8K37w7OGc9qeQ\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"64ms"},"msg":"","time":"2017-09-29T02:06:32.876Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ee1e6090-a4ba-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18552","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n> \\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n> sqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:06:32.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"496f-y5YyhKHTOxDsSYhBiHsfDZpqmgA\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"60ms"},"msg":"","time":"2017-09-29T02:07:22.456Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f06395a0-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"8894-5uxeWVoBoNl8uUW4mBHWcJye5RA\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"8830-PaLWfgk2pbvfB1YTZT6XWDfhJeE\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"52ms"},"msg":"","time":"2017-09-29T02:07:26.255Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f06da7c0-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:26.270Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f06f7c80-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:26.282Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f071ed80-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:26.297Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f071ed81-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"2ms"},"msg":"","time":"2017-09-29T02:07:26.298Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f07548e0-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:26.319Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f0756ff0-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:26.320Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"f0c45340-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:26.839Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fb10bd20-a4ba-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18547","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n> \\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n> sqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:07:22.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"496d-Bdrp5Msv/+HGLgyft7PxqULMIKk\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"59ms"},"msg":"","time":"2017-09-29T02:07:44.176Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fc3f5210-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"8830-PaLWfgk2pbvfB1YTZT6XWDfhJeE\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"882f-yARtk7+whEGltsYx/SufI9ZgMYk\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"51ms"},"msg":"","time":"2017-09-29T02:07:46.149Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fc493d20-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"2ms"},"msg":"","time":"2017-09-29T02:07:46.165Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fc4b6000-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:07:46.177Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fc4d5bd0-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:46.191Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fc4da9f0-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:46.193Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fc515370-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:46.216Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fc51a190-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:07:46.218Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fc6fb0e0-a4ba-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:07:46.416Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0779ec80-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18542","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n> \\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n> sqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:07:44.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"49c1-qotgzdYBoyp+HA+TFMjaZ3SYjXo\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"54ms"},"msg":"","time":"2017-09-29T02:08:04.993Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"087b56f0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"882f-yARtk7+whEGltsYx/SufI9ZgMYk\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"8881-/qtjs1WAeEUzUO7H0mo0ncg9qYc\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"42ms"},"msg":"","time":"2017-09-29T02:08:06.666Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0883bb60-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:06.680Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"08856910-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:06.690Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"088764e0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:06.703Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"08878bf0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:06.705Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"088bd1b0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:08:06.732Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"088bf8c0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:06.733Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"08a9b9f0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:06.929Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"0f860350-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18537","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n> \\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n> sqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:08:04.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"49a8-+ISC3fHUKMn18+Ju51cKYrckN6Y\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"57ms"},"msg":"","time":"2017-09-29T02:08:18.498Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"105672b0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"8881-/qtjs1WAeEUzUO7H0mo0ncg9qYc\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"8869-KMDPxN5f91jZu/+Ry4oZqoFH+ec\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"51ms"},"msg":"","time":"2017-09-29T02:08:19.855Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"106036b0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:08:19.868Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"10620b70-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:08:19.880Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"10640740-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:19.894Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"10647c70-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:08:19.896Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"106825f0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:19.921Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"10687410-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:08:19.922Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"10860e30-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:20.117Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"26469910-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18532","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n> sqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:08:18.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4987-Y2mJuWaHTNe1dmpTjCgWYNOaOQ4\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"64ms"},"msg":"","time":"2017-09-29T02:08:56.677Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2739f9c0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"8869-KMDPxN5f91jZu/+Ry4oZqoFH+ec\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"8849-ZEQ8Y0RgoB/cylmEkPVNis+Ves8\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"46ms"},"msg":"","time":"2017-09-29T02:08:58.251Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"27432180-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:58.266Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2744cf30-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:58.277Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"27471920-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:08:58.291Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"27474030-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:58.292Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"274b85f0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:08:58.320Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"274bad00-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"4ms"},"msg":"","time":"2017-09-29T02:08:58.325Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"27696e30-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:08:58.519Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"37304780-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18530","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\nsqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:08:56.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4987-eNBbaM3NK3I9wcHzj5zu4Bohysg\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"46ms"},"msg":"","time":"2017-09-29T02:09:25.033Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"37f656a0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"8849-ZEQ8Y0RgoB/cylmEkPVNis+Ves8\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"8849-jmFi0hqA18lu4ivnrxvbhXKK3f0\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"40ms"},"msg":"","time":"2017-09-29T02:09:26.324Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"37fe6cf0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:09:26.336Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"38001aa0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:09:26.347Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"38026490-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:09:26.363Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"38028ba0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:09:26.363Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3806f870-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:09:26.392Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"38074690-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:09:26.394Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"38244470-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:09:26.585Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3fff8740-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18533","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n\\nsqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on https://www.itony.net  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:09:25.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"49aa-KoSs5CFVC+djDYSa7795FnTKNAc\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"63ms"},"msg":"","time":"2017-09-29T02:09:39.830Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"41644760-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"8849-jmFi0hqA18lu4ivnrxvbhXKK3f0\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"886a-CfRO6yCHlC8KFTVZVjnkI9OT5R0\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"42ms"},"msg":"","time":"2017-09-29T02:09:42.145Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"416c84c0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:09:42.158Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"416e5980-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:09:42.169Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4170a370-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:09:42.184Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4170ca80-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:09:42.185Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4176bdf0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:09:42.224Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"4176e500-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:09:42.226Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"419346a0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:09:42.412Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"548a2a30-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18523","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n\\nsqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:09:39.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"497a-99F9hTvYmrc9ZVFQTgd5JNE1GK4\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"54ms"},"msg":"","time":"2017-09-29T02:10:14.284Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"55835740-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18523","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n\\nsqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:10:14.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"497a-TOlhWd+bPwK+/ZAcAS+h59pRCNo\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"46ms"},"msg":"","time":"2017-09-29T02:10:15.909Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"63992530-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18526","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\nyum install gcc-c++ make nodejs -y\\n\\nNodeJSNPM\\nnpm***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n\\nsqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n``\\nyarn global add pm2 --prefix /usr/local\\n``\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:10:15.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"497d-fmBy6fa/4OrePOMSKXjLvERFfpU\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"94ms"},"msg":"","time":"2017-09-29T02:10:39.590Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"64dbb750-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"886a-CfRO6yCHlC8KFTVZVjnkI9OT5R0\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"883f-DJpk9hqb8/az7YnnqCtw6+LlBhc\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"61ms"},"msg":"","time":"2017-09-29T02:10:41.667Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"64e6b3d0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:10:41.679Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"64e88890-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:10:41.691Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"64ead280-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:10:41.705Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"64eb20a0-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:10:41.707Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"64eeca20-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:10:41.731Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"64ef1840-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:10:41.733Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"650cb260-a4bb-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"3ms"},"msg":"","time":"2017-09-29T02:10:41.930Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"ccfef4f0-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18621","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJSNPM\\n[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n\\nsqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:10:39.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4a04-eP5SGogKbRkiMuj1Br1rX/QXLKE\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"68ms"},"msg":"","time":"2017-09-29T02:13:36.390Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"d193bf50-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18621","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> #>>> CentOS Linux release 7.3.1611 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJSNPM\\n[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n\\nsqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:13:36.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4a04-5H5goTHidtJb5bJ2LyCQppMS/4s\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"46ms"},"msg":"","time":"2017-09-29T02:13:44.055Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"fab89590-a4bb-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"18616","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJSNPM\\n[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n\\nsqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:13:44.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"49d1-6iryqdxC6nyo6rLahjIXy/fS9Ng\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"80ms"},"msg":"","time":"2017-09-29T02:14:53.116Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"85479f80-a4bc-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19005","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJSNPM\\n[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n[****](https://github.com/TryGhost/knex-migrator)\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n\\nsqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n# \\n[NPM ](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[Ghost 1.0+ ghost-cli](https://www.ihx.me/ghost1-6insallnocli/)\\n[knex-migrator-Github](https://github.com/TryGhost/knex-migrator)\\n\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:14:53.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4bb4-UfzWKSv5uRdQtdoDaODeu4vCnvo\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"57ms"},"msg":"","time":"2017-09-29T02:18:45.556Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"86c62930-a4bc-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19005","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJSNPM\\n[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n[****](https://github.com/TryGhost/knex-migrator)\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n\\nsqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n# \\n[NPM ](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[Ghost 1.0+ ghost-cli](https://www.ihx.me/ghost1-6insallnocli/)\\n[knex-migrator-Github](https://github.com/TryGhost/knex-migrator)\\n\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:18:45.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4bb4-yhuiCJZD6Di/36ijjS2YwDuxrhs\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"47ms"},"msg":"","time":"2017-09-29T02:18:48.052Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"c99d0fd0-a4bc-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19173","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJSNPM\\n[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n[****](https://github.com/TryGhost/knex-migrator)\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n\\nsqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\\n# ghost\\n[****](https://www.binarization.com/archive/2016/configuring-ghost/)\\n\\n\\n# \\n[NPM ](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[Ghost 1.0+ ghost-cli](https://www.ihx.me/ghost1-6insallnocli/)\\n[knex-migrator-Github](https://github.com/TryGhost/knex-migrator)\\n\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:18:48.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4c86-Fy1pK7m9c1R2lM1hiZ/FWukHRA4\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"82ms"},"msg":"","time":"2017-09-29T02:20:40.226Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"cb78fbc0-a4bc-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19173","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\ncurl, wget\\nvimLinux\\n```\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJSNPM\\n[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n[****](https://github.com/TryGhost/knex-migrator)\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n\\nsqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\\n# ghost\\n[****](https://www.binarization.com/archive/2016/configuring-ghost/)\\n\\n\\n# \\n[NPM ](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[Ghost 1.0+ ghost-cli](https://www.ihx.me/ghost1-6insallnocli/)\\n[knex-migrator-Github](https://github.com/TryGhost/knex-migrator)\\n\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:20:40.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4c86-8J6XEqkVOBJWIseczTcqXu1gO/M\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"43ms"},"msg":"","time":"2017-09-29T02:20:43.306Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"43616500-a4bd-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19419","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget\\nvimLinux\\n\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJSNPM\\n[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n[****](https://github.com/TryGhost/knex-migrator)\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n\\nsqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\\n# ghost\\n[****](https://www.binarization.com/archive/2016/configuring-ghost/)\\n\\n\\n# \\n[NPM ](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[Ghost 1.0+ ghost-cli](https://www.ihx.me/ghost1-6insallnocli/)\\n[knex-migrator-Github](https://github.com/TryGhost/knex-migrator)\\n[ CentOS 7  Ghost ](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\nCentOSGhost\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:20:43.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4d95-/Dk7HnPuj2OrpuOrCfgo02xCckg\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"64ms"},"msg":"","time":"2017-09-29T02:24:04.500Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"449d4060-a4bd-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19419","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget\\nvimLinux\\n\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJSNPM\\n[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n[****](https://github.com/TryGhost/knex-migrator)\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n\\nsqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\\n# ghost\\n[****](https://www.binarization.com/archive/2016/configuring-ghost/)\\n\\n\\n# \\n[NPM ](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[Ghost 1.0+ ghost-cli](https://www.ihx.me/ghost1-6insallnocli/)\\n[knex-migrator-Github](https://github.com/TryGhost/knex-migrator)\\n[ CentOS 7  Ghost ](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\nCentOSGhost\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:24:04.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4d95-KNCnc25KZ4926j9M6ZCDWX+qygQ\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"51ms"},"msg":"","time":"2017-09-29T02:24:06.557Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"5b086320-a4bd-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19492","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget\\nvimLinux\\n\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJSNPM\\n[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n[****](https://github.com/TryGhost/knex-migrator)\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n\\nsqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\\n# ghost\\n[****](https://www.binarization.com/archive/2016/configuring-ghost/)\\n\\n\\n# \\n[NPM ](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[Ghost 1.0+ ghost-cli](https://www.ihx.me/ghost1-6insallnocli/)\\n[knex-migrator-Github](https://github.com/TryGhost/knex-migrator)\\n[ CentOS 7  Ghost ](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\n[CentOSGhost](https://www.binarization.com/archive/2016/installing-ghost-centos/)\\n\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:24:06.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4de8-AcY9dj6osnrzP0RO/vjwf6LB+HU\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"74ms"},"msg":"","time":"2017-09-29T02:24:44.191Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"a78190f0-a4bd-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19803","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget\\nvimLinux\\n\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJSNPM\\n[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\n\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n[****](https://github.com/TryGhost/knex-migrator)\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n\\nsqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\\n# ghost\\n[****](https://www.binarization.com/archive/2016/configuring-ghost/)\\n\\n\\n# \\n[NPM ](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[Ghost 1.0+ ghost-cli](https://www.ihx.me/ghost1-6insallnocli/)\\n[knex-migrator-Github](https://github.com/TryGhost/knex-migrator)\\n[ CentOS 7  Ghost ](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\n[CentOSGhost](https://www.binarization.com/archive/2016/installing-ghost-centos/)\\n[ghostUsing Ghost as an NPM module](https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module)\\n[<ghostInstall & Setup (production)](https://docs.ghost.org/v1/docs/install)\\n[CentOS GhostPM2+Nginx](https://codesky.me/archives/centos-ghost-install-introduce.wind)\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:24:44.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"4f59-Olo2oVqSlbDxNMM2acoVVPNUFPI\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"79ms"},"msg":"","time":"2017-09-29T02:26:52.497Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"07b4a430-a4be-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"20085","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget\\nvimLinux\\n\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJSNPM\\n[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\nyarn\\n```\\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\\nyum install yarn\\n```\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n[****](https://github.com/TryGhost/knex-migrator)\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n\\nsqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\\n# ghost\\n[****](https://www.binarization.com/archive/2016/configuring-ghost/)\\n\\n\\n# \\n[ECSCentos7Ghost](https://www.itony.net/aliyun-centos7-ghost/)\\n[NPM ](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[Ghost 1.0+ ghost-cli](https://www.ihx.me/ghost1-6insallnocli/)\\n[knex-migrator-Github](https://github.com/TryGhost/knex-migrator)\\n[ CentOS 7  Ghost ](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\n[CentOSGhost](https://www.binarization.com/archive/2016/installing-ghost-centos/)\\n[ghostUsing Ghost as an NPM module](https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module)\\n[<ghostInstall & Setup (production)](https://docs.ghost.org/v1/docs/install)\\n[CentOS GhostPM2+Nginx](https://codesky.me/archives/centos-ghost-install-introduce.wind)\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:26:52.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"5098-t2meDRYC77vUlFSDDhtADyBGIaI\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"93ms"},"msg":"","time":"2017-09-29T02:29:33.907Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"09285870-a4be-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccf296a744810195a3dc03/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccf296a744810195a3dc03/?include=tags","params":{"id":"59ccf296a744810195a3dc03"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"20085","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccf296a744810195a3dc03","created_at":"2017-09-28T13:01:10.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/ghost.png","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"Leanote\\nghostshadowsocksshadowsocksghost\\nghost\\nGhostNode.jsNode.js\\nghost~\\n\\n# \\n[****](https://www.aliyun.com/)ECS:\\nCPU 1\\n 2G\\n 1Mbps\\n 40G\\n CentOS 7.3 64\\n\\n# \\nvultrXshell22consolefirewalld\\nwindowscmdpingipping\\n> ECS\\n![--------](/content/images/2017/09/--------.jpg)\\n![-------](/content/images/2017/09/-------.jpg)\\nXshellssh\\n[****](https://help.aliyun.com/knowledge_detail/34403.html)\\n# ghost\\n\\n## \\n\\n* AICP\\n*  [**MySQL**](https://www.mysql.com/) \\n*  [**Nginx**](https://nginx.org/) Ghost\\n*  [**NodeJS**](https://nodejs.org/) \\n* [**Ghost**](https://ghost.org/)\\n\\n## \\n\\n### \\n\\n```\\ncat /etc/redhat-release  \\n```\\n> CentOS Linux release 7.4.1708 (Core)\\n\\n\\n### \\n\\ncentosyum\\n```\\nyum update -y && yum upgrage -y && yum clean all\\n```\\n\\ncurl, wget\\nvimLinux\\n\\n```\\nyum groupinstall -y \\\"Development Tools\\\"\\nyum install curl wget vim -y\\n```\\n\\n### vim\\n```\\ncurl https://raw.githubusercontent.com/tonyc726/vim-for-server/master/vimrc > /etc/vimrc  \\n```\\n\\n## MySQL\\nCentOS7MysqlMariaDBMysqlMySQL Repository https://dev.mysql.com/downloads/repo/yum/:\\n\\n###  MySQL Repository\\n```\\nrpm -Uvh https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\\n```\\n### MySQL\\n```\\nyum install mysql-community-server -y\\n```\\n### MySQL\\n```\\nsystemctl start mysqld.service\\n```\\n### \\n```\\nsystemctl enable mysqld.service  \\n```\\n### \\n```\\nmysql_secure_installation\\n```\\nMySQL5.7Root\\n\\n```\\ngrep \\\"password\\\" /var/log/mysqld.log  \\n```\\n\\n\\n### Ghost\\n\\n\\n```\\nmysql -uroot -p \\n```\\nblogGhost\\n```\\nCREATE DATABASE blog;\\n```\\nghostpassword\\n```\\nCREATE USER ghost IDENTIFIED BY 'password';\\n```\\nghostblog\\npasswordghost\\n```\\nGRANT ALL PRIVILEGES ON blog.* TO 'ghost'@'localhost' IDENTIFIED BY 'password';\\n```\\n\\nGRANTCREATE USERREVOKE\\n```\\nFLUSH PRIVILEGES;\\n```\\nCtrl+D \\n\\nMySQL\\n\\n## NodeJS\\n\\nNodeJS\\nV6\\n```\\ncurl -sL https://rpm.nodesource.com/setup_6.x | sudo -E bash -  \\n```\\n### NodeJS\\n```\\nyum install gcc-c++ make nodejs -y\\n```\\nNodeJSNPM\\n[**npm**](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)***yarn***\\n### npm(^v5.0.4)\\n```\\nnpm install npm@latest -g\\n```\\n### yarn\\n```\\ncurl --silent --location https://rpm.nodesource.com/setup_6.x | bash -  \\nyum install yarn -y\\n```\\nyarn\\n```\\nwget https://dl.yarnpkg.com/rpm/yarn.repo -O /etc/yum.repos.d/yarn.repo\\nyum install yarn\\n```\\n### \\n```\\nnode -v\\n```\\n\\n> v6.11.0\\n```\\nnpm -v\\n```\\n> v5.1.0\\n```\\nyarn -v\\n```\\n> v0.27.5\\n\\nyum install nodejs -yNodeJSnodesourcenpm\\n\\nNodeJS\\n## Nginx\\n\\n### \\n```\\nyum install nginx -y\\n```\\n### \\n```\\nsystemctl start nginx\\n```\\n### \\n```\\nsystemctl enable nginx  \\n```\\n\\nIPNginx\\n\\nwww.\\n\\n### 80\\n\\n 80  IP  80  Ghost  2368 \\n\\n IP  Ghost  80  Ghost  2368 \\n\\n Nginx \\n    ```\\n    cd /etc/nginx/conf.d\\n    ```\\n Ghost  Nginx \\n```\\nvim ghost.conf\\n```\\n i \\n\\n> server {  \\n>     listen 80;\\n>     server_name loyalsoldier.me // IP ;\\n>     gzip on;\\n>     gzip_types text/plain application/xml text/css application/javascript application/json application/font-woff application/font-woff2 application/vnd.ms-fontobject application/x-font-ttf font/opentype application/pdf image/png image/bmp image/gif image/jpeg image/webp image/svg+xml;\\n>     gzip_proxied no-cache no-store private expired auth;\\n>     gzip_vary on;\\n>     gzip_min_length 1024;\\n>     location / {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>     }\\n>     location ~* .*\\\\.(jpg|jpeg|bmp|png|gif|ico|js|css|eot|woff|woff2|svg|ttf|otf)$ {\\n>         proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;\\n>         proxy_set_header   X-Real-IP $remote_addr;\\n>         proxy_set_header   Host      $http_host;\\n>         proxy_set_header   X-Forwarded-Proto $scheme;\\n>         proxy_pass         http://127.0.0.1:2368;\\n>         add_header Cache-Control max-age=2592000;\\n>         expires    30d;\\n>         etag       on;\\n>     }\\n> }\\n\\n ESC  :wq \\n nginx -t  Nginx \\n\\n```\\nsudo nginx -t\\n```\\n oksuccessful \\n\\nNginx\\n```\\nsystemctl restart nginx.service  \\n```\\n\\n\\n## \\nwww\\n```\\nadduser www\\n```\\n\\n### ()\\n```\\npasswd www\\n```\\n\\n### Root - wwwRoot\\n```\\ngpasswd -a www wheel\\n```\\n### nginxwww\\n```\\nusermod -a -G nginx,www nginx  \\n```\\n\\n## ghost\\nGhostGhostTerminal**www**\\n```\\nssh www@xxx.xxx.xxx.xxx  \\n```\\nGhost\\n\\n### Ghost\\n```\\ncurl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip\\n```\\n### \\n```\\nunzip -uo ghost.zip -d ghost\\n```\\n### Ghost\\n```\\ncd ghost && npm install --production\\n```\\nnpm install --production\\n### Ghostconfig\\n```\\nvim config.js  \\n```\\nconfig.js\\n\\n> var path = require('path'),  \\n>     config;\\n> \\n> config = {  \\n>     production: {\\n>         url: 'https://www.xxxx.xxx',ip\\n>         mail: {},\\n>         database: {\\n>             client: 'mysql',mysql\\n>             connection: {\\n>                 host     : '127.0.0.1',\\n>                 user     : 'ghost', //\\n>                 password : 'password', //ghost\\n>                 database : 'blog', //\\n>                 charset  : 'utf8'\\n>             },\\n>             debug: false\\n>         },\\n>         server: {\\n>             host: '127.0.0.1',\\n>             port: '2368'\\n>         }\\n>     }\\n> };\\n> \\n> module.exports = config;  \\n\\nghost/ghost/core/server/configurldatabase\\n\\n### knex-migrator\\nghostknex-migrator\\nghost***MigrtorConfig.js***\\n\\n\\nvimMigrtorConfig.js\\n\\n```\\nvim MigrtorConfig.js\\n```\\n\\n[****](https://github.com/TryGhost/knex-migrator)\\n\\n> module.exports = {\\n>     database: {\\n>         client: 'mysql',\\n>         connection: {\\n>             host: '127.0.0.1',\\n>             user: 'ghost',mysql\\n>             password: 'password',mysqlghost\\n>             charset: 'utf8',\\n>             name: 'blog'mysql\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version',\\n>  /**\\n>     subfolder: 'upgrades'  [default: versions]\\n>     \\n>  */\\n> }\\n\\nsqlite3mysql\\n> module.exports = {\\n>     database: {\\n>         client: 'sqlite3',\\n>         connection: {\\n>             filename: 'path/to/your.db'\\n>         }\\n>     },\\n>     migrationPath: process.cwd() + '/core/server/data/migrations',\\n>     currentVersion: 'your-current-database-version'\\n> }\\n> \\n\\n\\n```\\nnpm install -g knex-migrator\\n```\\n\\n\\n\\n\\n\\n```\\nnpm start --production\\n```\\n80%\\n\\n\\n> Ghost is running in production...  \\n> Your blog is now available on xx.xx.xx.xx  \\n> Ctrl+C to shut down  \\n\\n### \\n\\n#### \\nnpm start --productionnpmnode_modulessudo\\nnpmjs.com[2](https://docs.npmjs.com/getting-started/fixing-npm-permissions)\\nnpm\\n```\\nnpm config get prefix\\n```\\n/usr\\nnpm\\n1.www\\n```\\nmkdir ~/.npm-global\\n```\\n2.\\n```\\nnpm config set prefix '~/.npm-global'\\n```\\n3.PATH\\nprofile.bash_profile\\n```\\nexport PATH=~/.npm-global/bin:$PATH\\n```\\n4.profile\\n```\\nsource ~/.bash_profile\\n```\\n******sudo**\\n``` \\nnpm install -g jshint\\n```\\n2-4profile\\n```\\nNPM_CONFIG_PREFIX=~/.npm-global\\n```\\n#### \\n> Syntax error: Unexpected token\\n\\n\\n## PM2\\nnpm start --productionnodePM2\\n\\n```\\nyarn global add pm2 --prefix /usr/local\\n```\\n### PM2Ghostnode\\nghost\\n```\\nNODE_ENV=production pm2 start index.js --name \\\"blog\\\"\\n```\\n### \\n```\\npm2 show blog  \\n```\\n\\n# ghost\\n[****](https://www.binarization.com/archive/2016/configuring-ghost/)\\n\\n\\n# \\n[ECSCentos7Ghost](https://www.itony.net/aliyun-centos7-ghost/)\\n[NPM ](https://github.com/nodejs-tw/nodejs-wiki-book/blob/master/zh-tw/node_npm.rst)\\n[Ghost 1.0+ ghost-cli](https://www.ihx.me/ghost1-6insallnocli/)\\n[knex-migrator-Github](https://github.com/TryGhost/knex-migrator)\\n[ CentOS 7  Ghost ](https://loyalsoldier.me/deploy-ghost-on-centos-7/)\\n[CentOSGhost](https://www.binarization.com/archive/2016/installing-ghost-centos/)\\n[ghostUsing Ghost as an NPM module](https://docs.ghost.org/v1/docs/using-ghost-as-an-npm-module)\\n[<ghostInstall & Setup (production)](https://docs.ghost.org/v1/docs/install)\\n[CentOS GhostPM2+Nginx](https://codesky.me/archives/centos-ghost-install-introduce.wind)\\n\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"Leanote\nghostshadowsocksshadowsocksghost\nghost\nGhostNode.jsNode.js\nghost~\n\n\n [https://www.aliyun.com/]ECS:\nCPU 1\n 2G\n 1Mbps\n 40G\n CentOS 7.3 64\n\n\nvultrXshell22consolefirewalld\nwindowscmdpingipping\n\nECS\n\n\nXshellssh\n [https://help.aliyun.com/knowledge_detail/34403.html]","published_at":"2017-09-28T13:41:32.000Z","slug":"shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost","status":"published","title":"Ghost","updated_at":"2017-09-29T02:29:33.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59cd12bfa744810195a3dc06","name":"","slug":"bo-ke","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T15:18:23.000Z","updated_at":"2017-09-28T15:18:23.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"5098-dusltcm+3iv8hJ5iBHgHFUXWzK8\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"46ms"},"msg":"","time":"2017-09-29T02:29:36.296Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2c5997a0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","method":"GET","originalUrl":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","params":{"0":"/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"W/\"883f-DJpk9hqb8/az7YnnqCtw6+LlBhc\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"8f2b-f7uBGbsRP6yE6MQTdQVeDDeHH2s\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"86ms"},"msg":"","time":"2017-09-29T02:30:35.377Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2c6900f0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/built/screen.css?v=b5301c75d8","method":"GET","originalUrl":"/assets/built/screen.css?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/css, */*","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"759e-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"759e-15ec766fb30\""},"statusCode":304,"responseTime":"3ms"},"msg":"","time":"2017-09-29T02:30:35.395Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2c6b4ae0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/public/ghost-sdk.min.js?v=b5301c75d8","method":"GET","originalUrl":"/public/ghost-sdk.min.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-none-match":"\"30c3227170bdaa36ca322470e2b77a33\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","content-type":"application/javascript","content-length":765,"etag":"\"30c3227170bdaa36ca322470e2b77a33\"","cache-control":"public, max-age=3600","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:30:35.408Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2c6de2f0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/--------.jpg","method":"GET","originalUrl":"/content/images/2017/09/--------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:33:23 GMT","if-none-match":"W/\"e957-15ec8b11b2b\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:33:23 GMT","etag":"W/\"e957-15ec8b11b2b\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:30:35.425Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2c6e3110-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/-------.jpg","method":"GET","originalUrl":"/content/images/2017/09/-------.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 13:34:45 GMT","if-none-match":"W/\"d3bc-15ec8b2597a\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 13:34:45 GMT","etag":"W/\"d3bc-15ec8b2597a\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:30:35.427Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2c7201a0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/ghost.png","method":"GET","originalUrl":"/content/images/2017/09/ghost.png","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 15:17:51 GMT","if-none-match":"W/\"37a86-15ec910bf89\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 15:17:51 GMT","etag":"W/\"37a86-15ec910bf89\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:30:35.452Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2c724fc0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/---.jpg","method":"GET","originalUrl":"/content/images/2017/09/---.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 08:33:32 GMT","if-none-match":"W/\"545b-15ec79e95e4\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:33:32 GMT","etag":"W/\"545b-15ec79e95e4\""},"statusCode":304,"responseTime":"0ms"},"msg":"","time":"2017-09-29T02:30:35.453Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"2cbb1890-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/assets/js/jquery.fitvids.js?v=b5301c75d8","method":"GET","originalUrl":"/assets/js/jquery.fitvids.js?v=b5301c75d8","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"application/javascript, */*;q=0.8","referer":"http://47.95.197.107/shi-yong-a-li-yun-fu-wu-qi-da-jian-ghost/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate","if-modified-since":"Thu, 28 Sep 2017 07:32:48 GMT","if-none-match":"W/\"d76-15ec766fb30\""},"body":{},"query":{"v":"b5301c75d8"}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 07:32:48 GMT","etag":"W/\"d76-15ec766fb30\""},"statusCode":304,"responseTime":"1ms"},"msg":"","time":"2017-09-29T02:30:35.931Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"33162400-a4be-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/?limit=30&page=1&status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"30","page":"1","status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"9f73-mREcsFvDbc/z6nAbn0GI21tIHjI\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"25ms"},"msg":"","time":"2017-09-29T02:30:46.618Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"33337000-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"statusCode":304,"responseTime":"24ms"},"msg":"","time":"2017-09-29T02:30:46.809Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"345d7110-a4be-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccb3a1a744810195a3dbfe/?status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","method":"GET","originalUrl":"/ghost/api/v0.1/posts/59ccb3a1a744810195a3dbfe/?status=all&staticPages=all&formats=mobiledoc%2Cplaintext&include=tags","params":{"id":"59ccb3a1a744810195a3dbfe"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"status":"all","staticPages":"all","formats":"mobiledoc,plaintext","include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"4eda-EU7bMnAGvale15LVnLFlGvpAW8k\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"24ms"},"msg":"","time":"2017-09-29T02:30:48.762Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3464c410-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/","method":"GET","originalUrl":"/","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","accept":"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN","if-none-match":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","etag":"W/\"20b1-qt7RHaZA7PxPQZjB5hbMY4mYxZU\""},"statusCode":304,"responseTime":"28ms"},"msg":"","time":"2017-09-29T02:30:48.814Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"34686d90-a4be-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/users/?limit=all&include=roles","method":"GET","originalUrl":"/ghost/api/v0.1/users/?limit=all&include=roles","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all","include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"887","etag":"W/\"377-wZ7lPvDvUvNsqzBsAazt8RbWO9w\"","vary":"Accept-Encoding"},"statusCode":200,"responseTime":"33ms"},"msg":"","time":"2017-09-29T02:30:48.843Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"346a4250-a4be-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/tags/?limit=all","method":"GET","originalUrl":"/ghost/api/v0.1/tags/?limit=all","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","x-requested-with":"XMLHttpRequest","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","x-ghost-version":"1.9","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{},"query":{"limit":"all"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","etag":"W/\"520-YgcdWaNwvap4C2937J2+86Q0fY8\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"28ms"},"msg":"","time":"2017-09-29T02:30:48.850Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3ae754b0-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/da-jian-shadowsocksfu-wu-qi/","method":"GET","originalUrl":"/da-jian-shadowsocksfu-wu-qi/","params":{"0":"/da-jian-shadowsocksfu-wu-qi/"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"text/html, application/xhtml+xml, image/jxr, */*","referer":"http://47.95.197.107/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"public, max-age=0","content-type":"text/html; charset=utf-8","etag":"W/\"689f-Nw3iGGkXcQcK7xcYa9dBxUTEwps\"","vary":"Accept-Encoding","content-encoding":"gzip"},"statusCode":200,"responseTime":"59ms"},"msg":"","time":"2017-09-29T02:30:59.767Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"3af27840-a4be-11e7-ad29-7b3837c864ae","userId":null},"url":"/2017/09/vultr.jpg","method":"GET","originalUrl":"/content/images/2017/09/vultr.jpg","params":{},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","accept":"image/png, image/svg+xml, image/jxr, image/*;q=0.8, */*;q=0.5","referer":"http://47.95.197.107/da-jian-shadowsocksfu-wu-qi/","accept-language":"zh-CN","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","accept-encoding":"gzip, deflate"},"body":{},"query":{}},"res":{"_headers":{"x-powered-by":"Express","accept-ranges":"bytes","cache-control":"public, max-age=31536000","last-modified":"Thu, 28 Sep 2017 08:49:09 GMT","etag":"W/\"c7bc-15ec7ace335\"","content-type":"image/jpeg","content-length":51132},"statusCode":200,"responseTime":"3ms"},"msg":"","time":"2017-09-29T02:30:59.784Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"5007f610-a4be-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccb3a1a744810195a3dbfe/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccb3a1a744810195a3dbfe/?include=tags","params":{"id":"59ccb3a1a744810195a3dbfe"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19706","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccb3a1a744810195a3dbfe","created_at":"2017-09-28T08:32:33.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/---.jpg","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"shadowsocks\\n# \\n1.\\n2.\\n3.shadowsocks\\n4.shadowsocks\\n5.shadowsocks\\n6.shadowsocks\\n7.windowsandroid\\n# \\n## \\n VPS [**Vultr**](http://https://www.vultr.com/) 5  PayPal \\n[**Vultr**](http://https://www.vultr.com/?ref=7219583)\\n 512M\\n              20G\\n             CPU 1\\n              500G\\n\\n![vultr](/content/images/2017/09/vultr.jpg)\\n## \\nsshXshellputtysshLinuxsshssh root@xx.xx.xx.xx\\\"xx.xx.xx.xx\\\"\\npasswd\\n## shadowsocks\\nshadowsocksshadowsocks Pythonshadowsocks libevshadowsocks goshadowsocksR\\n[**xyzardQ**](https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/)\\npython[****](https://teddysun.com/357.html)libevshadowsocks\\n\\n\\n```\\t\\n[root@localhost ~]# cat  /etc/shadowsocks.json\\n{\\n    \\\"server\\\":\\\"145.78.20.216\\\",\\n    \\\"port_password\\\":{\\n        \\\"9000\\\":\\\"MyPass1\\\",\\n        \\\"9001\\\":\\\"MyPass2\\\",\\n        \\\"9002\\\":\\\"MyPass3\\\"\\n    },\\n    \\\"local_address\\\":\\\"127.0.0.1\\\",\\n    \\\"local_port\\\":1080,\\n    \\\"timeout\\\":300,\\n    \\\"method\\\":\\\"rc4-md5\\\"\\n}\\n```\\n\\n[****](https://sikaixing.com/2016/03/06/ss_manyuser/)\\n### manyuser\\nshadowsocks manyusershadowsockshttps://github.com/mengskysama/shadowsocks/tree/manyuser\\n\\n\\n    ```\\n    git clone -b manyuser https://github.com/mengskysama/shadowsocks.git\\n    ```\\nmanyuser\\n/shadowsocks/shadowsockscd shadowsocks/shadowsocks\\n\\n### Mysql\\nmanyuserMysqlmysqlcentos7mariaDBmyspl\\n\\n    yum install mariadb-server mariadb\\n\\n\\n* \\n    ```\\n    systemctl start mariadb\\n    systemctl enable mariadb\\n    ```\\n* \\n    ```\\n    /usr/bin/mysql_secure_installation\\n    ```\\n* \\n    ```\\n    mysql -u root -p\\n    ```\\n* manyusershadowsocks\\n    ```\\n    create database shadowsocks\\n    ```\\n* \\n    ```\\n    use shadowsocks\\n    ```\\n* manyuser/shadowsocks/shadowsocks/shadowsocks.sql\\n    ```\\n    source /shadowsocks/shadowsocks/shadowsocks.sql\\n    ```\\n    user\\n    \\n* \\n    ```\\n    show tables\\n    ```\\n* \\n    ```\\n    select * from user\\n    ```\\n    \\n    \\n> passwd: server pass\\n> port: server port\\n> t: last keepalive time\\n> u: upload transfer\\n> d: download transer\\n> transfer_enable: if u + d > transfer_enable this server will be stop (db_transfer.py del_server_out_of_bound_safe)\\n\\n\\n* \\n    ```\\n    insert into user() values()\\n    ```\\n* \\n    ```\\n    update  set = where ;\\n    ```\\n* shadowsocks\\n    ```\\n    create user ssuser@localhost identified by 'passwd'\\n    ```\\n* \\n    ```\\n    grant all on shadowsocks.* to 'ssuser'@'localhost'\\n    ```\\n    \\n* \\n\\n### \\n\\n    yum install m2crypto\\n    pip install cymysql\\n    \\n\\n\\n\\n## shadowsocks\\n\\n[**xyzardQ**](https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/)\\n    \\n## shadowsocks\\n\\n\\n### config\\n    \\n    vi Config.py\\n    \\n    #Config Example\\n    MYSQL_HOST = 'localhost'\\n    MYSQL_PORT = 3306\\n    MYSQL_USER = 'ssuser'\\n    MYSQL_PASS = 'passwd'\\n    MYSQL_DB = 'shadowsocks'\\n    MANAGE_PASS = 'ss233333333'\\n    #if you want manage in other server you should set this value to global ip\\n    MANAGE_BIND_IP = '127.0.0.1'\\n    #make sure this port is idle\\n    MANAGE_PORT = 23333\\n\\n### \\n\\n\\n\\n    firewall-cmd --zone=public --add-port=50000/tcp --permanent\\n    firewall-cmd --reload\\n\\n### \\n\\n    python server.py\\n\\n\\n\\n\\n    nohup python server.py > /dev/null 2>&1 &\\n\\n\\n\\n    nohup python server.py &\\n\\n\\nmariadb:\\n\\n    systemctl enable mariadb\\n\\nmany-user:\\n\\n    cd /shadowsocks/shadowsocks/ \\n    #server.py\\n    python server.py --fast-open\\n    \\n\\n\\n## windowsandroid\\n\\n\\n### windows\\n\\n\\n\\nIPVPSIPVPSportpasswd*rc4-md5*\\n\\n[****](https://github.com/shadowsocks/shadowsocks-windows/releases)shadowsocks for windows\\n\\n\\n\\n###  Shadowsocks Android Android\\n\\n\\n\\nShadowsocks App sslocal.json  Android \\n\\nOS X  Windows iOS  App Store  Shadowsocks\\n\\nShadowsocks :\\n\\nhttps://shadowsocks.org/en/download/clients.html\\n\\n\\n# \\n\\n## shadowsocks\\n\\n[CentOSshadowsocks-libev](https://teddysun.com/357.html)\\n[Vultrshadowsocks, ipsec/StrongSwanipsec/ikev1](http://blog.csdn.net/yanzi1225627/article/details/50960669)\\n[Centos7shadowsocks](https://sikaixing.com/2016/03/06/ss_manyuser/)\\n[shadowsocks](https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/)\\n[ Shadowsocks  100% ](https://www.loyalsoldier.me/fuck-the-gfw-with-my-own-shadowsocks-server/)\\n[CentOS 6.6ShadowSocks](http://qing0991.blog.51cto.com/1640542/1649922)\\n\\n\\n## Mysql\\n[RHEL  CentOS 7  Apache, MariaDB, PHP(LAMP)](https://www.phpini.com/linux/redhat-centos-7-setup-apache-mariadb-php)\\n[21 MySQL ](http://www.cnblogs.com/mr-wid/archive/2013/05/09/3068229.html)\\n[mysqlsql](http://www.cnblogs.com/Dot-Boy/archive/2008/08/04/1260185.html)\\n[mysql ](http://www.111cn.net/database/mysql/46288.htm)\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"shadowsocks\n\n\n1.\n2.\n3.shadowsocks\n4.shadowsocks\n5.shadowsocks\n6.shadowsocks\n7.windowsandroid\n\n\n\n VPS Vultr [http://https://www.vultr.com/] 5  PayPal\n\nVultr [http://https://www.vultr.com/?ref=7219583]\n 512M\n 20G\nCPU 1\n 500G\n\n\n\n\nsshXshellputtysshLinuxsshssh\nroot@xx.xx.xx.xx\"xx.xx.xx.xx\"\npasswd\n\nshadowsocks\nshadowsocksshadowsocks Pythonshadowsocks libevshadowsocks\ngoshadowsocksR\n[xyzardQ](\nhttps://xyzardq.github.io/2017/03/07/shadowsocks/\n[https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/]\n)\npython\n[https://teddysun.com/357.html]libevshadowsocks\n\n\n\n[root@localhost ~]# cat  /etc/shadowsocks.json\n{\n    \"server\":\"145.78.20.216\",\n    \"port_password\":{\n        \"9000\":\"MyPass1\",\n        \"9001\":\"MyPass2\",\n        \"9002\":\"MyPass3\"\n    },\n    \"local_address\":\"127.0.0.1\",\n    \"local_port\":1080,\n    \"timeout\":300,\n    \"method\":\"rc4-md5\"\n}\n\n\n\n [https://sikaixing.com/2016/03/06/ss_manyuser/]\n\n\nmanyuser\nshadowsocks manyusershadowsocks\nhttps://github.com/mengskysama/shadowsocks/tree/manyuser\n\n\ngit clone -b manyuser https://github.com/mengskysama/shadowsocks.git\nmanyuser\n/shadowsocks/shadowsockscd shadowsocks/shadowsocks\n\nMysql\nmanyuserMysqlmysqlcentos7mariaDBmyspl\n\nyum install mariadb-server mariadb\n\n\n * \n   \n   systemctl start mariadb\n   systemctl enable mariadb\n   \n   \n   \n * \n   \n   /usr/bin/mysql_secure_installation\n   \n   \n   \n * \n   \n   mysql -u root -p\n   \n   \n   \n * manyusershadowsocks\n   \n   create database shadowsocks\n   \n   \n   \n * \n   \n   use shadowsocks\n   \n   \n   \n * manyuser/shadowsocks/shadowsocks/shadowsocks.sql\n   \n   source /shadowsocks/shadowsocks/shadowsocks.sql\n   \n   \n   user\n   \n   \n * \n   \n   show tables\n   \n   \n   \n * \n   \n   select * from user\n   \n   \n   \n   \n   \n\npasswd: server pass\nport: server port\nt: last keepalive time\nu: upload transfer\nd: download transer\ntransfer_enable: if u + d > transfer_enable this server will be stop\n(db_transfer.py del_server_out_of_bound_safe)\n\n * \n   \n   insert into user() values()\n   \n   \n   \n * \n   \n   update  set = where ;\n   \n   \n   \n * shadowsocks\n   \n   create user ssuser@localhost identified by 'passwd'\n   \n   \n   \n * \n   \n   grant all on shadowsocks.* to 'ssuser'@'localhost'\n   \n   \n   \n * \n   \n   \n\n\nyum install m2crypto\npip install cymysql\n\n\nshadowsocks\n[xyzardQ](\nhttps://xyzardq.github.io/2017/03/07/shadowsocks/\n[https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/]\n)\n\nshadowsocks\nconfig\nvi Config.py\n\n#Config Example\nMYSQL_HOST = 'localhost'\nMYSQL_PORT = 3306\nMYSQL_USER = 'ssuser'\nMYSQL_PASS = 'passwd'\nMYSQL_DB = 'shadowsocks'\nMANAGE_PASS = 'ss233333333'\n#if you want manage in other server you should set this value to global ip\nMANAGE_BIND_IP = '127.0.0.1'\n#make sure this port is idle\nMANAGE_PORT = 23333\n\n\n\n\n\nfirewall-cmd --zone=public --add-port=50000/tcp --permanent\nfirewall-cmd --reload\n\n\n\npython server.py\n\n\n\n\n\nnohup python server.py > /dev/null 2>&1 &\n\n\n\n\nnohup python server.py &\n\n\n\nmariadb:\n\nsystemctl enable mariadb\n\n\nmany-user:\n\ncd /shadowsocks/shadowsocks/ \n#server.py\npython server.py --fast-open\n\n\nwindowsandroid\nwindows\nIPVPSIPVPSportpasswdrc4-md5\n\n\n [https://github.com/shadowsocks/shadowsocks-windows/releases]shadowsocks\nfor windows\n\n Shadowsocks Android Android\nShadowsocks App sslocal.json \nAndroid \n\nOS X  Windows iOS  App Store  Shadowsocks\n\nShadowsocks :\n\nhttps://shadowsocks.org/en/download/clients.html\n\n\nshadowsocks\nCentOSshadowsocks-libev [https://teddysun.com/357.html]\nVultrshadowsocks, ipsec/StrongSwanipsec/ikev1\n[http://blog.csdn.net/yanzi1225627/article/details/50960669]\nCentos7shadowsocks\n[https://sikaixing.com/2016/03/06/ss_manyuser/]\nshadowsocks\n[https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/]\n Shadowsocks  100% \n[https://www.loyalsoldier.me/fuck-the-gfw-with-my-own-shadowsocks-server/]\nCentOS 6.6ShadowSocks [http://qing0991.blog.51cto.com/1640542/1649922]\n\nMysql\nRHEL  CentOS 7  Apache, MariaDB, PHP(LAMP)\n[https://www.phpini.com/linux/redhat-centos-7-setup-apache-mariadb-php]\n21 MySQL \n[http://www.cnblogs.com/mr-wid/archive/2013/05/09/3068229.html]\nmysqlsql [http://www.cnblogs.com/Dot-Boy/archive/2008/08/04/1260185.html]\nmysql  [http://www.111cn.net/database/mysql/46288.htm]","published_at":"2017-09-28T12:43:02.000Z","slug":"da-jian-shadowsocksfu-wu-qi","status":"published","title":"Shadowsocks","updated_at":"2017-09-28T13:13:57.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dbff","name":"","slug":"wang-luo","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"3133-sDMkR+UT6tGmqlKiwj/b6q+aOAs\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"74ms"},"msg":"","time":"2017-09-29T02:31:35.231Z","v":0}
{"name":"Log","hostname":"RP","pid":405,"level":30,"req":{"meta":{"requestId":"51751aa0-a4be-11e7-ad29-7b3837c864ae","userId":"1"},"url":"/posts/59ccb3a1a744810195a3dbfe/?include=tags","method":"PUT","originalUrl":"/ghost/api/v0.1/posts/59ccb3a1a744810195a3dbfe/?include=tags","params":{"id":"59ccb3a1a744810195a3dbfe"},"headers":{"x-forwarded-for":"219.239.227.234","x-real-ip":"219.239.227.234","host":"47.95.197.107","x-forwarded-proto":"http","connection":"close","content-length":"19706","origin":"http://47.95.197.107","app-pragma":"no-cache","content-type":"application/json; charset=UTF-8","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"1.9","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) ghost-desktop/1.4.0 Chrome/58.0.3029.110 Electron/1.7.6 Safari/537.36","referer":"http://47.95.197.107/ghost/","accept-encoding":"gzip, deflate","accept-language":"zh-CN"},"body":{"posts":{"0":{"id":"59ccb3a1a744810195a3dbfe","created_at":"2017-09-28T08:32:33.000Z","created_by":"1","featured":false,"feature_image":"/content/images/2017/09/---.jpg","codeinjection_foot":"","codeinjection_head":"","mobiledoc":"{\"version\":\"0.3.1\",\"markups\":[],\"atoms\":[],\"cards\":[[\"card-markdown\",{\"cardName\":\"card-markdown\",\"markdown\":\"shadowsocks\\n# \\n1.\\n2.\\n3.shadowsocks\\n4.shadowsocks\\n5.shadowsocks\\n6.shadowsocks\\n7.windowsandroid\\n# \\n## \\n VPS [**Vultr**](http://https://www.vultr.com/) 5  PayPal \\n[**Vultr**](http://https://www.vultr.com/?ref=7219583)\\n 512M\\n              20G\\n             CPU 1\\n              500G\\n\\n![vultr](/content/images/2017/09/vultr.jpg)\\n## \\nsshXshellputtysshLinuxsshssh root@xx.xx.xx.xx\\\"xx.xx.xx.xx\\\"\\npasswd\\n## shadowsocks\\nshadowsocksshadowsocks Pythonshadowsocks libevshadowsocks goshadowsocksR\\n[**xyzardQ**](https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/)\\npython[****](https://teddysun.com/357.html)libevshadowsocks\\n\\n\\n```\\t\\n[root@localhost ~]# cat  /etc/shadowsocks.json\\n{\\n    \\\"server\\\":\\\"145.78.20.216\\\",\\n    \\\"port_password\\\":{\\n        \\\"9000\\\":\\\"MyPass1\\\",\\n        \\\"9001\\\":\\\"MyPass2\\\",\\n        \\\"9002\\\":\\\"MyPass3\\\"\\n    },\\n    \\\"local_address\\\":\\\"127.0.0.1\\\",\\n    \\\"local_port\\\":1080,\\n    \\\"timeout\\\":300,\\n    \\\"method\\\":\\\"rc4-md5\\\"\\n}\\n```\\n\\n[****](https://sikaixing.com/2016/03/06/ss_manyuser/)\\n### manyuser\\nshadowsocks manyusershadowsockshttps://github.com/mengskysama/shadowsocks/tree/manyuser\\n\\n\\n    ```\\n    git clone -b manyuser https://github.com/mengskysama/shadowsocks.git\\n    ```\\nmanyuser\\n/shadowsocks/shadowsockscd shadowsocks/shadowsocks\\n\\n### Mysql\\nmanyuserMysqlmysqlcentos7mariaDBmyspl\\n\\n    yum install mariadb-server mariadb\\n\\n\\n* \\n    ```\\n    systemctl start mariadb\\n    systemctl enable mariadb\\n    ```\\n* \\n    ```\\n    /usr/bin/mysql_secure_installation\\n    ```\\n* \\n    ```\\n    mysql -u root -p\\n    ```\\n* manyusershadowsocks\\n    ```\\n    create database shadowsocks\\n    ```\\n* \\n    ```\\n    use shadowsocks\\n    ```\\n* manyuser/shadowsocks/shadowsocks/shadowsocks.sql\\n    ```\\n    source /shadowsocks/shadowsocks/shadowsocks.sql\\n    ```\\n    user\\n    \\n* \\n    ```\\n    show tables\\n    ```\\n* \\n    ```\\n    select * from user\\n    ```\\n    \\n    \\n> passwd: server pass\\n> port: server port\\n> t: last keepalive time\\n> u: upload transfer\\n> d: download transer\\n> transfer_enable: if u + d > transfer_enable this server will be stop (db_transfer.py del_server_out_of_bound_safe)\\n\\n\\n* \\n    ```\\n    insert into user() values()\\n    ```\\n* \\n    ```\\n    update  set = where ;\\n    ```\\n* shadowsocks\\n    ```\\n    create user ssuser@localhost identified by 'passwd'\\n    ```\\n* \\n    ```\\n    grant all on shadowsocks.* to 'ssuser'@'localhost'\\n    ```\\n    \\n* \\n\\n### \\n\\n    yum install m2crypto\\n    pip install cymysql\\n    \\n\\n\\n\\n## shadowsocks\\n\\n[**xyzardQ**](https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/)\\n    \\n## shadowsocks\\n\\n\\n### config\\n    \\n    vi Config.py\\n    \\n    #Config Example\\n    MYSQL_HOST = 'localhost'\\n    MYSQL_PORT = 3306\\n    MYSQL_USER = 'ssuser'\\n    MYSQL_PASS = 'passwd'\\n    MYSQL_DB = 'shadowsocks'\\n    MANAGE_PASS = 'ss233333333'\\n    #if you want manage in other server you should set this value to global ip\\n    MANAGE_BIND_IP = '127.0.0.1'\\n    #make sure this port is idle\\n    MANAGE_PORT = 23333\\n\\n### \\n\\n\\n\\n    firewall-cmd --zone=public --add-port=50000/tcp --permanent\\n    firewall-cmd --reload\\n\\n### \\n\\n    python server.py\\n\\n\\n\\n\\n    nohup python server.py > /dev/null 2>&1 &\\n\\n\\n\\n    nohup python server.py &\\n\\n\\nmariadb:\\n\\n    systemctl enable mariadb\\n\\nmany-user:\\n\\n    cd /shadowsocks/shadowsocks/ \\n    #server.py\\n    python server.py --fast-open\\n    \\n\\n\\n## windowsandroid\\n\\n\\n### windows\\n\\n\\n\\nIPVPSIPVPSportpasswd*rc4-md5*\\n\\n[****](https://github.com/shadowsocks/shadowsocks-windows/releases)shadowsocks for windows\\n\\n\\n\\n###  Shadowsocks Android Android\\n\\n\\n\\nShadowsocks App sslocal.json  Android \\n\\nOS X  Windows iOS  App Store  Shadowsocks\\n\\nShadowsocks :\\n\\nhttps://shadowsocks.org/en/download/clients.html\\n\\n\\n# \\n\\n## shadowsocks\\n\\n[CentOSshadowsocks-libev](https://teddysun.com/357.html)\\n[Vultrshadowsocks, ipsec/StrongSwanipsec/ikev1](http://blog.csdn.net/yanzi1225627/article/details/50960669)\\n[Centos7shadowsocks](https://sikaixing.com/2016/03/06/ss_manyuser/)\\n[shadowsocks](https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/)\\n[ Shadowsocks  100% ](https://www.loyalsoldier.me/fuck-the-gfw-with-my-own-shadowsocks-server/)\\n[CentOS 6.6ShadowSocks](http://qing0991.blog.51cto.com/1640542/1649922)\\n\\n\\n## Mysql\\n[RHEL  CentOS 7  Apache, MariaDB, PHP(LAMP)](https://www.phpini.com/linux/redhat-centos-7-setup-apache-mariadb-php)\\n[21 MySQL ](http://www.cnblogs.com/mr-wid/archive/2013/05/09/3068229.html)\\n[mysqlsql](http://www.cnblogs.com/Dot-Boy/archive/2008/08/04/1260185.html)\\n[mysql ](http://www.111cn.net/database/mysql/46288.htm)\"}]],\"sections\":[[10,0]]}","page":false,"plaintext":"shadowsocks\n\n\n1.\n2.\n3.shadowsocks\n4.shadowsocks\n5.shadowsocks\n6.shadowsocks\n7.windowsandroid\n\n\n\n VPS Vultr [http://https://www.vultr.com/] 5  PayPal\n\nVultr [http://https://www.vultr.com/?ref=7219583]\n 512M\n 20G\nCPU 1\n 500G\n\n\n\n\nsshXshellputtysshLinuxsshssh\nroot@xx.xx.xx.xx\"xx.xx.xx.xx\"\npasswd\n\nshadowsocks\nshadowsocksshadowsocks Pythonshadowsocks libevshadowsocks\ngoshadowsocksR\n[xyzardQ](\nhttps://xyzardq.github.io/2017/03/07/shadowsocks/\n[https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/]\n)\npython\n[https://teddysun.com/357.html]libevshadowsocks\n\n\n\n[root@localhost ~]# cat  /etc/shadowsocks.json\n{\n    \"server\":\"145.78.20.216\",\n    \"port_password\":{\n        \"9000\":\"MyPass1\",\n        \"9001\":\"MyPass2\",\n        \"9002\":\"MyPass3\"\n    },\n    \"local_address\":\"127.0.0.1\",\n    \"local_port\":1080,\n    \"timeout\":300,\n    \"method\":\"rc4-md5\"\n}\n\n\n\n [https://sikaixing.com/2016/03/06/ss_manyuser/]\n\n\nmanyuser\nshadowsocks manyusershadowsocks\nhttps://github.com/mengskysama/shadowsocks/tree/manyuser\n\n\ngit clone -b manyuser https://github.com/mengskysama/shadowsocks.git\nmanyuser\n/shadowsocks/shadowsockscd shadowsocks/shadowsocks\n\nMysql\nmanyuserMysqlmysqlcentos7mariaDBmyspl\n\nyum install mariadb-server mariadb\n\n\n * \n   \n   systemctl start mariadb\n   systemctl enable mariadb\n   \n   \n   \n * \n   \n   /usr/bin/mysql_secure_installation\n   \n   \n   \n * \n   \n   mysql -u root -p\n   \n   \n   \n * manyusershadowsocks\n   \n   create database shadowsocks\n   \n   \n   \n * \n   \n   use shadowsocks\n   \n   \n   \n * manyuser/shadowsocks/shadowsocks/shadowsocks.sql\n   \n   source /shadowsocks/shadowsocks/shadowsocks.sql\n   \n   \n   user\n   \n   \n * \n   \n   show tables\n   \n   \n   \n * \n   \n   select * from user\n   \n   \n   \n   \n   \n\npasswd: server pass\nport: server port\nt: last keepalive time\nu: upload transfer\nd: download transer\ntransfer_enable: if u + d > transfer_enable this server will be stop\n(db_transfer.py del_server_out_of_bound_safe)\n\n * \n   \n   insert into user() values()\n   \n   \n   \n * \n   \n   update  set = where ;\n   \n   \n   \n * shadowsocks\n   \n   create user ssuser@localhost identified by 'passwd'\n   \n   \n   \n * \n   \n   grant all on shadowsocks.* to 'ssuser'@'localhost'\n   \n   \n   \n * \n   \n   \n\n\nyum install m2crypto\npip install cymysql\n\n\nshadowsocks\n[xyzardQ](\nhttps://xyzardq.github.io/2017/03/07/shadowsocks/\n[https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/]\n)\n\nshadowsocks\nconfig\nvi Config.py\n\n#Config Example\nMYSQL_HOST = 'localhost'\nMYSQL_PORT = 3306\nMYSQL_USER = 'ssuser'\nMYSQL_PASS = 'passwd'\nMYSQL_DB = 'shadowsocks'\nMANAGE_PASS = 'ss233333333'\n#if you want manage in other server you should set this value to global ip\nMANAGE_BIND_IP = '127.0.0.1'\n#make sure this port is idle\nMANAGE_PORT = 23333\n\n\n\n\n\nfirewall-cmd --zone=public --add-port=50000/tcp --permanent\nfirewall-cmd --reload\n\n\n\npython server.py\n\n\n\n\n\nnohup python server.py > /dev/null 2>&1 &\n\n\n\n\nnohup python server.py &\n\n\n\nmariadb:\n\nsystemctl enable mariadb\n\n\nmany-user:\n\ncd /shadowsocks/shadowsocks/ \n#server.py\npython server.py --fast-open\n\n\nwindowsandroid\nwindows\nIPVPSIPVPSportpasswdrc4-md5\n\n\n [https://github.com/shadowsocks/shadowsocks-windows/releases]shadowsocks\nfor windows\n\n Shadowsocks Android Android\nShadowsocks App sslocal.json \nAndroid \n\nOS X  Windows iOS  App Store  Shadowsocks\n\nShadowsocks :\n\nhttps://shadowsocks.org/en/download/clients.html\n\n\nshadowsocks\nCentOSshadowsocks-libev [https://teddysun.com/357.html]\nVultrshadowsocks, ipsec/StrongSwanipsec/ikev1\n[http://blog.csdn.net/yanzi1225627/article/details/50960669]\nCentos7shadowsocks\n[https://sikaixing.com/2016/03/06/ss_manyuser/]\nshadowsocks\n[https://xyzardq.github.io/2017/03/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BAshadowsocks%E5%8F%8A%E4%BC%98%E5%8C%96/]\n Shadowsocks  100% \n[https://www.loyalsoldier.me/fuck-the-gfw-with-my-own-shadowsocks-server/]\nCentOS 6.6ShadowSocks [http://qing0991.blog.51cto.com/1640542/1649922]\n\nMysql\nRHEL  CentOS 7  Apache, MariaDB, PHP(LAMP)\n[https://www.phpini.com/linux/redhat-centos-7-setup-apache-mariadb-php]\n21 MySQL \n[http://www.cnblogs.com/mr-wid/archive/2013/05/09/3068229.html]\nmysqlsql [http://www.cnblogs.com/Dot-Boy/archive/2008/08/04/1260185.html]\nmysql  [http://www.111cn.net/database/mysql/46288.htm]","published_at":"2017-09-28T12:43:02.000Z","slug":"da-jian-shadowsocksfu-wu-qi","status":"published","title":"Shadowsocks","updated_at":"2017-09-29T02:31:35.000Z","updated_by":"1","tags":{"0":{"id":"59ccb425a744810195a3dbff","name":"","slug":"wang-luo","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"},"1":{"id":"59ccb425a744810195a3dc01","name":"","slug":"ji-zhu","description":null,"parent":null,"meta_title":null,"meta_description":null,"feature_image":null,"visibility":"public","created_at":"2017-09-28T08:34:45.000Z","updated_at":"2017-09-28T08:34:45.000Z","created_by":"1","updated_by":"1"}},"author_id":"1"}}},"query":{"include":"tags"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","access-control-allow-origin":"http://47.95.197.107","vary":"Origin, Accept-Encoding","x-cache-invalidate":"/*","content-type":"application/json; charset=utf-8","etag":"W/\"3133-FrUL7NW50a+wytztBSfqt8X8R/0\"","content-encoding":"gzip"},"statusCode":200,"responseTime":"40ms"},"msg":"","time":"2017-09-29T02:31:37.590Z","v":0}
